import{F as ke,r as l,j as e,H as Ae,I as Se,J as ve,_ as Ie,K as Te,L as Fe}from"./vendor-9YSEYA7u.js";import{S as je,R as Pe,I as Me,F as De,a as Ee,T as ze,b as Re,c as Le,d as Ge,e as Oe,f as Be,V as Ue,C as Ve,g as We,h as $e,i as He,L as _e,j as qe,k as Je,l as Ke,m as Xe,n as Ye,o as Ze,P as Qe,O as et,p as tt,q as st}from"./radix-CUlMU1ag.js";import{B as q,Z as X,S as at,U as rt,L as it,a as de,F as nt,b as me,C as lt,T as ot,M as ee,V as ct,c as pe,d as dt,P as mt,e as Y,f as xt,g as ut,h as ht,i as oe,j as pt,k as W,l as ft,D as gt,m as xe,n as bt,o as Z,X as Q,p as vt,q as J,A as jt,r as ae,s as yt,Q as wt,t as Nt,u as Ct,v as kt,G as At,w as fe}from"./icons-DAl7bJ5d.js";import{m as h,A as B,u as St,a as ge,b as K}from"./motion-Dqi0xs7K.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const $={},It=($==null?void 0:$.VITE_SUPABASE_URL)||"https://wgofqkisiqkygpnliuwl.supabase.co",Tt=($==null?void 0:$.VITE_SUPABASE_ANON_KEY)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indnb2Zxa2lzaXFreWdwbmxpdXdsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4ODE4MzEsImV4cCI6MjA3MzQ1NzgzMX0.DcqJ7XNAkMiOT-3Vnlmvua84wNqahgfd3JQ9wpTW-yg",H=ke(It,Tt),ye=l.createContext(void 0);function Ft({children:s}){const[t,a]=l.useState(null),[i,r]=l.useState(null),[o,c]=l.useState(!0);l.useEffect(()=>{H.auth.getSession().then(({data:{session:x}})=>{r(x),a((x==null?void 0:x.user)||null),c(!1)});const{data:v}=H.auth.onAuthStateChange((x,y)=>{r(y),a((y==null?void 0:y.user)||null),c(!1)});return()=>{v.subscription.unsubscribe()}},[]);const m={user:t,session:i,loading:o,signInWithOAuth:async v=>{await H.auth.signInWithOAuth({provider:v,options:{redirectTo:`${window.location.origin}`}})},signInWithEmail:async(v,x)=>{const{error:y}=await H.auth.signInWithPassword({email:v,password:x});if(y)throw y},signOut:async()=>{await H.auth.signOut()}};return e.jsx(ye.Provider,{value:m,children:s})}function ue(){const s=l.useContext(ye);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const we=l.createContext(void 0);function Pt({children:s}){const t=l.useRef(null),a=l.useRef(null),[i,r]=l.useState(!1),[o,c]=l.useState(0),[n,b]=l.useState(0),[d,m]=l.useState(.8),v=l.useCallback(()=>{if(a.current!=null)return;const u=()=>{const j=t.current;j&&c(j.currentTime||0),a.current=requestAnimationFrame(u)};a.current=requestAnimationFrame(u)},[]),x=l.useCallback(()=>{a.current!=null&&(cancelAnimationFrame(a.current),a.current=null)},[]);l.useEffect(()=>{const u=new Audio;u.preload="metadata",u.crossOrigin="anonymous",u.volume=d;const j=()=>b(Number.isFinite(u.duration)?u.duration:0),O=()=>b(Number.isFinite(u.duration)?u.duration:0),E=()=>{r(!1),c(0),x()},g=()=>{r(!0),v()},A=()=>{r(!1),x(),c(u.currentTime||0)},F=()=>{console.error("Audio error",u.error),r(!1),x()};return u.addEventListener("loadedmetadata",j),u.addEventListener("durationchange",O),u.addEventListener("ended",E),u.addEventListener("play",g),u.addEventListener("pause",A),u.addEventListener("error",F),t.current=u,()=>{u.pause(),x(),u.src="",u.load(),u.removeEventListener("loadedmetadata",j),u.removeEventListener("durationchange",O),u.removeEventListener("ended",E),u.removeEventListener("play",g),u.removeEventListener("pause",A),u.removeEventListener("error",F),t.current=null}},[v,x,d]);const y=l.useCallback(()=>{const u=t.current;u&&u.play().then(()=>{}).catch(j=>{console.warn("play() rejected:",(j==null?void 0:j.message)||j),r(!1)})},[]),f=l.useCallback(()=>{const u=t.current;u&&u.pause()},[]),w=l.useCallback(()=>{const u=t.current;u&&(u.pause(),u.currentTime=0,c(0),r(!1),x())},[x]),N=l.useCallback(u=>{const j=Math.min(1,Math.max(0,u));m(j),t.current&&(t.current.volume=j)},[]),P=l.useCallback(u=>{const j=t.current;j&&(x(),r(!1),c(0),b(0),j.src=u,j.load())},[x]),p=l.useCallback(u=>{const j=t.current;if(!j)return;const O=Number.isFinite(j.duration)?j.duration:0,E=O>0?Math.min(Math.max(u,0),O):Math.max(u,0);j.currentTime=E,c(E)},[]),C=l.useMemo(()=>({isPlaying:i,currentTime:o,duration:n,volume:d,play:y,pause:f,stop:w,setVolume:N,loadAudio:P,seekTo:p}),[i,o,n,d,y,f,w,N,P,p]);return e.jsx(we.Provider,{value:C,children:s})}function Mt(){const s=l.useContext(we);if(s===void 0)throw new Error("useAudioEngine must be used within an AudioEngineProvider");return s}function k(...s){return Ae(Se(s))}const Dt=ve("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function T({className:s,variant:t,size:a,asChild:i=!1,...r}){const o=i?je:"button";return e.jsx(o,{"data-slot":"button",className:k(Dt({variant:t,size:a,className:s})),...r})}const Et=ve("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function M({className:s,variant:t,asChild:a=!1,...i}){const r=a?je:"span";return e.jsx(r,{"data-slot":"badge",className:k(Et({variant:t}),s),...i})}function zt({className:s,...t}){return e.jsx(Pe,{"data-slot":"avatar",className:k("relative flex size-10 shrink-0 overflow-hidden rounded-full",s),...t})}function Rt({className:s,...t}){return e.jsx(Me,{"data-slot":"avatar-image",className:k("aspect-square size-full",s),...t})}function Lt({className:s,...t}){return e.jsx(De,{"data-slot":"avatar-fallback",className:k("bg-muted flex size-full items-center justify-center rounded-full",s),...t})}function Gt({onShowSubscription:s}){var i,r;const{user:t,signOut:a}=ue();return e.jsxs("header",{className:"h-16 border-b border-purple-800/30 bg-black/20 backdrop-blur-sm px-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-pink-400 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"ChordCraft Studio"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{variant:"secondary",className:"bg-purple-600/20 text-purple-300 border-purple-500/30",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"AI-Powered"]}),e.jsx(M,{variant:"outline",className:"bg-gradient-to-r from-yellow-400/10 to-yellow-600/10 text-yellow-400 border-yellow-500/30",children:"PRO User"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:s,className:"bg-gradient-to-r from-purple-600 to-pink-600 border-none text-white hover:from-purple-700 hover:to-pink-700",children:"Upgrade to PRO"}),e.jsx(T,{variant:"ghost",size:"sm",children:e.jsx(at,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(zt,{className:"w-8 h-8",children:[e.jsx(Rt,{src:(i=t==null?void 0:t.user_metadata)==null?void 0:i.avatar_url}),e.jsx(Lt,{className:"bg-purple-600",children:e.jsx(rt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"text-sm",children:e.jsx("div",{className:"text-slate-200 font-medium",children:((r=t==null?void 0:t.user_metadata)==null?void 0:r.full_name)||(t==null?void 0:t.email)||"User"})}),e.jsx(T,{variant:"ghost",size:"sm",onClick:a,className:"text-slate-400 hover:text-slate-200",children:e.jsx(it,{className:"w-4 h-4"})})]})]})]})}function L({hapticType:s="light",onClick:t,className:a,children:i,...r}){const o=()=>{if(navigator.vibrate)switch(s){case"light":navigator.vibrate(10);break;case"medium":navigator.vibrate(20);break;case"heavy":navigator.vibrate([30,10,30]);break;case"selection":navigator.vibrate(5);break}},c=n=>{o(),t==null||t(n)};return e.jsx(T,{...r,onClick:c,className:k("transition-all duration-200 active:scale-95 hover:shadow-lg","active:shadow-inner active:brightness-90",a),children:i})}function Ot({className:s,defaultValue:t,value:a,min:i=0,max:r=100,...o}){const c=l.useMemo(()=>Array.isArray(a)?a:Array.isArray(t)?t:[i,r],[a,t,i,r]);return e.jsxs(Ee,{"data-slot":"slider",defaultValue:t,value:a,min:i,max:r,className:k("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",s),...o,children:[e.jsx(ze,{"data-slot":"slider-track",className:k("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(Re,{"data-slot":"slider-range",className:k("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(n,b)=>e.jsx(Le,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},b))]})}function Ne({onValueChange:s,className:t,...a}){const i=r=>{navigator.vibrate&&navigator.vibrate(3),s==null||s(r)};return e.jsx(Ot,{...a,onValueChange:i,className:k("transition-all duration-200","[&>span[role=slider]]:transition-all [&>span[role=slider]]:duration-200","[&>span[role=slider]]:hover:scale-105 [&>span[role=slider]]:active:scale-110","[&>span[role=slider]]:hover:shadow-lg [&>span[role=slider]]:active:shadow-xl",t)})}function S({className:s,...t}){return e.jsx("div",{"data-slot":"card",className:k("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...t})}function z({className:s,...t}){return e.jsx("div",{"data-slot":"card-header",className:k("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function R({className:s,...t}){return e.jsx("h4",{"data-slot":"card-title",className:k("leading-none",s),...t})}function I({className:s,...t}){return e.jsx("div",{"data-slot":"card-content",className:k("px-6 [&:last-child]:pb-6",s),...t})}function _({className:s,value:t,...a}){return e.jsx(Ge,{"data-slot":"progress",className:k("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...a,children:e.jsx(Oe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}class Bt{constructor(){this.audioContext=null,typeof window<"u"&&(this.audioContext=new(window.AudioContext||window.webkitAudioContext))}async parseChordCraftCode(t){t.split(`
`);const a=t.match(/meta:\s*\{\s*bpm:\s*(\d+),\s*key:\s*"([^"]+)",\s*time:\s*"([^"]+)"\s*\}/);if(!a)throw new Error("Invalid metadata format");const i={bpm:parseInt(a[1]),key:a[2],time:a[3]},r=t.match(/chords:\s*([^}]+)/),o=r?r[1].trim():"| N | N | N | N |",c=t.match(/audio:\s*\{([^}]+)\}/);let n;if(c){const x=c[1],y=x.match(/format:\s*"([^"]+)"/),f=x.match(/sr:\s*(\d+)/),w=x.match(/channels:\s*(\d+)/),N=x.match(/sha256:\s*"([^"]+)"/),P=x.match(/chunks:\s*(\d+)/),p=x.match(/chunk_size:\s*(\d+)/);n={format:(y==null?void 0:y[1])||"flac",sampleRate:parseInt((f==null?void 0:f[1])||"44100"),channels:parseInt((w==null?void 0:w[1])||"2"),sha256:N==null?void 0:N[1],chunks:parseInt((P==null?void 0:P[1])||"0"),chunkSize:parseInt((p==null?void 0:p[1])||"65536")}}const b=t.match(/neural:\s*\{([^}]+)\}/);let d;if(b){const x=b[1];x.match(/format:\s*"([^"]+)"/);const y=x.match(/model:\s*"([^"]+)"/),f=x.match(/tokens:\s*(\d+)/),w=x.match(/compression_ratio:\s*([\d.]+)/);d={format:"neural_codec",sampleRate:24e3,channels:1,model:y==null?void 0:y[1],tokens:parseInt((f==null?void 0:f[1])||"0"),compressionRatio:parseFloat((w==null?void 0:w[1])||"0")}}let m;(n==null?void 0:n.format)==="flac"&&n.chunks&&(m=await this.extractFlacData(t,n));let v;if(d){const x=t.match(/<<NEURAL_TOKENS>>\s*(\[.*?\])/s);if(x)try{v=JSON.parse(x[1])}catch(y){console.warn("Failed to parse neural tokens:",y)}}return{meta:i,analysis:{chords:o},audio:n,neural:d,flacData:m,neuralTokens:v}}async extractFlacData(t,a){const i=[];for(let n=1;n<=(a.chunks||0);n++){const d=new RegExp(`<<PAYLOAD:FLAC:${n}>>\\s*([\\s\\S]*?)(?=<<PAYLOAD:FLAC:|\\n\\})`,"g").exec(t);d&&(i[n-1]=d[1].replace(/\s+/g,""))}const r=i.join(""),o=atob(r),c=new Uint8Array(o.length);for(let n=0;n<o.length;n++)c[n]=o.charCodeAt(n);if(a.sha256&&typeof crypto<"u"&&crypto.subtle){const n=await crypto.subtle.digest("SHA-256",c);if(Array.from(new Uint8Array(n)).map(m=>m.toString(16).padStart(2,"0")).join("")!==a.sha256)throw new Error("Checksum mismatch - audio data may be corrupted")}return c.buffer}async playAudio(t){if(!this.audioContext)throw new Error("AudioContext not available");let a;if(t.flacData)try{a=await this.decodeFlac(t.flacData)}catch(r){console.warn("FLAC decode failed, falling back to neural:",r),a=await this.decodeNeural(t.neuralTokens||[])}else t.neuralTokens?a=await this.decodeNeural(t.neuralTokens):a=await this.synthesizeFromMetadata(t.meta);const i=this.audioContext.createBufferSource();return i.buffer=a,i.connect(this.audioContext.destination),i.start(),i}async decodeFlac(t){if(!this.audioContext)throw new Error("AudioContext not available");try{return await this.audioContext.decodeAudioData(t.slice(0))}catch{}try{const{createFFmpeg:a,fetchFile:i}=await Ie(async()=>{const{createFFmpeg:c,fetchFile:n}=await import("./vendor-9YSEYA7u.js").then(b=>b.M);return{createFFmpeg:c,fetchFile:n}},[]),r=a({log:!1,corePath:"/node_modules/@ffmpeg/core/dist/ffmpeg-core.js"});r.isLoaded()||(console.log("Loading ffmpeg.wasm for FLAC decoding..."),await r.load()),r.FS("writeFile","in.flac",new Uint8Array(t)),await r.run("-i","in.flac","-f","wav","out.wav");const o=r.FS("readFile","out.wav");return r.FS("unlink","in.flac"),r.FS("unlink","out.wav"),await this.audioContext.decodeAudioData(o.buffer)}catch(a){throw console.error("ffmpeg.wasm FLAC decode failed:",a),new Error("FLAC decoding failed - please use WAV format or neural codec")}}async decodeNeural(t){if(!this.audioContext)throw new Error("AudioContext not available");console.log("Decoding neural tokens (placeholder implementation)");const a=24e3,i=t.length/100,r=this.audioContext.createBuffer(1,a*i,a),o=r.getChannelData(0);for(let c=0;c<o.length;c++){const n=Math.floor(c/o.length*t.length),b=t[n]||0;o[c]=b/1e3*.1}return r}async synthesizeFromMetadata(t){if(!this.audioContext)throw new Error("AudioContext not available");const a=44100,r=this.audioContext.createBuffer(1,a*4,a),o=r.getChannelData(0),c=440;for(let n=0;n<o.length;n++){const b=n/a;o[n]=Math.sin(2*Math.PI*c*b)*.1}return r}getPlaybackStrategy(t){return t.flacData?"lossless":t.neuralTokens?"neural":"synthetic"}async verifyChecksum(t){var a,i;if(!t.flacData||!((a=t.audio)!=null&&a.sha256))return{valid:!1,hash:"",expected:((i=t.audio)==null?void 0:i.sha256)||""};if(typeof crypto>"u"||!crypto.subtle)return{valid:!1,hash:"",expected:t.audio.sha256};try{const r=await crypto.subtle.digest("SHA-256",t.flacData),c=Array.from(new Uint8Array(r)).map(n=>n.toString(16).padStart(2,"0")).join("");return{valid:c===t.audio.sha256,hash:c,expected:t.audio.sha256}}catch(r){return console.error("Checksum verification failed:",r),{valid:!1,hash:"",expected:t.audio.sha256}}}getSizeEstimate(t){const a=t.flacData?t.flacData.byteLength:0,i=t.neuralTokens?t.neuralTokens.length*2:0,r=a+i;return{lossless:a,neural:i,total:r}}}const re=new Bt,ie={};function Ut({onUpload:s}){const[t,a]=l.useState(!1),[i,r]=l.useState(!1),[o,c]=l.useState(0),[n,b]=l.useState(null),d=l.useRef(null),m=(ie==null?void 0:ie.VITE_BACKEND_URL)||"http://127.0.0.1:5000",v=p=>["audio/mpeg","audio/wav","audio/ogg","audio/aac","audio/mp4"].includes(p.type)||/\.(mp3|wav|ogg|aac|m4a|flac)$/i.test(p.name),x=p=>{p.preventDefault(),a(!0)},y=p=>{p.preventDefault(),a(!1)},f=p=>{p.preventDefault(),a(!1);const C=Array.from(p.dataTransfer.files);C.length>0&&P(C[0])},w=()=>{var p;return(p=d.current)==null?void 0:p.click()},N=p=>{var u;const C=(u=p.target.files)==null?void 0:u[0];C&&P(C)},P=async p=>{if(!v(p)){alert("Please select a valid audio file (MP3/WAV/OGG/AAC/M4A/FLAC).");return}r(!0),c(0),navigator.vibrate&&navigator.vibrate([10,5,10]);try{const C=new FormData;C.append("audio",p);const u=`${m}/analyze`,j=new XMLHttpRequest,E=await new Promise((D,U)=>{j.open("POST",u,!0),j.responseType="json",j.upload.onprogress=G=>{G.lengthComputable&&c(Math.round(G.loaded/G.total*100))},j.onerror=()=>U(new Error("Network error")),j.onload=()=>{if(j.status>=200&&j.status<300){const G=j.response||{};G.success&&typeof G.code=="string"?D(G.code):U(new Error(G.error||"Unexpected response (missing code field)"))}else U(new Error(`HTTP ${j.status}`))},j.send(C)});c(100);let g,A="synthetic";try{if(g=await re.parseChordCraftCode(E),A=re.getPlaybackStrategy(g),g&&A==="lossless"){const D=await re.verifyChecksum(g);b({valid:D.valid,hash:D.hash})}}catch(D){console.warn("ChordCraft parse failed (still OK for plain text code):",D)}const F={fileName:p.name,fileSize:p.size,fileType:p.type,audioBuffer:await p.arrayBuffer(),generatedCode:E,chordCraftSong:g,playbackStrategy:A};s(F),navigator.vibrate&&navigator.vibrate([20,10,20])}catch(C){console.error("Upload failed:",C),alert(`Upload failed: ${(C==null?void 0:C.message)||"Unknown error"}`),navigator.vibrate&&navigator.vibrate([100,50,100])}finally{r(!1),c(0)}};return e.jsx(S,{className:"relative overflow-hidden",children:e.jsx(I,{className:"p-6",children:e.jsxs(h.div,{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-all duration-300 ${t?"border-primary bg-primary/10 scale-105":i?"border-green-500 bg-green-500/10":"border-muted-foreground/30 hover:border-primary/50 hover:bg-primary/5"}`,onDragOver:x,onDragLeave:y,onDrop:f,animate:t?{scale:1.02}:{scale:1},transition:{duration:.2},children:[e.jsx("input",{ref:d,type:"file",accept:"audio/*,.mp3,.wav,.ogg,.aac,.m4a,.flac",onChange:N,className:"hidden"}),e.jsx(B,{mode:"wait",children:i?e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[e.jsx(h.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(de,{className:"w-12 h-12 mx-auto text-primary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium",children:"Uploading & analyzing…"}),e.jsx(_,{value:o,className:"w-full"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o,"% complete"]})]})]},"uploading"):e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[e.jsx(h.div,{animate:t?{scale:1.2}:{scale:1},transition:{duration:.2},children:t?e.jsx(nt,{className:"w-12 h-12 mx-auto text-primary"}):e.jsx(me,{className:"w-12 h-12 mx-auto text-muted-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium",children:t?"Drop your audio file here":"Upload Audio File"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag & drop or click to select"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"MP3, WAV, OGG, AAC, M4A, FLAC"}),n&&e.jsx("div",{className:"flex items-center justify-center gap-2 text-xs mt-2",children:n.valid?e.jsxs(e.Fragment,{children:[e.jsx(lt,{className:"w-3 h-3 text-green-400"}),e.jsx("span",{className:"text-green-400",children:"✅ Identical Playback Guaranteed"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-3 h-3 text-yellow-400"}),e.jsx("span",{className:"text-yellow-400",children:"⚠️ Code Modified"})]})})]}),e.jsxs(L,{onClick:w,variant:"outline",hapticType:"medium",className:"mt-4",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Choose File"]})]},"upload")})]})})})}const te=l.forwardRef(({className:s,children:t,...a},i)=>e.jsxs(Be,{ref:i,"data-slot":"scroll-area",className:k("relative",s),...a,children:[e.jsx(Ue,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),e.jsx(Ce,{}),e.jsx(Ve,{})]}));te.displayName="ScrollArea";const Ce=l.forwardRef(({className:s,orientation:t="vertical",...a},i)=>e.jsx(We,{ref:i,"data-slot":"scroll-area-scrollbar",orientation:t,className:k("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",s),...a,children:e.jsx($e,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})}));Ce.displayName="ScrollBar";function Vt({currentTrack:s,setCurrentTrack:t,isPlaying:a,setIsPlaying:i}){const[r,o]=l.useState([{id:"1",name:"Piano Melody",type:"midi",duration:"2:34",volume:80,muted:!1,solo:!1},{id:"2",name:"Bass Line",type:"audio",duration:"2:34",volume:65,muted:!1,solo:!1},{id:"3",name:"Drum Pattern",type:"midi",duration:"2:34",volume:90,muted:!0,solo:!1}]),c=m=>{const v={id:Date.now().toString(),name:m.fileName.replace(/\.[^/.]+$/,""),type:"audio",duration:"0:00",volume:80,muted:!1,solo:!1,generatedCode:m.generatedCode};o([...r,v]),navigator.vibrate&&navigator.vibrate([20,10,20]),m.generatedCode&&console.log("AI Generated Code:",m.generatedCode)},n=m=>{o(r.map(v=>v.id===m?{...v,muted:!v.muted}:v))},b=m=>{o(r.map(v=>v.id===m?{...v,solo:!v.solo}:v))},d=(m,v)=>{o(r.map(x=>x.id===m?{...x,volume:v}:x))};return e.jsxs("div",{className:"w-80 border-r border-purple-800/30 bg-black/10 backdrop-blur-sm flex flex-col",children:[e.jsxs(S,{className:"m-4 bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsxs(R,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5 text-purple-400"}),"Audio Upload"]})}),e.jsxs(I,{className:"space-y-3",children:[e.jsx(Ut,{onUpload:c}),e.jsxs(L,{variant:"outline",hapticType:"medium",className:"w-full bg-pink-600/20 border-pink-500/30 hover:bg-pink-600/30 hover:scale-[1.02] transition-all",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Record New Track"]})]})]}),e.jsxs("div",{className:"flex-1 mx-4 mb-4",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-purple-200",children:"Tracks"}),e.jsxs(M,{variant:"secondary",className:"bg-purple-600/20 text-purple-300",children:[r.length," tracks"]})]}),e.jsx(te,{className:"h-[calc(100vh-24rem)]",children:e.jsx("div",{className:"space-y-2",children:e.jsx(B,{children:r.map((m,v)=>e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:v*.1},children:e.jsx(S,{className:`bg-gradient-to-r from-slate-800/50 to-slate-700/50 border-slate-600/30 cursor-pointer transition-all hover:from-slate-700/50 hover:to-slate-600/50 hover:scale-[1.02] hover:shadow-lg ${(s==null?void 0:s.id)===m.id?"ring-2 ring-purple-400 shadow-purple-400/20":""}`,onClick:()=>{navigator.vibrate&&navigator.vibrate(5),t(m)},children:e.jsxs(I,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:m.name}),e.jsxs("p",{className:"text-xs text-slate-400",children:[m.type," • ",m.duration]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(L,{size:"sm",variant:"ghost",hapticType:"selection",onClick:x=>{x.stopPropagation(),n(m.id)},className:`w-6 h-6 p-0 transition-all hover:scale-110 ${m.muted?"text-red-400 bg-red-400/10":"text-slate-400 hover:text-slate-200"}`,children:e.jsx(h.div,{animate:m.muted?{rotate:[0,-10,10,0]}:{},transition:{duration:.3},children:m.muted?e.jsx(ct,{className:"w-3 h-3"}):e.jsx(pe,{className:"w-3 h-3"})})}),e.jsx(L,{size:"sm",variant:"ghost",hapticType:"selection",onClick:x=>{x.stopPropagation(),b(m.id)},className:`w-6 h-6 p-0 text-xs transition-all hover:scale-110 ${m.solo?"text-yellow-400 bg-yellow-400/10":"text-slate-400 hover:text-slate-200"}`,children:e.jsx(h.span,{animate:m.solo?{scale:[1,1.2,1]}:{},transition:{duration:.3},children:"S"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"w-3 h-3 text-slate-400"}),e.jsx(Ne,{value:[m.volume],onValueChange:x=>d(m.id,x[0]),max:100,step:1,className:"flex-1"}),e.jsx(h.span,{className:"text-xs text-slate-400 w-8 font-mono",initial:{scale:1.1},animate:{scale:1},transition:{duration:.1},children:m.volume},m.volume)]})]})})},m.id))})})})]})]})}function Wt({isPlaying:s,onPlayPause:t,onStop:a,onNext:i,onPrevious:r,currentTime:o,totalTime:c,zoom:n,onZoomChange:b}){const[d,m]=l.useState(!1),[v,x]=l.useState(!1);l.useEffect(()=>{if(s){const f=setInterval(()=>{x(!0),setTimeout(()=>x(!1),100)},500);return()=>clearInterval(f)}},[s]);const y=f=>{const w=Math.floor(f/60),N=f%60;return`${w}:${N.toString().padStart(2,"0")}`};return e.jsxs("div",{className:"h-16 border-b border-purple-800/30 bg-black/20 backdrop-blur-sm px-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{size:"sm",variant:"ghost",hapticType:"medium",onClick:r,className:"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsx(h.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(L,{size:"sm",hapticType:"heavy",onClick:t,className:`relative overflow-hidden ${s?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"}`,children:[e.jsx(B,{mode:"wait",children:e.jsx(h.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.15},children:s?e.jsx(mt,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})},s?"pause":"play")}),e.jsx(B,{children:v&&s&&e.jsx(h.div,{className:"absolute inset-0 bg-white/20 rounded",initial:{opacity:0,scale:1},animate:{opacity:[0,.5,0],scale:[1,1.1,1]},exit:{opacity:0},transition:{duration:.1}})})]})}),e.jsx(L,{size:"sm",variant:"ghost",hapticType:"medium",onClick:a,className:"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsx(L,{size:"sm",variant:"ghost",hapticType:"medium",onClick:i,className:"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20",children:e.jsx(ut,{className:"w-4 h-4"})})]}),e.jsxs(h.div,{className:"flex items-center gap-2",animate:s?{opacity:[1,.7,1]}:{opacity:1},transition:{duration:.5,repeat:s?1/0:0},children:[e.jsx(ht,{className:"w-4 h-4 text-purple-400"}),e.jsxs(M,{variant:"outline",className:"bg-purple-900/50 text-purple-200 border-purple-600/30 font-mono",children:[y(o)," / ",y(c)]})]})]}),e.jsx(B,{children:d&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"flex items-center gap-2",children:[e.jsx(h.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-sm text-red-400 font-medium",children:"REC"})]})}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-purple-200",children:"Zoom:"}),e.jsx(Ne,{value:[n],onValueChange:f=>b(f[0]),min:25,max:400,step:25,className:"w-24"}),e.jsxs(h.span,{className:"text-sm text-purple-200 w-10 font-mono",initial:{scale:1.1},animate:{scale:1},transition:{duration:.1},children:[n,"%"]},n)]})})]})}function $t({notes:s,isPlaying:t,currentTime:a,zoom:i,onNoteClick:r,onNoteMove:o,onNoteResize:c}){const[n,b]=l.useState(null),[d,m]=l.useState(null),[v,x]=l.useState({x:0,y:0}),y=l.useRef(null),f=["C8","B7","A#7","A7","G#7","G7","F#7","F7","E7","D#7","D7","C#7","C7","B6","A#6","A6","G#6","G6","F#6","F6","E6","D#6","D6","C#6","C6","B5","A#5","A5","G#5","G5","F#5","F5","E5","D#5","D5","C#5","C5","B4","A#4","A4","G#4","G4","F#4","F4","E4","D#4","D4","C#4","C4","B3","A#3","A3","G#3","G3","F#3","F3","E3","D#3","D3","C#3","C3","B2","A#2","A2","G#2","G2","F#2","F2","E2","D#2","D2","C#2","C2","B1","A#1","A1"],w=l.useRef(new Map(f.map((g,A)=>[g,A]))),N=g=>g.includes("#"),P=(g,A)=>{g.preventDefault();const F=g.touches[0],D=g.currentTarget.getBoundingClientRect();b(A),x({x:F.clientX-D.left,y:F.clientY-D.top}),navigator.vibrate&&navigator.vibrate([10,5,10])},p=(g,A)=>{g.preventDefault();const F=g.currentTarget.getBoundingClientRect();b(A),x({x:g.clientX-F.left,y:g.clientY-F.top}),navigator.vibrate&&navigator.vibrate(5)},C=g=>{if(!n||!y.current)return;g.preventDefault();const A=y.current.getBoundingClientRect(),F=g.clientX-A.left-v.x,D=g.clientY-A.top-v.y,U=1/(40*i/100),G=Math.max(0,F*U),se=100/f.length,V=Math.floor(D/(A.height*se/100)),he=f[V];he&&o&&o(n.id,G,he)},u=()=>{n&&navigator.vibrate&&navigator.vibrate(20),b(null),m(null),x({x:0,y:0})};l.useEffect(()=>{if(n||d)return document.addEventListener("pointermove",C),document.addEventListener("pointerup",u),()=>{document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",u)}},[n,d]);const j=2e3*(i/100),O=100/f.length,E=40*(i/100);return e.jsx("div",{className:"h-full",children:e.jsx(S,{className:"h-full",children:e.jsxs(I,{className:"p-0 h-full relative overflow-hidden flex",children:[e.jsx("div",{className:"w-20 h-full border-r border-border/50 bg-card/80 backdrop-blur-sm flex-shrink-0 z-20",children:e.jsx("div",{className:"flex flex-col-reverse h-full",children:f.map((g,A)=>e.jsx(h.div,{className:`flex items-center justify-center border-b border-border/20 cursor-pointer transition-all duration-200 ${N(g)?"bg-slate-800 text-white/70 border-r-4 border-r-border/80 hover:bg-slate-700":"bg-card hover:bg-accent text-foreground/80"}`,style:{height:`${O}%`},whileHover:{scale:1.02,backgroundColor:N(g)?"rgb(51, 65, 85)":"rgb(248, 250, 252)"},onClick:()=>{navigator.vibrate&&navigator.vibrate(3)},children:e.jsx("span",{className:"text-xs font-mono select-none",children:g})},g))})}),e.jsx("div",{className:"flex-1 overflow-auto relative",ref:y,children:e.jsxs("div",{className:"relative bg-gradient-to-br from-muted/20 to-muted/10",style:{width:`${j}px`,height:"100%",minHeight:`${f.length*20}px`},children:[Array.from({length:Math.ceil(j/(E/4))}).map((g,A)=>{const F=A%16===0,D=A%4===0;return e.jsx("div",{className:`absolute top-0 bottom-0 border-r ${F?"border-primary/40 z-10":D?"border-primary/20":"border-border/30"}`,style:{left:`${A*(E/4)}px`}},`v-${A}`)}),e.jsx("div",{className:"absolute inset-0 flex flex-col",children:f.map((g,A)=>e.jsx("div",{className:`flex-1 border-b border-border/20 ${N(g)?"bg-slate-950/10 dark:bg-slate-800/20":"bg-transparent"}`,style:{height:`${O}%`}},`h-${A}`))}),e.jsx("div",{className:"absolute inset-0 z-10",children:e.jsx(B,{children:s.map(g=>{const A=w.current.get(g.note);if(A===void 0)return null;const F=(n==null?void 0:n.id)===g.id;d==null||d.id,g.id;const D=A*O,U=g.startTime*E,G=Math.max(8,g.duration*E),se=O;return e.jsxs(h.div,{initial:{scale:.8,opacity:0},animate:{scale:F?1.05:1,opacity:g.velocity/127,zIndex:F?100:1},exit:{scale:.8,opacity:0},whileHover:{scale:1.02,opacity:1},className:`absolute rounded-sm cursor-move select-none touch-manipulation group ${F?"shadow-2xl ring-2 ring-primary/50":"hover:shadow-lg"} transition-all duration-200`,style:{top:`${D}%`,left:`${U}px`,width:`${G}px`,height:`${se}%`,backgroundColor:g.color,minWidth:window.innerWidth<768?"16px":"8px"},onPointerDown:V=>p(V,g),onTouchStart:V=>P(V,g),onClick:()=>{navigator.vibrate&&navigator.vibrate(3),r==null||r(g)},children:[e.jsx("div",{className:"h-full w-full flex items-center justify-start px-1",children:e.jsx("span",{className:"text-xs text-white/90 font-mono truncate",children:g.note})}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize opacity-0 group-hover:opacity-100 bg-white/30 transition-opacity",onPointerDown:V=>{V.stopPropagation(),m(g),navigator.vibrate&&navigator.vibrate(5)}})]},g.id)})})}),e.jsx(h.div,{className:"absolute top-0 bottom-0 bg-gradient-to-b from-yellow-400 to-orange-500 shadow-lg z-50 pointer-events-none",style:{left:`${a*E}px`,width:window.innerWidth<768?"3px":"2px"},animate:t?{boxShadow:["0 0 5px rgba(250, 204, 21, 0.5)","0 0 20px rgba(250, 204, 21, 0.8)","0 0 5px rgba(250, 204, 21, 0.5)"]}:{},transition:{duration:.5,repeat:t?1/0:0},children:e.jsx(h.div,{className:"bg-yellow-400 rounded-full -ml-1 -mt-2 pointer-events-none",style:{width:window.innerWidth<768?"20px":"16px",height:window.innerWidth<768?"20px":"16px"},animate:t?{scale:[1,1.3,1],boxShadow:["0 0 0 0 rgba(250, 204, 21, 0.7)","0 0 0 10px rgba(250, 204, 21, 0)","0 0 0 0 rgba(250, 204, 21, 0)"]}:{scale:1},transition:{duration:.6,repeat:t?1/0:0}})})]})})]})})})}function Ht({currentTrack:s,isPlaying:t}){const a=Mt(),[i,r]=l.useState(100),[o,c]=l.useState(t),n=a||{currentTime:0,duration:154};l.useEffect(()=>{b()},[]);const b=()=>{if(typeof window>"u")return;const f=new(window.AudioContext||window.webkitAudioContext),w=f.createOscillator(),N=f.createGain();w.connect(N),N.connect(f.destination),w.frequency.setValueAtTime(440,f.currentTime),N.gain.setValueAtTime(.3,f.currentTime),window.audioContext=f,window.oscillator=w,window.gainNode=N};Array.from({length:32},(f,w)=>w*.25);const d=[{id:"1",note:"C4",startTime:0,duration:1,velocity:80,color:"#6366f1"},{id:"2",note:"E4",startTime:1,duration:1,velocity:75,color:"#6366f1"},{id:"3",note:"G4",startTime:2,duration:1,velocity:85,color:"#6366f1"},{id:"4",note:"C5",startTime:3,duration:2,velocity:90,color:"#6366f1"},{id:"5",note:"A3",startTime:5,duration:1,velocity:70,color:"#ef4444"},{id:"6",note:"C4",startTime:6,duration:1,velocity:75,color:"#ef4444"},{id:"7",note:"E4",startTime:7,duration:1,velocity:80,color:"#ef4444"},{id:"8",note:"A4",startTime:8,duration:2,velocity:85,color:"#ef4444"},{id:"9",note:"F3",startTime:10,duration:1,velocity:70,color:"#10b981"},{id:"10",note:"A3",startTime:11,duration:1,velocity:75,color:"#10b981"},{id:"11",note:"C4",startTime:12,duration:1,velocity:80,color:"#10b981"},{id:"12",note:"F4",startTime:13,duration:2,velocity:85,color:"#10b981"}],m=()=>{if(typeof window>"u")return;const f=!o;if(c(f),f){const w=window.audioContext;w&&w.state==="suspended"&&w.resume();const N=window.oscillator;if(N)try{N.start()}catch{console.log("Oscillator already started")}}else{const w=window.oscillator;w&&(w.stop(),b())}},v=()=>{if(typeof window>"u")return;c(!1);const f=window.oscillator;f&&(f.stop(),b())},x=()=>{},y=()=>{};return e.jsxs("div",{className:"flex-1 flex flex-col bg-gradient-to-br from-slate-800/30 to-slate-900/30",children:[e.jsx(Wt,{isPlaying:o,onPlayPause:m,onStop:v,onNext:x,onPrevious:y,currentTime:n.currentTime,totalTime:n.duration,zoom:i,onZoomChange:r}),e.jsx("div",{className:"flex-1 p-4",children:e.jsx($t,{notes:d,isPlaying:o,currentTime:n.currentTime,zoom:i,onNoteClick:f=>{console.log("Note clicked:",f)},onNoteMove:(f,w,N)=>{console.log("Note moved:",f,w,N)},onNoteResize:(f,w)=>{console.log("Note resized:",f,w)}})})]})}function _t({className:s,...t}){return e.jsx(He,{"data-slot":"tabs",className:k("flex flex-col gap-2",s),...t})}function qt({className:s,...t}){return e.jsx(_e,{"data-slot":"tabs-list",className:k("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",s),...t})}function ne({className:s,...t}){return e.jsx(qe,{"data-slot":"tabs-trigger",className:k("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function le({className:s,...t}){return e.jsx(Je,{"data-slot":"tabs-content",className:k("flex-1 outline-none",s),...t})}function ce({className:s,type:t,...a}){return e.jsx("input",{type:t,"data-slot":"input",className:k("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...a})}function Jt(){const[s,t]=l.useState([{id:"1",type:"ai",content:"Hello! I'm your AI music companion. I can help you analyze your music, generate chord progressions, and convert between music and code. What would you like to create today?",timestamp:new Date}]),[a,i]=l.useState(""),[r,o]=l.useState(!1),c=l.useRef(null);l.useEffect(()=>{if(c.current){const d=c.current.querySelector('[data-slot="scroll-area-viewport"]');d&&(d.scrollTop=d.scrollHeight)}},[s]);const n=async()=>{if(!a.trim())return;const d={id:Date.now().toString(),type:"user",content:a,timestamp:new Date};t(m=>[...m,d]),i(""),o(!0),setTimeout(()=>{o(!1);const m=[{content:"I've analyzed your input! Here's a chord progression that would work well:",codeBlock:`// C Major Progression
const chords = [
  { chord: "C", duration: 1 },
  { chord: "Am", duration: 1 }, 
  { chord: "F", duration: 1 },
  { chord: "G", duration: 1 }
];`},{content:"I can help you create a melody pattern. Let me generate some MIDI data:",codeBlock:`// Melody Pattern
const melody = [
  { note: "C4", time: 0, duration: 0.5 },
  { note: "E4", time: 0.5, duration: 0.5 },
  { note: "G4", time: 1.0, duration: 1.0 }
];`},{content:"Based on your track, I recommend adding some harmonic movement. Here's what I suggest:"}],v=m[Math.floor(Math.random()*m.length)],x={id:(Date.now()+1).toString(),type:"ai",content:v.content,timestamp:new Date,codeBlock:v.codeBlock};t(y=>[...y,x]),navigator.vibrate&&navigator.vibrate([10,50,10])},2e3)},b=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),n())};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-purple-800/30 bg-black/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center",children:e.jsx(q,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"font-medium text-purple-200",children:"AI Companion"}),e.jsxs(M,{variant:"secondary",className:"bg-purple-600/20 text-purple-300 border-purple-500/30 ml-auto",children:[e.jsx(oe,{className:"w-3 h-3 mr-1"}),"Active"]})]}),e.jsx("p",{className:"text-xs text-purple-300",children:"Your personal music AI assistant"})]}),e.jsx(te,{ref:c,className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{children:s.map(d=>e.jsx(h.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3,ease:"easeOut"},className:`flex ${d.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs(h.div,{whileHover:{scale:1.02},className:`max-w-[80%] rounded-lg p-3 shadow-lg ${d.type==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gradient-to-r from-slate-700 to-slate-600 text-slate-100"}`,children:[e.jsx("p",{className:"text-sm",children:d.content}),d.codeBlock&&e.jsx(S,{className:"mt-3 bg-black/50 border-purple-500/30",children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-xs text-purple-300 ml-2",children:"Generated Code"})]}),e.jsx("pre",{className:"text-xs text-purple-200 font-mono overflow-x-auto",children:d.codeBlock})]})}),e.jsx("p",{className:"text-xs opacity-70 mt-2",children:d.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},d.id))}),e.jsx(B,{children:r&&e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex justify-start",children:e.jsx(h.div,{className:"bg-gradient-to-r from-slate-700 to-slate-600 text-slate-100 rounded-lg p-3 max-w-[80%] shadow-lg",animate:{boxShadow:["0 0 0 0 rgba(168, 85, 247, 0.4)","0 0 0 8px rgba(168, 85, 247, 0)","0 0 0 0 rgba(168, 85, 247, 0)"]},transition:{duration:1.5,repeat:1/0},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(de,{className:"w-4 h-4 text-purple-400"})}),e.jsx(h.span,{className:"text-sm",animate:{opacity:[1,.5,1]},transition:{duration:1.5,repeat:1/0},children:"AI is thinking..."})]})})})})]})}),e.jsx("div",{className:"p-4 border-t border-purple-800/30 bg-black/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ce,{value:a,onChange:d=>i(d.target.value),onKeyPress:b,placeholder:"Ask me about your music...",className:"bg-black/30 border-purple-700/30 text-white placeholder:text-purple-300 focus:border-purple-500",disabled:r}),e.jsx(L,{onClick:n,disabled:!a.trim()||r,size:"sm",hapticType:"medium",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(h.div,{animate:r?{rotate:360}:{rotate:0},transition:{duration:.3},children:e.jsx(pt,{className:"w-4 h-4"})})})]})})]})}function Kt({locked:s=!1}){const[t]=l.useState(`// ChordCraft Generated Music Code
const musicTrack = {
  title: "Piano Melody",
  tempo: 120,
  timeSignature: "4/4",
  key: "C Major",
  
  tracks: [
    {
      instrument: "piano",
      notes: [
        { note: "C4", time: 0, duration: 0.5, velocity: 80 },
        { note: "E4", time: 0.5, duration: 0.5, velocity: 75 },
        { note: "G4", time: 1.0, duration: 1.0, velocity: 85 },
        { note: "C5", time: 2.0, duration: 0.75, velocity: 90 }
      ]
    }
  ],
  
  chordProgression: [
    { chord: "C", time: 0, duration: 2 },
    { chord: "Am", time: 2, duration: 2 },
    { chord: "F", time: 4, duration: 2 },
    { chord: "G", time: 6, duration: 2 }
  ]
};

// Export as MIDI
export function generateMIDI() {
  return musicTrack.tracks.map(track => ({
    ...track,
    midiData: convertToMIDI(track.notes)
  }));
}

// Real-time playback
export function playTrack() {
  const audioContext = new AudioContext();
  musicTrack.tracks.forEach(track => {
    track.notes.forEach(note => {
      scheduleNote(audioContext, note);
    });
  });
}`);return s?e.jsxs(S,{className:"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx(W,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-yellow-400 mb-2",children:"PRO Feature"}),e.jsx("p",{className:"text-sm text-yellow-200 mb-4 max-w-48",children:"Unlock the code editor to view and modify AI-generated music code"}),e.jsx(T,{size:"sm",className:"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700",children:"Upgrade to PRO"})]})}),e.jsxs("div",{className:"blur-sm opacity-50 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-purple-200",children:"Music Code"}),e.jsx(M,{variant:"secondary",className:"bg-purple-600/20 text-purple-300",children:"Generated"})]})}),e.jsxs("pre",{className:"text-xs text-purple-200 font-mono bg-black/30 p-3 rounded border border-purple-700/30 overflow-hidden",children:[t.substring(0,200),"..."]})]})]}):e.jsxs(S,{className:"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30",children:[e.jsxs("div",{className:"p-4 border-b border-purple-800/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-purple-200",children:"Music Code"}),e.jsx(M,{variant:"secondary",className:"bg-purple-600/20 text-purple-300",children:"Generated"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300",children:e.jsx(ft,{className:"w-3 h-3"})}),e.jsx(T,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300",children:e.jsx(gt,{className:"w-3 h-3"})}),e.jsx(T,{size:"sm",variant:"ghost",className:"text-green-400 hover:text-green-300",children:e.jsx(Y,{className:"w-3 h-3"})})]})]}),e.jsx("p",{className:"text-xs text-purple-300",children:"AI-generated code from your musical input"})]}),e.jsx(te,{className:"h-[calc(100%-5rem)]",children:e.jsx("div",{className:"p-4",children:e.jsx("pre",{className:"text-xs text-purple-200 font-mono bg-black/30 p-3 rounded border border-purple-700/30 overflow-x-auto",children:t})})})]})}function Xt({locked:s=!1}){const t={key:"C Major",tempo:120,timeSignature:"4/4",harmonicComplexity:75,rhythmicVariety:60,melodicMovement:85,chordProgression:["C","Am","F","G"],scales:["C Major","A Natural Minor"],mood:"Uplifting",genre:"Pop/Rock"};return s?e.jsxs(S,{className:"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx(W,{className:"w-12 h-12 text-yellow-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-yellow-400 mb-2",children:"PRO Feature"}),e.jsx("p",{className:"text-sm text-yellow-200 mb-4 max-w-48",children:"Get detailed harmonic analysis, chord progressions, and musical insights"}),e.jsx(T,{size:"sm",className:"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700",children:"Upgrade to PRO"})]})}),e.jsxs("div",{className:"blur-sm opacity-50 p-4 space-y-4",children:[e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsx(R,{className:"text-sm text-purple-200",children:"Key Analysis"})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"C Major"}),e.jsx("div",{className:"text-xs text-purple-300",children:"Primary Key"})]})})]}),e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsx(R,{className:"text-sm text-purple-200",children:"Complexity Metrics"})}),e.jsx(I,{className:"space-y-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-purple-300",children:"Harmonic"}),e.jsx("span",{className:"text-purple-400",children:"75%"})]}),e.jsx(_,{value:75,className:"h-2"})]})})]})]})]}):e.jsxs(S,{className:"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30",children:[e.jsxs(z,{className:"pb-3 border-b border-purple-800/30",children:[e.jsxs(R,{className:"flex items-center gap-2 text-purple-200",children:[e.jsx(xe,{className:"w-5 h-5"}),"Music Analysis"]}),e.jsx("p",{className:"text-xs text-purple-300",children:"AI-powered harmonic and structural analysis"})]}),e.jsxs(I,{className:"p-4 space-y-4 h-[calc(100%-5rem)] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-2",children:e.jsx(R,{className:"text-sm text-purple-200",children:"Key Signature"})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-purple-400",children:t.key}),e.jsx("div",{className:"text-xs text-purple-300",children:"Primary Key"})]})})]}),e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-2",children:e.jsx(R,{className:"text-sm text-purple-200",children:"Tempo"})}),e.jsx(I,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold text-green-400",children:t.tempo}),e.jsx("div",{className:"text-xs text-green-300",children:"BPM"})]})})]})]}),e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsxs(R,{className:"text-sm text-purple-200 flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4"}),"Complexity Metrics"]})}),e.jsxs(I,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-purple-300",children:"Harmonic Complexity"}),e.jsxs("span",{className:"text-purple-400",children:[t.harmonicComplexity,"%"]})]}),e.jsx(_,{value:t.harmonicComplexity,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-purple-300",children:"Rhythmic Variety"}),e.jsxs("span",{className:"text-purple-400",children:[t.rhythmicVariety,"%"]})]}),e.jsx(_,{value:t.rhythmicVariety,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-purple-300",children:"Melodic Movement"}),e.jsxs("span",{className:"text-purple-400",children:[t.melodicMovement,"%"]})]}),e.jsx(_,{value:t.melodicMovement,className:"h-2"})]})]})]}),e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsxs(R,{className:"text-sm text-purple-200 flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"Chord Progression"]})}),e.jsxs(I,{children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:t.chordProgression.map((a,i)=>e.jsx(M,{variant:"secondary",className:"bg-purple-600/20 text-purple-300 border-purple-500/30",children:a},i))}),e.jsxs("p",{className:"text-xs text-purple-300 mt-2",children:["I-vi-IV-V progression in ",t.key]})]})]}),e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsx(R,{className:"text-sm text-purple-200",children:"Musical Characteristics"})}),e.jsxs(I,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs text-purple-300",children:"Mood:"}),e.jsx(M,{variant:"outline",className:"bg-pink-600/20 text-pink-300 border-pink-500/30",children:t.mood})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs text-purple-300",children:"Genre:"}),e.jsx(M,{variant:"outline",className:"bg-blue-600/20 text-blue-300 border-blue-500/30",children:t.genre})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs text-purple-300",children:"Time Signature:"}),e.jsx("span",{className:"text-xs text-purple-400",children:t.timeSignature})]})]})]}),e.jsxs(S,{className:"bg-black/30 border-purple-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsx(R,{className:"text-sm text-purple-200",children:"Detected Scales"})}),e.jsx(I,{children:e.jsx("div",{className:"space-y-2",children:t.scales.map((a,i)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-purple-300",children:a}),e.jsx(M,{variant:"outline",className:"bg-green-600/20 text-green-300 border-green-500/30",children:i===0?"Primary":"Secondary"})]},i))})})]})]})]})}function Yt(){const[s,t]=l.useState("ai-companion");return e.jsx("div",{className:"w-80 border-l border-purple-800/30 bg-black/10 backdrop-blur-sm",children:e.jsxs(_t,{value:s,onValueChange:t,className:"h-full flex flex-col",children:[e.jsxs(qt,{className:"grid w-full grid-cols-3 bg-black/20 border-b border-purple-800/30 rounded-none",children:[e.jsxs(ne,{value:"ai-companion",className:"data-[state=active]:bg-purple-600/30 data-[state=active]:text-purple-200",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"AI Companion"]}),e.jsxs(ne,{value:"code-editor",className:"data-[state=active]:bg-purple-600/30 data-[state=active]:text-purple-200",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Code",e.jsx(W,{className:"w-3 h-3 ml-1 text-yellow-400"})]}),e.jsxs(ne,{value:"analysis",className:"data-[state=active]:bg-purple-600/30 data-[state=active]:text-purple-200",children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"Analysis",e.jsx(W,{className:"w-3 h-3 ml-1 text-yellow-400"})]})]}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[e.jsx(le,{value:"ai-companion",className:"h-full m-0",children:e.jsx(Jt,{})}),e.jsx(le,{value:"code-editor",className:"h-full m-0",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs(S,{className:"m-4 bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsxs(R,{className:"flex items-center gap-2 text-yellow-400",children:[e.jsx(W,{className:"w-5 h-5"}),"PRO Feature"]})}),e.jsxs(I,{children:[e.jsx("p",{className:"text-sm text-yellow-200 mb-3",children:"Unlock the code editor to view and modify the AI-generated music code."}),e.jsx(M,{variant:"outline",className:"bg-yellow-400/10 text-yellow-400 border-yellow-500/30",children:"Upgrade to PRO"})]})]}),e.jsx("div",{className:"flex-1 mx-4 mb-4",children:e.jsx(Kt,{locked:!0})})]})}),e.jsx(le,{value:"analysis",className:"h-full m-0",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs(S,{className:"m-4 bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-700/30",children:[e.jsx(z,{className:"pb-3",children:e.jsxs(R,{className:"flex items-center gap-2 text-yellow-400",children:[e.jsx(W,{className:"w-5 h-5"}),"PRO Feature"]})}),e.jsxs(I,{children:[e.jsx("p",{className:"text-sm text-yellow-200 mb-3",children:"Get detailed music analysis including chord progressions, scales, and harmonic analysis."}),e.jsx(M,{variant:"outline",className:"bg-yellow-400/10 text-yellow-400 border-yellow-500/30",children:"Upgrade to PRO"})]})]}),e.jsx("div",{className:"flex-1 mx-4 mb-4",children:e.jsx(Xt,{locked:!0})})]})})]})]})})}function Zt({...s}){return e.jsx(Ke,{"data-slot":"dialog",...s})}function Qt({...s}){return e.jsx(Qe,{"data-slot":"dialog-portal",...s})}function es({className:s,...t}){return e.jsx(et,{"data-slot":"dialog-overlay",className:k("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function ts({className:s,children:t,...a}){return e.jsxs(Qt,{"data-slot":"dialog-portal",children:[e.jsx(es,{}),e.jsxs(Xe,{"data-slot":"dialog-content",className:k("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...a,children:[t,e.jsxs(Ye,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Q,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ss({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:k("flex flex-col gap-2 text-center sm:text-left",s),...t})}function as({className:s,...t}){return e.jsx(Ze,{"data-slot":"dialog-title",className:k("text-lg leading-none font-semibold",s),...t})}function rs({open:s,onOpenChange:t}){const a=[{icon:e.jsx(Z,{className:"w-5 h-5"}),title:"Music-to-Code Generation",description:"Convert your music into editable code format"},{icon:e.jsx(q,{className:"w-5 h-5"}),title:"Advanced AI Analysis",description:"Deep harmonic and structural music analysis"},{icon:e.jsx(xe,{className:"w-5 h-5"}),title:"Professional Analytics",description:"Detailed chord progressions and scale analysis"},{icon:e.jsx(X,{className:"w-5 h-5"}),title:"Real-time Code Preview",description:"See generated code as you create music"}],i=()=>{console.log("Redirecting to payment..."),t(!1)};return e.jsx(Zt,{open:s,onOpenChange:t,children:e.jsxs(ts,{className:"max-w-2xl bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border-purple-700/30 text-white",children:[e.jsxs(ss,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(as,{className:"flex items-center gap-3 text-2xl",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-lg flex items-center justify-center",children:e.jsx(vt,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"ChordCraft PRO"})]}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"text-purple-300 hover:text-white",children:e.jsx(Q,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-purple-200 mt-2",children:"Unlock the full power of AI-driven music production"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg text-purple-200 mb-4",children:"What's included in PRO:"}),a.map((r,o)=>e.jsxs("div",{className:"flex gap-3 p-3 rounded-lg bg-black/20 border border-purple-700/30",children:[e.jsx("div",{className:"text-purple-400 mt-0.5",children:r.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-200 mb-1",children:r.title}),e.jsx("p",{className:"text-sm text-purple-300",children:r.description})]})]},o))]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(S,{className:"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-700/30 mb-4",children:e.jsxs(I,{className:"p-6 text-center",children:[e.jsx(M,{variant:"outline",className:"bg-yellow-400/10 text-yellow-400 border-yellow-500/30 mb-4",children:"Most Popular"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-4xl font-bold text-yellow-400 mb-2",children:["$19",e.jsx("span",{className:"text-lg text-yellow-300",children:"/month"})]}),e.jsx("p",{className:"text-sm text-yellow-200",children:"Cancel anytime • 7-day free trial"})]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-yellow-200",children:[e.jsx(J,{className:"w-4 h-4 text-green-400"}),"Unlimited AI generations"]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-yellow-200",children:[e.jsx(J,{className:"w-4 h-4 text-green-400"}),"Export to all formats"]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-yellow-200",children:[e.jsx(J,{className:"w-4 h-4 text-green-400"}),"Priority AI processing"]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-yellow-200",children:[e.jsx(J,{className:"w-4 h-4 text-green-400"}),"Advanced music analysis"]})]}),e.jsx(T,{onClick:i,className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white font-medium",size:"lg",children:"Start 7-Day Free Trial"}),e.jsx("p",{className:"text-xs text-yellow-300 mt-3",children:"No commitment • Cancel before trial ends"})]})}),e.jsxs("div",{className:"bg-black/20 border border-purple-700/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-purple-200 italic mb-2",children:'"ChordCraft PRO transformed my music production workflow. The AI analysis is incredible!"'}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full"}),e.jsx("span",{className:"text-xs text-purple-300",children:"Sarah M., Music Producer"})]})]})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-purple-800/30",children:e.jsx("p",{className:"text-xs text-purple-300 text-center",children:"By upgrading, you agree to our Terms of Service and Privacy Policy. Secure payment processing by Stripe."})})]})})}function is({onEnterStudio:s}){const[t,a]=l.useState(0),[i,r]=l.useState(!1),o=l.useRef(null),c=l.useRef(null),n=l.useRef(null),b=l.useRef(null),{scrollY:d}=St(),m=ge(d,[0,1e3],[0,-300]),v=ge(d,[0,400],[1,0]);K(o);const x=K(c),y=K(n),f=K(b);l.useEffect(()=>{const p=setInterval(()=>{a(C=>(C+1)%w.length)},4e3);return()=>clearInterval(p)},[]);const w=[{id:1,title:"AI-Powered Generation",description:"Transform your musical ideas into professional-quality compositions using advanced AI",icon:e.jsx(q,{className:"w-8 h-8 text-electric-violet"}),neonIcon:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"64",height:"64",rx:"12",fill:"url(#brain-gradient)"}),e.jsx("path",{d:"M20 32C20 24.268 26.268 18 34 18s14 6.268 14 14-6.268 14-14 14-14-6.268-14-14z",stroke:"url(#brain-stroke)",strokeWidth:"2"}),e.jsx("path",{d:"M30 28l4 4 8-8",stroke:"url(#brain-accent)",strokeWidth:"2"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"brain-gradient",x1:"32",y1:"0",x2:"32",y2:"64",children:[e.jsx("stop",{stopColor:"#8b5cf6"}),e.jsx("stop",{offset:"1",stopColor:"#3f00ff"})]}),e.jsxs("linearGradient",{id:"brain-stroke",x1:"32",y1:"18",x2:"32",y2:"46",children:[e.jsx("stop",{stopColor:"#00c2ff"}),e.jsx("stop",{offset:"1",stopColor:"#80ff00"})]}),e.jsx("linearGradient",{id:"brain-accent",x1:"32",y1:"20",x2:"32",y2:"32",children:e.jsx("stop",{stopColor:"#ff00ff"})})]})]}),microcopy:"Create professional tracks in seconds",color:"from-purple-600 to-violet-600"},{id:2,title:"Music-to-Code",description:"Convert your music into editable code format for precise control and customization",icon:e.jsx(Z,{className:"w-8 h-8 text-neon-cyan"}),neonIcon:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"64",height:"64",rx:"12",fill:"url(#code-gradient)"}),e.jsx("path",{d:"M22 20C22 17.7909 23.7909 16 26 16H38C40.2091 16 42 17.7909 42 20V44C42 46.2091 40.2091 48 38 48H26C23.7909 48 22 46.2091 22 44V20Z",stroke:"url(#code-stroke)",strokeWidth:"3"}),e.jsx("path",{d:"M22 32H42",stroke:"url(#code-line1)",strokeWidth:"3"}),e.jsx("path",{d:"M32 16V48",stroke:"url(#code-line2)",strokeWidth:"3"}),e.jsx("path",{d:"M27 24L31 24",stroke:"url(#code-accent1)",strokeWidth:"2"}),e.jsx("path",{d:"M33 24L37 24",stroke:"url(#code-accent2)",strokeWidth:"2"}),e.jsx("path",{d:"M27 40L31 40",stroke:"url(#code-accent3)",strokeWidth:"2"}),e.jsx("path",{d:"M33 40L37 40",stroke:"url(#code-accent4)",strokeWidth:"2"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"code-gradient",x1:"32",y1:"0",x2:"32",y2:"64",children:[e.jsx("stop",{stopColor:"#3F00FF"}),e.jsx("stop",{offset:"1",stopColor:"#C800FF"})]}),e.jsxs("linearGradient",{id:"code-stroke",x1:"32",y1:"16",x2:"32",y2:"48",children:[e.jsx("stop",{stopColor:"#00C2FF"}),e.jsx("stop",{offset:"1",stopColor:"#80FF00"})]}),e.jsx("linearGradient",{id:"code-line1",children:e.jsx("stop",{stopColor:"#FF00FF"})}),e.jsxs("linearGradient",{id:"code-line2",x1:"32",y1:"16",x2:"32",y2:"48",children:[e.jsx("stop",{stopColor:"#00FFFF"}),e.jsx("stop",{offset:"1",stopColor:"#FF00FF"})]}),e.jsx("linearGradient",{id:"code-accent1",children:e.jsx("stop",{stopColor:"#00FFC2"})}),e.jsx("linearGradient",{id:"code-accent2",children:e.jsx("stop",{stopColor:"#00FFC2"})}),e.jsx("linearGradient",{id:"code-accent3",children:e.jsx("stop",{stopColor:"#FFC200"})}),e.jsx("linearGradient",{id:"code-accent4",children:e.jsx("stop",{stopColor:"#FFC200"})})]})]}),microcopy:"Edit music like code - precise & powerful",color:"from-cyan-500 to-blue-600"},{id:3,title:"Professional DAW",description:"Full-featured digital audio workstation with piano roll, timeline, and track management",icon:e.jsx(ee,{className:"w-8 h-8 text-neon-lime"}),neonIcon:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"64",height:"64",rx:"12",fill:"url(#daw-gradient)"}),e.jsx("rect",{x:"16",y:"20",width:"32",height:"24",rx:"4",stroke:"url(#daw-stroke)",strokeWidth:"2"}),e.jsx("rect",{x:"20",y:"26",width:"4",height:"12",fill:"url(#daw-bar1)"}),e.jsx("rect",{x:"28",y:"24",width:"4",height:"14",fill:"url(#daw-bar2)"}),e.jsx("rect",{x:"36",y:"28",width:"4",height:"10",fill:"url(#daw-bar3)"}),e.jsx("circle",{cx:"22",cy:"18",r:"2",fill:"url(#daw-dot)"}),e.jsx("circle",{cx:"32",cy:"18",r:"2",fill:"url(#daw-dot)"}),e.jsx("circle",{cx:"42",cy:"18",r:"2",fill:"url(#daw-dot)"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"daw-gradient",x1:"32",y1:"0",x2:"32",y2:"64",children:[e.jsx("stop",{stopColor:"#22c55e"}),e.jsx("stop",{offset:"1",stopColor:"#15803d"})]}),e.jsxs("linearGradient",{id:"daw-stroke",x1:"32",y1:"20",x2:"32",y2:"44",children:[e.jsx("stop",{stopColor:"#80ff00"}),e.jsx("stop",{offset:"1",stopColor:"#00ff80"})]}),e.jsx("linearGradient",{id:"daw-bar1",y1:"26",y2:"38",children:e.jsx("stop",{stopColor:"#ff00ff"})}),e.jsx("linearGradient",{id:"daw-bar2",y1:"24",y2:"38",children:e.jsx("stop",{stopColor:"#00c2ff"})}),e.jsx("linearGradient",{id:"daw-bar3",y1:"28",y2:"38",children:e.jsx("stop",{stopColor:"#ffc200"})}),e.jsx("linearGradient",{id:"daw-dot",children:e.jsx("stop",{stopColor:"#ffffff"})})]})]}),microcopy:"Industry-standard tools at your fingertips",color:"from-green-500 to-emerald-600"},{id:4,title:"Real-time Analysis",description:"Get instant feedback on harmony, rhythm, and composition structure",icon:e.jsx(jt,{className:"w-8 h-8 text-neon-yellow"}),neonIcon:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{width:"64",height:"64",rx:"12",fill:"url(#analysis-gradient)"}),e.jsx("path",{d:"M12 32L20 20L28 36L36 24L44 40L52 32",stroke:"url(#analysis-wave)",strokeWidth:"3",fill:"none"}),e.jsx("circle",{cx:"20",cy:"20",r:"3",fill:"url(#analysis-dot1)"}),e.jsx("circle",{cx:"28",cy:"36",r:"3",fill:"url(#analysis-dot2)"}),e.jsx("circle",{cx:"36",cy:"24",r:"3",fill:"url(#analysis-dot3)"}),e.jsx("circle",{cx:"44",cy:"40",r:"3",fill:"url(#analysis-dot4)"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"analysis-gradient",x1:"32",y1:"0",x2:"32",y2:"64",children:[e.jsx("stop",{stopColor:"#f59e0b"}),e.jsx("stop",{offset:"1",stopColor:"#d97706"})]}),e.jsxs("linearGradient",{id:"analysis-wave",x1:"12",y1:"32",x2:"52",y2:"32",children:[e.jsx("stop",{stopColor:"#ffc200"}),e.jsx("stop",{offset:"0.5",stopColor:"#ff00ff"}),e.jsx("stop",{offset:"1",stopColor:"#00c2ff"})]}),e.jsx("linearGradient",{id:"analysis-dot1",children:e.jsx("stop",{stopColor:"#00ff80"})}),e.jsx("linearGradient",{id:"analysis-dot2",children:e.jsx("stop",{stopColor:"#ff0080"})}),e.jsx("linearGradient",{id:"analysis-dot3",children:e.jsx("stop",{stopColor:"#0080ff"})}),e.jsx("linearGradient",{id:"analysis-dot4",children:e.jsx("stop",{stopColor:"#ff8000"})})]})]}),microcopy:"AI-powered insights for better music",color:"from-yellow-500 to-orange-500"}],N=[{id:1,name:"Alex Rivera",role:"Music Producer",company:"Neon Studios",quote:"ChordCraft transformed my workflow. I can now generate complex chord progressions in seconds and fine-tune them with code-level precision.",avatar:"AR",waveform:[20,45,30,60,25,50,35,70,40,55]},{id:2,name:"Sarah Chen",role:"Composer",company:"Indie Artist",quote:"The Music-to-Code feature is revolutionary. It's like having a musical programming language that actually makes sense.",avatar:"SC",waveform:[35,60,45,75,30,65,50,80,35,70]},{id:3,name:"Marcus Johnson",role:"Beat Maker",company:"Urban Beats Collective",quote:"From concept to finished track in minutes. The AI understands my style and helps me push creative boundaries.",avatar:"MJ",waveform:[25,50,40,65,35,55,45,75,30,60]}],P=[{id:1,title:"Try Studio",description:"Experience the power of AI-driven music creation",icon:e.jsx(Y,{className:"w-6 h-6"}),action:"Launch Studio"},{id:2,title:"Upload Audio",description:"Import your existing tracks for analysis",icon:e.jsx(me,{className:"w-6 h-6"}),action:"Upload Track"},{id:3,title:"Generate Code",description:"Transform music into editable code format",icon:e.jsx(Z,{className:"w-6 h-6"}),action:"Generate Code"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black via-slate-950 to-black overflow-x-hidden",children:[e.jsxs(h.div,{className:"fixed inset-0 opacity-30",style:{y:m},children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(139,92,246,0.3),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(168,85,247,0.3),transparent_50%)]"}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(99,102,241,0.2),transparent_50%)]"})]}),e.jsx("section",{ref:o,className:"relative min-h-screen flex items-center justify-center px-6",children:e.jsxs(h.div,{className:"max-w-6xl mx-auto text-center z-10",style:{opacity:v},children:[e.jsx(h.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},className:"mb-8",children:e.jsxs(M,{className:"mb-6 px-6 py-2 text-lg bg-gradient-to-r from-purple-600/20 to-violet-600/20 border-purple-500/30 hover:border-purple-400/50 transition-all duration-300",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"AI-Powered Music Production Platform"]})}),e.jsxs(h.h1,{className:"text-6xl md:text-8xl font-bold mb-6 bg-gradient-to-r from-white via-purple-200 to-cyan-200 bg-clip-text text-transparent",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.4},children:["ChordCraft",e.jsx("span",{className:"block text-4xl md:text-6xl font-light italic text-purple-300",children:"Studio"})]}),e.jsx(h.p,{className:"text-xl md:text-2xl text-slate-300 mb-8 max-w-3xl mx-auto leading-relaxed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.6},children:"The first AI that truly understands both creativity and code. Transform musical ideas into professional compositions with unprecedented control."}),e.jsxs(h.div,{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.8},children:[e.jsx(T,{onClick:s,size:"lg",className:"px-8 py-4 text-lg bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-500 hover:to-violet-500 shadow-lg hover:shadow-purple-500/25 transition-all duration-300 glow-electric-violet group",children:e.jsxs(h.div,{className:"flex items-center",whileHover:{scale:1.05},children:[e.jsx(X,{className:"w-5 h-5 mr-2 group-hover:animate-pulse"}),"Generate Your First Track",e.jsx(ae,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})}),e.jsxs(T,{variant:"outline",size:"lg",className:"px-8 py-4 text-lg border-purple-500/30 hover:border-purple-400/50 hover:bg-purple-600/10 transition-all duration-300",onClick:()=>r(!0),children:[e.jsx(Y,{className:"w-5 h-5 mr-2"}),"Watch Demo"]})]}),e.jsx(h.div,{className:"relative max-w-4xl mx-auto",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1,delay:1},children:e.jsx(S,{className:"bg-black/40 backdrop-blur-xl border-purple-500/30 shadow-2xl",children:e.jsx(I,{className:"p-8",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),e.jsx(M,{className:"bg-purple-600/20 text-purple-300",children:"ChordCraft Studio"})]}),e.jsx("div",{className:"grid grid-cols-12 gap-2 h-32",children:Array.from({length:48}).map((p,C)=>e.jsx(h.div,{className:"bg-gradient-to-t from-purple-600/20 to-transparent rounded-sm",animate:{height:[10,Math.random()*80+20,10],opacity:[.3,1,.3]},transition:{duration:2,delay:C*.1,repeat:1/0,repeatType:"reverse"},style:{height:`${Math.random()*80+20}%`}},C))}),e.jsx("div",{className:"flex justify-center",children:e.jsx(h.div,{className:"text-xs font-mono text-purple-300",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"♪ Analyzing harmonic structure... BPM: 128 | Key: C Major ♪"})})]})})})}),e.jsx(h.div,{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:e.jsx(yt,{className:"w-8 h-8 text-purple-400"})})]})}),e.jsx("section",{ref:c,className:"relative py-24 px-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(h.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:x?{opacity:1,y:0}:{},transition:{duration:.8},children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Professional Tools. Creative Freedom."}),e.jsx("p",{className:"text-xl text-slate-300 max-w-2xl mx-auto",children:"Everything you need to create, analyze, and perfect your music with AI-powered precision"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((p,C)=>e.jsx(h.div,{initial:{opacity:0,y:30},animate:x?{opacity:1,y:0}:{},transition:{duration:.8,delay:C*.1},onHoverStart:()=>a(C),children:e.jsxs(S,{className:"bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-xl border-purple-500/30 hover:border-purple-400/50 transition-all duration-300 group overflow-hidden relative",children:[e.jsxs(I,{className:"p-6 text-center",children:[e.jsx(h.div,{className:"w-16 h-16 mx-auto mb-4 relative",whileHover:{scale:1.1},transition:{duration:.3},children:e.jsx(h.div,{animate:t===C?{boxShadow:["0 0 20px rgba(139, 92, 246, 0.3)","0 0 40px rgba(139, 92, 246, 0.6)","0 0 20px rgba(139, 92, 246, 0.3)"]}:{},transition:{duration:2,repeat:1/0},children:p.neonIcon})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:p.title}),e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:p.description}),e.jsx(B,{children:t===C&&e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-xs text-purple-300 font-medium",children:p.microcopy})})]}),e.jsx(h.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-600/0 via-purple-600/5 to-purple-600/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]})},p.id))})]})}),e.jsx("section",{ref:n,className:"relative py-24 px-6 bg-gradient-to-b from-transparent to-slate-950/50",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs(h.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:y?{opacity:1,y:0}:{},transition:{duration:.8},children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent",children:"Loved by Creators Worldwide"}),e.jsx("p",{className:"text-xl text-slate-300",children:"Join thousands of artists pushing the boundaries of music creation"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:N.map((p,C)=>e.jsx(h.div,{initial:{opacity:0,y:30},animate:y?{opacity:1,y:0}:{},transition:{duration:.8,delay:C*.2},children:e.jsx(S,{className:"bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-xl border-cyan-500/30 hover:border-cyan-400/50 transition-all duration-300 h-full relative overflow-hidden",children:e.jsxs(I,{className:"p-6",children:[e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-20",children:e.jsxs("svg",{viewBox:"0 0 80 80",className:"w-full h-full",children:[p.waveform.map((u,j)=>e.jsx(h.rect,{x:j*8,y:80-u,width:"6",height:u,fill:"url(#waveform-gradient)",animate:{height:[u,u+10,u]},transition:{duration:2,delay:j*.1,repeat:1/0,repeatType:"reverse"}},j)),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"waveform-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#00c2ff"}),e.jsx("stop",{offset:"100%",stopColor:"#80ff00"})]})})]})}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold mr-4",children:p.avatar}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:p.name}),e.jsx("p",{className:"text-sm text-slate-400",children:p.role}),e.jsx("p",{className:"text-xs text-cyan-400",children:p.company})]})]}),e.jsx(wt,{className:"w-6 h-6 text-cyan-400 mb-3"}),e.jsxs("p",{className:"text-slate-300 leading-relaxed italic",children:['"',p.quote,'"']}),e.jsx("div",{className:"flex items-center mt-4",children:[...Array(5)].map((u,j)=>e.jsx(Nt,{className:"w-4 h-4 text-yellow-400 fill-current"},j))})]})})},p.id))})]})}),e.jsx("section",{ref:b,className:"relative py-24 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(h.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:f?{opacity:1,y:0}:{},transition:{duration:.8},children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-lime-200 bg-clip-text text-transparent",children:"Start Creating in 3 Steps"}),e.jsx("p",{className:"text-xl text-slate-300",children:"From idea to finished track in minutes"})]}),e.jsx("div",{className:"space-y-8",children:P.map((p,C)=>e.jsxs(h.div,{initial:{opacity:0,x:C%2===0?-50:50},animate:f?{opacity:1,x:0}:{},transition:{duration:.8,delay:C*.2},className:`flex items-center gap-8 ${C%2===1?"flex-row-reverse":""}`,children:[e.jsx("div",{className:"flex-1",children:e.jsx(S,{className:"bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-xl border-lime-500/30 hover:border-lime-400/50 transition-all duration-300",children:e.jsxs(I,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-lime-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4",children:p.id}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold text-white mb-2",children:p.title}),e.jsx("p",{className:"text-slate-300",children:p.description})]})]}),e.jsxs(T,{size:"lg",className:"bg-gradient-to-r from-lime-600 to-green-600 hover:from-lime-500 hover:to-green-500 shadow-lg hover:shadow-lime-500/25 transition-all duration-300",onClick:p.id===1?s:void 0,children:[p.icon,e.jsx("span",{className:"ml-2",children:p.action}),e.jsx(ae,{className:"w-4 h-4 ml-2"})]})]})})}),C<P.length-1&&e.jsx(h.div,{className:"flex-shrink-0",animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"linear"},children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-violet-600 rounded-full flex items-center justify-center",children:e.jsx(ae,{className:"w-6 h-6 text-white"})})})]},p.id))}),e.jsx(h.div,{className:"text-center mt-16",initial:{opacity:0,scale:.9},animate:f?{opacity:1,scale:1}:{},transition:{duration:.8,delay:.8},children:e.jsx(S,{className:"bg-gradient-to-br from-purple-900/30 to-violet-900/30 backdrop-blur-xl border-purple-500/50 max-w-md mx-auto",children:e.jsxs(I,{className:"p-8 text-center",children:[e.jsx(oe,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Ready to Create?"}),e.jsx("p",{className:"text-slate-300 mb-6",children:"Join the music production revolution today"}),e.jsxs(T,{onClick:s,size:"lg",className:"w-full bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-500 hover:to-violet-500 shadow-lg hover:shadow-purple-500/25 transition-all duration-300 glow-electric-violet",children:[e.jsx(X,{className:"w-5 h-5 mr-2"}),"Launch ChordCraft Studio"]})]})})})]})})]})}function be({className:s,...t}){return e.jsx(tt,{"data-slot":"label",className:k("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}function ns({className:s,orientation:t="horizontal",decorative:a=!0,...i}){return e.jsx(st,{"data-slot":"separator-root",decorative:a,orientation:t,className:k("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...i})}function ls({onBack:s}){const{signInWithEmail:t,signInWithOAuth:a}=ue(),[i,r]=l.useState(!1),[o,c]=l.useState(""),[n,b]=l.useState(""),[d,m]=l.useState(!1),[v,x]=l.useState(""),y=async N=>{N.preventDefault(),m(!0),x("");try{await t(o,n)}catch(P){x(P.message)}finally{m(!1)}},f=async()=>{m(!0);try{await a("google")}catch(N){x(N.message)}finally{m(!1)}},w=async()=>{m(!0);try{await a("github")}catch(N){x(N.message)}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-dark flex items-center justify-center p-4",children:e.jsx(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(S,{className:"bg-slate-800/50 border-slate-600/30 backdrop-blur-sm",children:[e.jsxs(z,{className:"text-center",children:[e.jsxs(T,{variant:"ghost",size:"sm",onClick:s,className:"absolute left-4 top-4 text-slate-400 hover:text-slate-200",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsx(R,{className:"text-2xl font-bold text-gold",children:i?"Create Account":"Welcome Back"}),e.jsx("p",{className:"text-slate-400 mt-2",children:i?"Join ChordCraft and start creating music":"Sign in to continue to your studio"})]}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(T,{onClick:f,disabled:d,className:"w-full bg-white hover:bg-gray-100 text-gray-900",children:[e.jsx(kt,{className:"w-4 h-4 mr-2"}),"Continue with Google"]}),e.jsxs(T,{onClick:w,disabled:d,className:"w-full bg-gray-900 hover:bg-gray-800 text-white",children:[e.jsx(At,{className:"w-4 h-4 mr-2"}),"Continue with GitHub"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(ns,{className:"w-full"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-slate-800 px-2 text-slate-400",children:"Or continue with"})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{htmlFor:"email",className:"text-slate-200",children:"Email"}),e.jsx(ce,{id:"email",type:"email",value:o,onChange:N=>c(N.target.value),placeholder:"Enter your email",className:"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(be,{htmlFor:"password",className:"text-slate-200",children:"Password"}),e.jsx(ce,{id:"password",type:"password",value:n,onChange:N=>b(N.target.value),placeholder:"Enter your password",className:"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400",required:!0})]}),v&&e.jsx(h.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm text-center",children:v}),e.jsxs(T,{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[d?e.jsx(de,{className:"w-4 h-4 mr-2 animate-spin"}):null,i?"Create Account":"Sign In"]})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>r(!i),className:"text-slate-400 hover:text-slate-200 text-sm",children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})})}function os({header:s,leftPanel:t,mainPanel:a,rightPanel:i}){const[r,o]=l.useState(!1),[c,n]=l.useState(!1),[b,d]=l.useState(!1);return l.useEffect(()=>{const m=()=>{o(window.innerWidth<1024),window.innerWidth>=1024&&(n(!1),d(!1))};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),r?e.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-hidden",children:[s,e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-purple-800/30 bg-black/20 backdrop-blur-sm lg:hidden",children:[e.jsxs(L,{variant:"ghost",size:"sm",hapticType:"light",onClick:()=>n(!c),className:"text-purple-300 hover:text-white",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),"Tracks"]}),e.jsx("div",{className:"text-sm text-purple-300 font-medium",children:"ChordCraft Studio"}),e.jsxs(L,{variant:"ghost",size:"sm",hapticType:"light",onClick:()=>d(!b),className:"text-purple-300 hover:text-white",children:["AI Assistant",e.jsx(fe,{className:"w-4 h-4 ml-2"})]})]}),e.jsxs("div",{className:"flex h-[calc(100vh-8rem)] relative",children:[e.jsx("div",{className:"flex-1",children:a}),e.jsx(B,{children:c&&e.jsxs(e.Fragment,{children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-10",onClick:()=>n(!1)}),e.jsx(h.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute left-0 top-0 bottom-0 w-80 max-w-[85vw] z-20",children:e.jsxs("div",{className:"h-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border-r border-purple-700/30",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-purple-800/30",children:[e.jsx("h3",{className:"font-medium text-purple-200",children:"Track Manager"}),e.jsx(L,{variant:"ghost",size:"sm",hapticType:"light",onClick:()=>n(!1),className:"text-purple-300 hover:text-white",children:e.jsx(Q,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"h-[calc(100%-4rem)]",children:t})]})})]})}),e.jsx(B,{children:b&&e.jsxs(e.Fragment,{children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-10",onClick:()=>d(!1)}),e.jsx(h.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"absolute right-0 top-0 bottom-0 w-80 max-w-[85vw] z-20",children:e.jsxs("div",{className:"h-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border-l border-purple-700/30",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-purple-800/30",children:[e.jsx("h3",{className:"font-medium text-purple-200",children:"AI Assistant"}),e.jsx(L,{variant:"ghost",size:"sm",hapticType:"light",onClick:()=>d(!1),className:"text-purple-300 hover:text-white",children:e.jsx(Q,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"h-[calc(100%-4rem)]",children:i})]})})]})})]})]}):e.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-hidden",children:[s,e.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[t,a,i]})]})}function cs(){const{user:s,loading:t}=ue(),[a,i]=l.useState("landing"),[r,o]=l.useState(!1),[c,n]=l.useState(null),[b,d]=l.useState(!1);return console.log("AppContent render:",{user:s,loading:t,currentView:a}),t?(console.log("Showing loading spinner"),e.jsx("div",{className:"min-h-screen bg-gradient-dark flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})})):s?e.jsxs(e.Fragment,{children:[e.jsx(os,{header:e.jsx(Gt,{onShowSubscription:()=>o(!0)}),leftPanel:e.jsx(Vt,{currentTrack:c,setCurrentTrack:n,isPlaying:b,setIsPlaying:d}),mainPanel:e.jsx(Ht,{currentTrack:c,isPlaying:b}),rightPanel:e.jsx(Yt,{})}),e.jsx(rs,{open:r,onOpenChange:o})]}):a==="login"?e.jsx(ls,{onBack:()=>i("landing")}):e.jsx(is,{onEnterStudio:()=>i("login")})}function ds(){return console.log("App component rendering"),e.jsx(Ft,{children:e.jsxs(Pt,{children:[e.jsx(cs,{}),e.jsx(Te,{})]})})}Fe.createRoot(document.getElementById("root")).render(e.jsx(ds,{}));
//# sourceMappingURL=index-S22JMfT2.js.map
