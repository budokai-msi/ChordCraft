{"version":3,"file":"index-DwhT2ael.js","sources":["../../src/components/Auth.tsx","../../src/services/AudioEngine.tsx","../../src/components/ui/utils.ts","../../src/components/ui/button.tsx","../../src/components/ui/badge.tsx","../../src/components/ui/avatar.tsx","../../src/components/Header.tsx","../../src/components/HapticButton.tsx","../../src/components/ui/slider.tsx","../../src/components/HapticSlider.tsx","../../src/components/ui/card.tsx","../../src/components/ui/progress.tsx","../../src/utils/ChordCraftDecoder.ts","../../src/components/SimpleFileUpload.tsx","../../src/components/ui/scroll-area.tsx","../../src/components/LeftPanel.tsx","../../src/components/EnhancedTransportControls.tsx","../../src/components/ProfessionalPianoRoll.tsx","../../src/components/MainPanel.tsx","../../src/components/ui/tabs.tsx","../../src/components/ui/input.tsx","../../src/components/AICompanion.tsx","../../src/components/CodeEditor.tsx","../../src/components/MusicAnalysis.tsx","../../src/components/RightPanel.tsx","../../src/components/ui/dialog.tsx","../../src/components/SubscriptionModal.tsx","../../src/components/LandingPage.tsx","../../src/components/ui/label.tsx","../../src/components/ui/separator.tsx","../../src/components/Login.tsx","../../src/components/ResponsiveLayout.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { createClient, User, Session } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = (import.meta as any).env?.VITE_SUPABASE_URL || 'https://wgofqkisiqkygpnliuwl.supabase.co';\r\nconst supabaseAnonKey = (import.meta as any).env?.VITE_SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indnb2Zxa2lzaXFreWdwbmxpdXdsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc4ODE4MzEsImV4cCI6MjA3MzQ1NzgzMX0.DcqJ7XNAkMiOT-3Vnlmvua84wNqahgfd3JQ9wpTW-yg';\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  session: Session | null;\r\n  loading: boolean;\r\n  signInWithOAuth: (provider: 'google' | 'github') => Promise<void>;\r\n  signInWithEmail: (email: string, password: string) => Promise<void>;\r\n  signOut: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [session, setSession] = useState<Session | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session);\r\n      setUser(session?.user || null);\r\n      setLoading(false);\r\n    });\r\n\r\n    const { data: authListener } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setSession(session);\r\n      setUser(session?.user || null);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => {\r\n      authListener.subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  const signInWithOAuth = async (provider: 'google' | 'github') => {\r\n    await supabase.auth.signInWithOAuth({ \r\n      provider,\r\n      options: {\r\n        redirectTo: `${window.location.origin}`,\r\n      },\r\n    });\r\n  };\r\n\r\n  const signInWithEmail = async (email: string, password: string) => {\r\n    const { error } = await supabase.auth.signInWithPassword({ email, password });\r\n    if (error) throw error;\r\n  };\r\n\r\n  const signOut = async () => {\r\n    await supabase.auth.signOut();\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    session,\r\n    loading,\r\n    signInWithOAuth,\r\n    signInWithEmail,\r\n    signOut,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (context === undefined) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n","\"use client\";\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n  useEffect,\r\n  useCallback,\r\n  useMemo,\r\n} from \"react\";\r\n\r\ninterface AudioEngineContextType {\r\n  isPlaying: boolean;\r\n  currentTime: number;\r\n  duration: number;\r\n  volume: number;\r\n  play: () => void;\r\n  pause: () => void;\r\n  stop: () => void;\r\n  setVolume: (volume: number) => void;\r\n  loadAudio: (audioUrl: string) => void;\r\n  seekTo: (time: number) => void;\r\n}\r\n\r\nconst AudioEngineContext = createContext<AudioEngineContextType | undefined>(\r\n  undefined\r\n);\r\n\r\nexport function AudioEngineProvider({ children }: { children: React.ReactNode }) {\r\n  const audioRef = useRef<HTMLAudioElement | null>(null);\r\n  const rafId = useRef<number | null>(null);\r\n\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [volume, setVolume] = useState(0.8);\r\n\r\n  // ---- helpers ----\r\n  const startRaf = useCallback(() => {\r\n    if (rafId.current != null) return;\r\n    const loop = () => {\r\n      const a = audioRef.current;\r\n      if (a) setCurrentTime(a.currentTime || 0);\r\n      rafId.current = requestAnimationFrame(loop);\r\n    };\r\n    rafId.current = requestAnimationFrame(loop);\r\n  }, []);\r\n\r\n  const stopRaf = useCallback(() => {\r\n    if (rafId.current != null) {\r\n      cancelAnimationFrame(rafId.current);\r\n      rafId.current = null;\r\n    }\r\n  }, []);\r\n\r\n  // ---- init element (browser only) ----\r\n  useEffect(() => {\r\n    const a = new Audio();\r\n    a.preload = \"metadata\";\r\n    a.crossOrigin = \"anonymous\"; // safer for remote files / analyzers\r\n    a.volume = volume;\r\n\r\n    const handleLoadedMeta = () => setDuration(Number.isFinite(a.duration) ? a.duration : 0);\r\n    const handleDurationChange = () => setDuration(Number.isFinite(a.duration) ? a.duration : 0);\r\n    const handleEnded = () => {\r\n      setIsPlaying(false);\r\n      setCurrentTime(0);\r\n      stopRaf();\r\n    };\r\n    const handlePlay = () => {\r\n      setIsPlaying(true);\r\n      startRaf();\r\n    };\r\n    const handlePause = () => {\r\n      setIsPlaying(false);\r\n      stopRaf();\r\n      setCurrentTime(a.currentTime || 0);\r\n    };\r\n    const handleError = () => {\r\n      // Fail quietly for now; consumers can add their own UI if needed.\r\n      console.error(\"Audio error\", a.error);\r\n      setIsPlaying(false);\r\n      stopRaf();\r\n    };\r\n\r\n    a.addEventListener(\"loadedmetadata\", handleLoadedMeta);\r\n    a.addEventListener(\"durationchange\", handleDurationChange);\r\n    a.addEventListener(\"ended\", handleEnded);\r\n    a.addEventListener(\"play\", handlePlay);\r\n    a.addEventListener(\"pause\", handlePause);\r\n    a.addEventListener(\"error\", handleError);\r\n\r\n    audioRef.current = a;\r\n\r\n    return () => {\r\n      // cleanup (React 18 StrictMode safe)\r\n      a.pause();\r\n      stopRaf();\r\n      a.src = \"\"; // release resource\r\n      a.load();\r\n\r\n      a.removeEventListener(\"loadedmetadata\", handleLoadedMeta);\r\n      a.removeEventListener(\"durationchange\", handleDurationChange);\r\n      a.removeEventListener(\"ended\", handleEnded);\r\n      a.removeEventListener(\"play\", handlePlay);\r\n      a.removeEventListener(\"pause\", handlePause);\r\n      a.removeEventListener(\"error\", handleError);\r\n\r\n      audioRef.current = null;\r\n    };\r\n  }, [startRaf, stopRaf, volume]);\r\n\r\n  // ---- controls ----\r\n  const play = useCallback(() => {\r\n    const a = audioRef.current;\r\n    if (!a) return;\r\n    a\r\n      .play()\r\n      .then(() => {\r\n        // isPlaying will be set by 'play' event\r\n      })\r\n      .catch((err) => {\r\n        // Autoplay policy or quick toggle race; keep state consistent.\r\n        console.warn(\"play() rejected:\", err?.message || err);\r\n        setIsPlaying(false);\r\n      });\r\n  }, []);\r\n\r\n  const pause = useCallback(() => {\r\n    const a = audioRef.current;\r\n    if (!a) return;\r\n    a.pause();\r\n    // 'pause' event will handle state/rAF\r\n  }, []);\r\n\r\n  const stop = useCallback(() => {\r\n    const a = audioRef.current;\r\n    if (!a) return;\r\n    a.pause();\r\n    a.currentTime = 0;\r\n    setCurrentTime(0);\r\n    setIsPlaying(false);\r\n    stopRaf();\r\n  }, [stopRaf]);\r\n\r\n  const setVolumeLevel = useCallback((newVolume: number) => {\r\n    const v = Math.min(1, Math.max(0, newVolume));\r\n    setVolume(v);\r\n    if (audioRef.current) audioRef.current.volume = v;\r\n  }, []);\r\n\r\n  const loadAudio = useCallback((audioUrl: string) => {\r\n    const a = audioRef.current;\r\n    if (!a) return;\r\n\r\n    // Reset state before loading new source\r\n    stopRaf();\r\n    setIsPlaying(false);\r\n    setCurrentTime(0);\r\n    setDuration(0);\r\n\r\n    // Assign source & load\r\n    a.src = audioUrl;\r\n    // calling load() ensures 'loadedmetadata' fires reliably\r\n    a.load();\r\n  }, [stopRaf]);\r\n\r\n  const seekTo = useCallback((time: number) => {\r\n    const a = audioRef.current;\r\n    if (!a) return;\r\n    const d = Number.isFinite(a.duration) ? a.duration : 0;\r\n    // allow seeking even if metadata isn't ready; clamp if known\r\n    const t = d > 0 ? Math.min(Math.max(time, 0), d) : Math.max(time, 0);\r\n    a.currentTime = t;\r\n    setCurrentTime(t);\r\n  }, []);\r\n\r\n  const value = useMemo(\r\n    () => ({\r\n      isPlaying,\r\n      currentTime,\r\n      duration,\r\n      volume,\r\n      play,\r\n      pause,\r\n      stop,\r\n      setVolume: setVolumeLevel,\r\n      loadAudio,\r\n      seekTo,\r\n    }),\r\n    [isPlaying, currentTime, duration, volume, play, pause, stop, setVolumeLevel, loadAudio, seekTo]\r\n  );\r\n\r\n  return (\r\n    <AudioEngineContext.Provider value={value}>\r\n      {children}\r\n    </AudioEngineContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAudioEngine() {\r\n  const context = useContext(AudioEngineContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAudioEngine must be used within an AudioEngineProvider\");\r\n  }\r\n  return context;\r\n}","import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n","import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9 rounded-md\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean;\r\n  }) {\r\n  const Comp = asChild ? Slot : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Button, buttonVariants };\r\n","import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nfunction Badge({\r\n  className,\r\n  variant,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> &\r\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot : \"span\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\r\n        \"relative flex size-10 shrink-0 overflow-hidden rounded-full\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarImage({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn(\"aspect-square size-full\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback };\r\n","import React from \"react\";\r\nimport { Brain, Zap, User, Settings, LogOut } from \"lucide-react\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\";\r\nimport { useAuth } from \"./Auth\";\r\n\r\ninterface HeaderProps {\r\n  onShowSubscription: () => void;\r\n}\r\n\r\nexport function Header({ onShowSubscription }: HeaderProps) {\r\n  const { user, signOut } = useAuth();\r\n  return (\r\n    <header className=\"h-16 border-b border-purple-800/30 bg-black/20 backdrop-blur-sm px-6 flex items-center justify-between\">\r\n      {/* Logo and Branding */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <div className=\"w-8 h-8 bg-gradient-to-br from-purple-400 to-pink-400 rounded-lg flex items-center justify-center\">\r\n            <Brain className=\"w-5 h-5 text-white\" />\r\n          </div>\r\n          <h1 className=\"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\r\n            ChordCraft Studio\r\n          </h1>\r\n        </div>\r\n        \r\n        <div className=\"flex gap-2\">\r\n          <Badge variant=\"secondary\" className=\"bg-purple-600/20 text-purple-300 border-purple-500/30\">\r\n            <Zap className=\"w-3 h-3 mr-1\" />\r\n            AI-Powered\r\n          </Badge>\r\n          <Badge variant=\"outline\" className=\"bg-gradient-to-r from-yellow-400/10 to-yellow-600/10 text-yellow-400 border-yellow-500/30\">\r\n            PRO User\r\n          </Badge>\r\n        </div>\r\n      </div>\r\n\r\n      {/* User Actions */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <Button \r\n          variant=\"outline\" \r\n          size=\"sm\"\r\n          onClick={onShowSubscription}\r\n          className=\"bg-gradient-to-r from-purple-600 to-pink-600 border-none text-white hover:from-purple-700 hover:to-pink-700\"\r\n        >\r\n          Upgrade to PRO\r\n        </Button>\r\n        \r\n        <Button variant=\"ghost\" size=\"sm\">\r\n          <Settings className=\"w-4 h-4\" />\r\n        </Button>\r\n        \r\n        <div className=\"flex items-center gap-2\">\r\n          <Avatar className=\"w-8 h-8\">\r\n            <AvatarImage src={user?.user_metadata?.avatar_url} />\r\n            <AvatarFallback className=\"bg-purple-600\">\r\n              <User className=\"w-4 h-4\" />\r\n            </AvatarFallback>\r\n          </Avatar>\r\n          \r\n          <div className=\"text-sm\">\r\n            <div className=\"text-slate-200 font-medium\">\r\n              {user?.user_metadata?.full_name || user?.email || 'User'}\r\n            </div>\r\n          </div>\r\n          \r\n          <Button \r\n            variant=\"ghost\" \r\n            size=\"sm\"\r\n            onClick={signOut}\r\n            className=\"text-slate-400 hover:text-slate-200\"\r\n          >\r\n            <LogOut className=\"w-4 h-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}","import React from \"react\";\r\nimport { Button } from \"./ui/button\";\r\nimport { cn } from \"./ui/utils\";\r\n\r\ninterface HapticButtonProps extends React.ComponentProps<typeof Button> {\r\n  hapticType?: \"light\" | \"medium\" | \"heavy\" | \"selection\";\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function HapticButton({ \r\n  hapticType = \"light\", \r\n  onClick, \r\n  className,\r\n  children, \r\n  ...props \r\n}: HapticButtonProps) {\r\n  const triggerHaptic = () => {\r\n    // Web Vibration API for mobile devices\r\n    if (navigator.vibrate) {\r\n      switch (hapticType) {\r\n        case \"light\":\r\n          navigator.vibrate(10);\r\n          break;\r\n        case \"medium\":\r\n          navigator.vibrate(20);\r\n          break;\r\n        case \"heavy\":\r\n          navigator.vibrate([30, 10, 30]);\r\n          break;\r\n        case \"selection\":\r\n          navigator.vibrate(5);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n    triggerHaptic();\r\n    onClick?.(e);\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      {...props}\r\n      onClick={handleClick}\r\n      className={cn(\r\n        \"transition-all duration-200 active:scale-95 hover:shadow-lg\",\r\n        \"active:shadow-inner active:brightness-90\",\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </Button>\r\n  );\r\n}","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as SliderPrimitive from \"@radix-ui/react-slider\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Slider({\r\n  className,\r\n  defaultValue,\r\n  value,\r\n  min = 0,\r\n  max = 100,\r\n  ...props\r\n}: React.ComponentProps<typeof SliderPrimitive.Root>) {\r\n  const _values = React.useMemo(\r\n    () =>\r\n      Array.isArray(value)\r\n        ? value\r\n        : Array.isArray(defaultValue)\r\n          ? defaultValue\r\n          : [min, max],\r\n    [value, defaultValue, min, max],\r\n  );\r\n\r\n  return (\r\n    <SliderPrimitive.Root\r\n      data-slot=\"slider\"\r\n      defaultValue={defaultValue}\r\n      value={value}\r\n      min={min}\r\n      max={max}\r\n      className={cn(\r\n        \"relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <SliderPrimitive.Track\r\n        data-slot=\"slider-track\"\r\n        className={cn(\r\n          \"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5\",\r\n        )}\r\n      >\r\n        <SliderPrimitive.Range\r\n          data-slot=\"slider-range\"\r\n          className={cn(\r\n            \"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full\",\r\n          )}\r\n        />\r\n      </SliderPrimitive.Track>\r\n      {Array.from({ length: _values.length }, (_, index) => (\r\n        <SliderPrimitive.Thumb\r\n          data-slot=\"slider-thumb\"\r\n          key={index}\r\n          className=\"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50\"\r\n        />\r\n      ))}\r\n    </SliderPrimitive.Root>\r\n  );\r\n}\r\n\r\nexport { Slider };\r\n","import React from \"react\";\r\nimport { Slider } from \"./ui/slider\";\r\nimport { cn } from \"./ui/utils\";\r\n\r\ninterface HapticSliderProps extends React.ComponentProps<typeof Slider> {\r\n  onValueChange?: (value: number[]) => void;\r\n}\r\n\r\nexport function HapticSlider({ onValueChange, className, ...props }: HapticSliderProps) {\r\n  const handleValueChange = (value: number[]) => {\r\n    // Light haptic feedback for slider interaction\r\n    if (navigator.vibrate) {\r\n      navigator.vibrate(3);\r\n    }\r\n    onValueChange?.(value);\r\n  };\r\n\r\n  return (\r\n    <Slider\r\n      {...props}\r\n      onValueChange={handleValueChange}\r\n      className={cn(\r\n        \"transition-all duration-200\",\r\n        \"[&>span[role=slider]]:transition-all [&>span[role=slider]]:duration-200\",\r\n        \"[&>span[role=slider]]:hover:scale-105 [&>span[role=slider]]:active:scale-110\",\r\n        \"[&>span[role=slider]]:hover:shadow-lg [&>span[role=slider]]:active:shadow-xl\",\r\n        className\r\n      )}\r\n    />\r\n  );\r\n}","import * as React from \"react\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <h4\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <p\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn(\"px-6 [&:last-child]:pb-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 pb-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n};\r\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Progress({\r\n  className,\r\n  value,\r\n  ...props\r\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\r\n  return (\r\n    <ProgressPrimitive.Root\r\n      data-slot=\"progress\"\r\n      className={cn(\r\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <ProgressPrimitive.Indicator\r\n        data-slot=\"progress-indicator\"\r\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\r\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n      />\r\n    </ProgressPrimitive.Root>\r\n  );\r\n}\r\n\r\nexport { Progress };\r\n","/**\r\n * ChordCraft v2 Decoder\r\n * Supports both lossless (FLAC) and neural codec playback\r\n */\r\n\r\nexport interface ChordCraftMetadata {\r\n  bpm: number;\r\n  key: string;\r\n  time: string;\r\n  chords: string;\r\n}\r\n\r\nexport interface AudioPayload {\r\n  format: 'flac' | 'neural_codec';\r\n  sampleRate: number;\r\n  channels: number;\r\n  sha256?: string;\r\n  chunks?: number;\r\n  chunkSize?: number;\r\n  duration?: number;\r\n  model?: string;\r\n  tokens?: number;\r\n  compressionRatio?: number;\r\n}\r\n\r\nexport interface ChordCraftSong {\r\n  meta: ChordCraftMetadata;\r\n  analysis: {\r\n    chords: string;\r\n  };\r\n  audio?: AudioPayload;\r\n  neural?: AudioPayload;\r\n  flacData?: ArrayBuffer;\r\n  neuralTokens?: number[];\r\n}\r\n\r\nexport class ChordCraftDecoder {\r\n  private audioContext: AudioContext | null = null;\r\n\r\n  constructor() {\r\n    if (typeof window !== 'undefined') {\r\n      this.audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Parse ChordCraft v2 code and extract all components\r\n   */\r\n  async parseChordCraftCode(code: string): Promise<ChordCraftSong> {\r\n    const lines = code.split('\\n');\r\n    let currentLine = 0;\r\n\r\n    // Parse metadata\r\n    const metaMatch = code.match(/meta:\\s*\\{\\s*bpm:\\s*(\\d+),\\s*key:\\s*\"([^\"]+)\",\\s*time:\\s*\"([^\"]+)\"\\s*\\}/);\r\n    if (!metaMatch) throw new Error('Invalid metadata format');\r\n\r\n    const meta: ChordCraftMetadata = {\r\n      bpm: parseInt(metaMatch[1]),\r\n      key: metaMatch[2],\r\n      time: metaMatch[3]\r\n    };\r\n\r\n    // Parse chords\r\n    const chordsMatch = code.match(/chords:\\s*([^}]+)/);\r\n    const chords = chordsMatch ? chordsMatch[1].trim() : '| N | N | N | N |';\r\n\r\n    // Parse audio payload\r\n    const audioMatch = code.match(/audio:\\s*\\{([^}]+)\\}/);\r\n    let audio: AudioPayload | undefined;\r\n    if (audioMatch) {\r\n      const audioStr = audioMatch[1];\r\n      const formatMatch = audioStr.match(/format:\\s*\"([^\"]+)\"/);\r\n      const srMatch = audioStr.match(/sr:\\s*(\\d+)/);\r\n      const channelsMatch = audioStr.match(/channels:\\s*(\\d+)/);\r\n      const shaMatch = audioStr.match(/sha256:\\s*\"([^\"]+)\"/);\r\n      const chunksMatch = audioStr.match(/chunks:\\s*(\\d+)/);\r\n      const chunkSizeMatch = audioStr.match(/chunk_size:\\s*(\\d+)/);\r\n\r\n      audio = {\r\n        format: (formatMatch?.[1] as 'flac' | 'neural_codec') || 'flac',\r\n        sampleRate: parseInt(srMatch?.[1] || '44100'),\r\n        channels: parseInt(channelsMatch?.[1] || '2'),\r\n        sha256: shaMatch?.[1],\r\n        chunks: parseInt(chunksMatch?.[1] || '0'),\r\n        chunkSize: parseInt(chunkSizeMatch?.[1] || '65536')\r\n      };\r\n    }\r\n\r\n    // Parse neural codec\r\n    const neuralMatch = code.match(/neural:\\s*\\{([^}]+)\\}/);\r\n    let neural: AudioPayload | undefined;\r\n    if (neuralMatch) {\r\n      const neuralStr = neuralMatch[1];\r\n      const formatMatch = neuralStr.match(/format:\\s*\"([^\"]+)\"/);\r\n      const modelMatch = neuralStr.match(/model:\\s*\"([^\"]+)\"/);\r\n      const tokensMatch = neuralStr.match(/tokens:\\s*(\\d+)/);\r\n      const compressionMatch = neuralStr.match(/compression_ratio:\\s*([\\d.]+)/);\r\n\r\n      neural = {\r\n        format: 'neural_codec',\r\n        sampleRate: 24000,\r\n        channels: 1,\r\n        model: modelMatch?.[1],\r\n        tokens: parseInt(tokensMatch?.[1] || '0'),\r\n        compressionRatio: parseFloat(compressionMatch?.[1] || '0')\r\n      };\r\n    }\r\n\r\n    // Extract FLAC data if present\r\n    let flacData: ArrayBuffer | undefined;\r\n    if (audio?.format === 'flac' && audio.chunks) {\r\n      flacData = await this.extractFlacData(code, audio);\r\n    }\r\n\r\n    // Extract neural tokens if present\r\n    let neuralTokens: number[] | undefined;\r\n    if (neural) {\r\n      const tokensMatch = code.match(/<<NEURAL_TOKENS>>\\s*(\\[.*?\\])/s);\r\n      if (tokensMatch) {\r\n        try {\r\n          neuralTokens = JSON.parse(tokensMatch[1]);\r\n        } catch (e) {\r\n          console.warn('Failed to parse neural tokens:', e);\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      meta,\r\n      analysis: { chords },\r\n      audio,\r\n      neural,\r\n      flacData,\r\n      neuralTokens\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Extract and reconstruct FLAC data from code chunks\r\n   */\r\n  private async extractFlacData(code: string, audio: AudioPayload): Promise<ArrayBuffer> {\r\n    const chunks: string[] = [];\r\n    \r\n    for (let i = 1; i <= (audio.chunks || 0); i++) {\r\n      const chunkRegex = new RegExp(`<<PAYLOAD:FLAC:${i}>>\\\\s*([\\\\s\\\\S]*?)(?=<<PAYLOAD:FLAC:|\\\\n\\\\})`, 'g');\r\n      const match = chunkRegex.exec(code);\r\n      if (match) {\r\n        chunks[i - 1] = match[1].replace(/\\s+/g, '');\r\n      }\r\n    }\r\n\r\n    const b64Data = chunks.join('');\r\n    const binaryString = atob(b64Data);\r\n    const bytes = new Uint8Array(binaryString.length);\r\n    \r\n    for (let i = 0; i < binaryString.length; i++) {\r\n      bytes[i] = binaryString.charCodeAt(i);\r\n    }\r\n\r\n    // Verify checksum if available\r\n    if (audio.sha256 && typeof crypto !== 'undefined' && crypto.subtle) {\r\n      const hashBuffer = await crypto.subtle.digest('SHA-256', bytes);\r\n      const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n      const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\r\n      \r\n      if (hashHex !== audio.sha256) {\r\n        throw new Error('Checksum mismatch - audio data may be corrupted');\r\n      }\r\n    }\r\n\r\n    return bytes.buffer;\r\n  }\r\n\r\n  /**\r\n   * Play audio from ChordCraft song data\r\n   * Prioritizes lossless over neural codec\r\n   */\r\n  async playAudio(song: ChordCraftSong): Promise<AudioBufferSourceNode> {\r\n    if (!this.audioContext) {\r\n      throw new Error('AudioContext not available');\r\n    }\r\n\r\n    let audioBuffer: AudioBuffer;\r\n\r\n    // Try lossless first (guaranteed identical)\r\n    if (song.flacData) {\r\n      try {\r\n        audioBuffer = await this.decodeFlac(song.flacData);\r\n      } catch (e) {\r\n        console.warn('FLAC decode failed, falling back to neural:', e);\r\n        audioBuffer = await this.decodeNeural(song.neuralTokens || []);\r\n      }\r\n    } \r\n    // Fall back to neural codec (near-identical)\r\n    else if (song.neuralTokens) {\r\n      audioBuffer = await this.decodeNeural(song.neuralTokens);\r\n    }\r\n    // Last resort: synthesize from metadata\r\n    else {\r\n      audioBuffer = await this.synthesizeFromMetadata(song.meta);\r\n    }\r\n\r\n    const source = this.audioContext.createBufferSource();\r\n    source.buffer = audioBuffer;\r\n    source.connect(this.audioContext.destination);\r\n    source.start();\r\n\r\n    return source;\r\n  }\r\n\r\n  /**\r\n   * Decode FLAC data to AudioBuffer\r\n   */\r\n  private async decodeFlac(flacData: ArrayBuffer): Promise<AudioBuffer> {\r\n    if (!this.audioContext) throw new Error('AudioContext not available');\r\n    \r\n    try {\r\n      // Try native decode first (some browsers support FLAC)\r\n      return await this.audioContext.decodeAudioData(flacData);\r\n    } catch (e) {\r\n      // For now, fall back to neural codec or synthetic playback\r\n      console.warn('Native FLAC decode not supported, falling back to neural/synthetic');\r\n      throw new Error('FLAC decoding not supported in this browser - use neural codec or WAV format');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Decode neural codec tokens to AudioBuffer\r\n   */\r\n  private async decodeNeural(tokens: number[]): Promise<AudioBuffer> {\r\n    if (!this.audioContext) throw new Error('AudioContext not available');\r\n    \r\n    // Placeholder implementation\r\n    // In production, you'd load the actual neural codec model\r\n    console.log('Decoding neural tokens (placeholder implementation)');\r\n    \r\n    // For demo, generate a simple tone based on tokens\r\n    const sampleRate = 24000;\r\n    const duration = tokens.length / 100; // Rough duration estimate\r\n    const buffer = this.audioContext.createBuffer(1, sampleRate * duration, sampleRate);\r\n    const channelData = buffer.getChannelData(0);\r\n    \r\n    for (let i = 0; i < channelData.length; i++) {\r\n      const tokenIndex = Math.floor(i / channelData.length * tokens.length);\r\n      const token = tokens[tokenIndex] || 0;\r\n      channelData[i] = (token / 1000) * 0.1; // Convert token to audio sample\r\n    }\r\n    \r\n    return buffer;\r\n  }\r\n\r\n  /**\r\n   * Synthesize audio from metadata (fallback)\r\n   */\r\n  private async synthesizeFromMetadata(meta: ChordCraftMetadata): Promise<AudioBuffer> {\r\n    if (!this.audioContext) throw new Error('AudioContext not available');\r\n    \r\n    const sampleRate = 44100;\r\n    const duration = 4; // 4 seconds\r\n    const buffer = this.audioContext.createBuffer(1, sampleRate * duration, sampleRate);\r\n    const channelData = buffer.getChannelData(0);\r\n    \r\n    // Generate a simple tone based on BPM\r\n    const frequency = 440; // A4 note\r\n    for (let i = 0; i < channelData.length; i++) {\r\n      const time = i / sampleRate;\r\n      channelData[i] = Math.sin(2 * Math.PI * frequency * time) * 0.1;\r\n    }\r\n    \r\n    return buffer;\r\n  }\r\n\r\n  /**\r\n   * Get playback strategy for a song\r\n   */\r\n  getPlaybackStrategy(song: ChordCraftSong): 'lossless' | 'neural' | 'synthetic' {\r\n    if (song.flacData) return 'lossless';\r\n    if (song.neuralTokens) return 'neural';\r\n    return 'synthetic';\r\n  }\r\n\r\n  /**\r\n   * Get file size estimate for code\r\n   */\r\n  getSizeEstimate(song: ChordCraftSong): { lossless: number; neural: number; total: number } {\r\n    const lossless = song.flacData ? song.flacData.byteLength : 0;\r\n    const neural = song.neuralTokens ? song.neuralTokens.length * 2 : 0; // 2 bytes per token\r\n    const total = lossless + neural;\r\n    \r\n    return { lossless, neural, total };\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const chordCraftDecoder = new ChordCraftDecoder();\r\n","\"use client\";\r\nimport React, { useState, useRef } from \"react\";\r\nimport { Upload, FileAudio, Loader2, Music } from \"lucide-react\";\r\nimport { HapticButton } from \"./HapticButton\";\r\nimport { Card, CardContent } from \"./ui/card\";\r\nimport { Progress } from \"./ui/progress\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { chordCraftDecoder, ChordCraftSong } from \"../utils/ChordCraftDecoder\";\r\n\r\ninterface FileUploadResult {\r\n  fileName: string;\r\n  fileSize: number;\r\n  fileType: string;\r\n  audioBuffer?: ArrayBuffer;\r\n  generatedCode?: string;\r\n  chordCraftSong?: ChordCraftSong;\r\n  playbackStrategy?: \"lossless\" | \"neural\" | \"synthetic\";\r\n}\r\n\r\ninterface SimpleFileUploadProps {\r\n  onUpload: (result: FileUploadResult) => void;\r\n}\r\n\r\nexport function SimpleFileUpload({ onUpload }: SimpleFileUploadProps) {\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const backendUrl =\r\n    (import.meta as any).env?.VITE_BACKEND_URL || \"http://127.0.0.1:5000\";\r\n\r\n  const validFile = (f: File) =>\r\n    [\"audio/mpeg\", \"audio/wav\", \"audio/ogg\", \"audio/aac\", \"audio/mp4\"].includes(\r\n      f.type\r\n    ) || /\\.(mp3|wav|ogg|aac|m4a|flac)$/i.test(f.name);\r\n\r\n  const handleDragOver = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n  };\r\n  const handleDragLeave = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n  };\r\n  const handleDrop = (e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n    const files = Array.from(e.dataTransfer.files);\r\n    if (files.length > 0) handleFileUpload(files[0]);\r\n  };\r\n  const handleFileSelect = () => fileInputRef.current?.click();\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const f = e.target.files?.[0];\r\n    if (f) handleFileUpload(f);\r\n  };\r\n\r\n  const handleFileUpload = async (file: File) => {\r\n    if (!validFile(file)) {\r\n      alert(\"Please select a valid audio file (MP3/WAV/OGG/AAC/M4A/FLAC).\");\r\n      return;\r\n    }\r\n    setIsUploading(true);\r\n    setUploadProgress(0);\r\n    if (navigator.vibrate) navigator.vibrate([10, 5, 10]);\r\n\r\n    try {\r\n      // Use XHR to get real progress\r\n      const fd = new FormData();\r\n      fd.append(\"audio\", file);\r\n\r\n      const url = `${backendUrl}/analyze`;\r\n      const xhr = new XMLHttpRequest();\r\n      const promise: Promise<string> = new Promise((resolve, reject) => {\r\n        xhr.open(\"POST\", url, true);\r\n        xhr.responseType = \"json\";\r\n        xhr.upload.onprogress = (ev) => {\r\n          if (ev.lengthComputable) {\r\n            setUploadProgress(Math.round((ev.loaded / ev.total) * 100));\r\n          }\r\n        };\r\n        xhr.onerror = () => reject(new Error(\"Network error\"));\r\n        xhr.onload = () => {\r\n          if (xhr.status >= 200 && xhr.status < 300) {\r\n            // Expecting: { success: true, code: \"...\" }\r\n            const body = xhr.response || {};\r\n            if (body.success && typeof body.code === \"string\") {\r\n              resolve(body.code);\r\n            } else {\r\n              reject(\r\n                new Error(\r\n                  body.error || \"Unexpected response (missing code field)\"\r\n                )\r\n              );\r\n            }\r\n          } else {\r\n            reject(new Error(`HTTP ${xhr.status}`));\r\n          }\r\n        };\r\n        xhr.send(fd);\r\n      });\r\n\r\n      const code = await promise;\r\n      setUploadProgress(100);\r\n\r\n      // Try to parse ChordCraft v2\r\n      let song: ChordCraftSong | undefined;\r\n      let strategy: \"lossless\" | \"neural\" | \"synthetic\" = \"synthetic\";\r\n      try {\r\n        song = await chordCraftDecoder.parseChordCraftCode(code);\r\n        strategy = chordCraftDecoder.getPlaybackStrategy(song);\r\n      } catch (e) {\r\n        console.warn(\"ChordCraft parse failed (still OK for plain text code):\", e);\r\n      }\r\n\r\n      const uploadResult: FileUploadResult = {\r\n        fileName: file.name,\r\n        fileSize: file.size,\r\n        fileType: file.type,\r\n        audioBuffer: await file.arrayBuffer(),\r\n        generatedCode: code,\r\n        chordCraftSong: song,\r\n        playbackStrategy: strategy,\r\n      };\r\n\r\n      onUpload(uploadResult);\r\n      if (navigator.vibrate) navigator.vibrate([20, 10, 20]);\r\n    } catch (err: any) {\r\n      console.error(\"Upload failed:\", err);\r\n      alert(`Upload failed: ${err?.message || \"Unknown error\"}`);\r\n      if (navigator.vibrate) navigator.vibrate([100, 50, 100]);\r\n    } finally {\r\n      setIsUploading(false);\r\n      setUploadProgress(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"relative overflow-hidden\">\r\n      <CardContent className=\"p-6\">\r\n        <motion.div\r\n          className={`relative border-2 border-dashed rounded-lg p-8 text-center transition-all duration-300 ${\r\n            isDragging\r\n              ? \"border-primary bg-primary/10 scale-105\"\r\n              : isUploading\r\n              ? \"border-green-500 bg-green-500/10\"\r\n              : \"border-muted-foreground/30 hover:border-primary/50 hover:bg-primary/5\"\r\n          }`}\r\n          onDragOver={handleDragOver}\r\n          onDragLeave={handleDragLeave}\r\n          onDrop={handleDrop}\r\n          animate={isDragging ? { scale: 1.02 } : { scale: 1 }}\r\n          transition={{ duration: 0.2 }}\r\n        >\r\n          <input\r\n            ref={fileInputRef}\r\n            type=\"file\"\r\n            accept=\"audio/*,.mp3,.wav,.ogg,.aac,.m4a,.flac\"\r\n            onChange={handleFileChange}\r\n            className=\"hidden\"\r\n          />\r\n          <AnimatePresence mode=\"wait\">\r\n            {isUploading ? (\r\n              <motion.div\r\n                key=\"uploading\"\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n                className=\"space-y-4\"\r\n              >\r\n                <motion.div\r\n                  animate={{ rotate: 360 }}\r\n                  transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\r\n                >\r\n                  <Loader2 className=\"w-12 h-12 mx-auto text-primary\" />\r\n                </motion.div>\r\n                <div className=\"space-y-2\">\r\n                  <p className=\"text-sm font-medium\">Uploading & analyzingâ€¦</p>\r\n                  <Progress value={uploadProgress} className=\"w-full\" />\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    {uploadProgress}% complete\r\n                  </p>\r\n                </div>\r\n              </motion.div>\r\n            ) : (\r\n              <motion.div\r\n                key=\"upload\"\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -10 }}\r\n                className=\"space-y-4\"\r\n              >\r\n                <motion.div\r\n                  animate={isDragging ? { scale: 1.2 } : { scale: 1 }}\r\n                  transition={{ duration: 0.2 }}\r\n                >\r\n                  {isDragging ? (\r\n                    <FileAudio className=\"w-12 h-12 mx-auto text-primary\" />\r\n                  ) : (\r\n                    <Upload className=\"w-12 h-12 mx-auto text-muted-foreground\" />\r\n                  )}\r\n                </motion.div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <h3 className=\"font-medium\">\r\n                    {isDragging ? \"Drop your audio file here\" : \"Upload Audio File\"}\r\n                  </h3>\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Drag & drop or click to select\r\n                  </p>\r\n                  <p className=\"text-xs text-muted-foreground\">\r\n                    MP3, WAV, OGG, AAC, M4A, FLAC\r\n                  </p>\r\n                </div>\r\n\r\n                <HapticButton\r\n                  onClick={handleFileSelect}\r\n                  variant=\"outline\"\r\n                  hapticType=\"medium\"\r\n                  className=\"mt-4\"\r\n                >\r\n                  <Music className=\"w-4 h-4 mr-2\" />\r\n                  Choose File\r\n                </HapticButton>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nconst ScrollArea = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\r\n>(({ className, children, ...props }, ref) => (\r\n  <ScrollAreaPrimitive.Root\r\n    ref={ref}\r\n    data-slot=\"scroll-area\"\r\n    className={cn(\"relative\", className)}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.Viewport\r\n      data-slot=\"scroll-area-viewport\"\r\n      className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\r\n    >\r\n      {children}\r\n    </ScrollAreaPrimitive.Viewport>\r\n    <ScrollBar />\r\n    <ScrollAreaPrimitive.Corner />\r\n  </ScrollAreaPrimitive.Root>\r\n));\r\nScrollArea.displayName = \"ScrollArea\";\r\n\r\nconst ScrollBar = React.forwardRef<\r\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\r\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\r\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n    ref={ref}\r\n    data-slot=\"scroll-area-scrollbar\"\r\n    orientation={orientation}\r\n    className={cn(\r\n      \"flex touch-none p-px transition-colors select-none\",\r\n      orientation === \"vertical\" &&\r\n        \"h-full w-2.5 border-l border-l-transparent\",\r\n      orientation === \"horizontal\" &&\r\n        \"h-2.5 flex-col border-t border-t-transparent\",\r\n      className,\r\n    )}\r\n    {...props}\r\n  >\r\n    <ScrollAreaPrimitive.ScrollAreaThumb\r\n      data-slot=\"scroll-area-thumb\"\r\n      className=\"bg-border relative flex-1 rounded-full\"\r\n    />\r\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n));\r\nScrollBar.displayName = \"ScrollBar\";\r\n\r\nexport { ScrollArea, ScrollBar };\r\n","import React, { useState } from \"react\";\r\nimport { Upload, Music, Volume2, VolumeX, Play, Pause, Plus } from \"lucide-react\";\r\nimport { HapticButton } from \"./HapticButton\";\r\nimport { HapticSlider } from \"./HapticSlider\";\r\nimport { SimpleFileUpload } from \"./SimpleFileUpload\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\r\nimport { ScrollArea } from \"./ui/scroll-area\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface Track {\r\n  id: string;\r\n  name: string;\r\n  type: \"audio\" | \"midi\";\r\n  duration: string;\r\n  volume: number;\r\n  muted: boolean;\r\n  solo: boolean;\r\n  generatedCode?: string;\r\n}\r\n\r\ninterface LeftPanelProps {\r\n  currentTrack: Track | null;\r\n  setCurrentTrack: (track: Track | null) => void;\r\n  isPlaying: boolean;\r\n  setIsPlaying: (playing: boolean) => void;\r\n}\r\n\r\nexport function LeftPanel({ currentTrack, setCurrentTrack, isPlaying, setIsPlaying }: LeftPanelProps) {\r\n  const [tracks, setTracks] = useState<Track[]>([\r\n    {\r\n      id: \"1\",\r\n      name: \"Piano Melody\",\r\n      type: \"midi\",\r\n      duration: \"2:34\",\r\n      volume: 80,\r\n      muted: false,\r\n      solo: false\r\n    },\r\n    {\r\n      id: \"2\", \r\n      name: \"Bass Line\",\r\n      type: \"audio\",\r\n      duration: \"2:34\",\r\n      volume: 65,\r\n      muted: false,\r\n      solo: false\r\n    },\r\n    {\r\n      id: \"3\",\r\n      name: \"Drum Pattern\",\r\n      type: \"midi\", \r\n      duration: \"2:34\",\r\n      volume: 90,\r\n      muted: true,\r\n      solo: false\r\n    }\r\n  ]);\r\n\r\n  const handleFileUpload = (result: any) => {\r\n    const newTrack = {\r\n      id: Date.now().toString(),\r\n      name: result.fileName.replace(/\\.[^/.]+$/, \"\"),\r\n      type: \"audio\" as const,\r\n      duration: \"0:00\",\r\n      volume: 80,\r\n      muted: false,\r\n      solo: false,\r\n      generatedCode: result.generatedCode // Store the AI-generated code\r\n    };\r\n    setTracks([...tracks, newTrack]);\r\n    \r\n    // Success haptic feedback\r\n    if (navigator.vibrate) {\r\n      navigator.vibrate([20, 10, 20]);\r\n    }\r\n\r\n    // Show success message with code preview\r\n    if (result.generatedCode) {\r\n      console.log('AI Generated Code:', result.generatedCode);\r\n      // You could show a toast notification here\r\n    }\r\n  };\r\n\r\n  const toggleMute = (trackId: string) => {\r\n    setTracks(tracks.map(track => \r\n      track.id === trackId ? { ...track, muted: !track.muted } : track\r\n    ));\r\n  };\r\n\r\n  const toggleSolo = (trackId: string) => {\r\n    setTracks(tracks.map(track => \r\n      track.id === trackId ? { ...track, solo: !track.solo } : track\r\n    ));\r\n  };\r\n\r\n  const updateVolume = (trackId: string, volume: number) => {\r\n    setTracks(tracks.map(track => \r\n      track.id === trackId ? { ...track, volume } : track\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-80 border-r border-purple-800/30 bg-black/10 backdrop-blur-sm flex flex-col\">\r\n      {/* Audio Upload Section */}\r\n      <Card className=\"m-4 bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-700/30\">\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Upload className=\"w-5 h-5 text-purple-400\" />\r\n            Audio Upload\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-3\">\r\n          <SimpleFileUpload onUpload={handleFileUpload} />\r\n          <HapticButton \r\n            variant=\"outline\" \r\n            hapticType=\"medium\"\r\n            className=\"w-full bg-pink-600/20 border-pink-500/30 hover:bg-pink-600/30 hover:scale-[1.02] transition-all\"\r\n          >\r\n            <Music className=\"w-4 h-4 mr-2\" />\r\n            Record New Track\r\n          </HapticButton>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Track List */}\r\n      <div className=\"flex-1 mx-4 mb-4\">\r\n        <div className=\"mb-3 flex items-center justify-between\">\r\n          <h3 className=\"font-medium text-purple-200\">Tracks</h3>\r\n          <Badge variant=\"secondary\" className=\"bg-purple-600/20 text-purple-300\">\r\n            {tracks.length} tracks\r\n          </Badge>\r\n        </div>\r\n        \r\n        <ScrollArea className=\"h-[calc(100vh-24rem)]\">\r\n          <div className=\"space-y-2\">\r\n            <AnimatePresence>\r\n              {tracks.map((track, index) => (\r\n                <motion.div\r\n                  key={track.id}\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -20 }}\r\n                  transition={{ delay: index * 0.1 }}\r\n                >\r\n                  <Card \r\n                    className={`bg-gradient-to-r from-slate-800/50 to-slate-700/50 border-slate-600/30 cursor-pointer transition-all hover:from-slate-700/50 hover:to-slate-600/50 hover:scale-[1.02] hover:shadow-lg ${\r\n                      currentTrack?.id === track.id ? 'ring-2 ring-purple-400 shadow-purple-400/20' : ''\r\n                    }`}\r\n                    onClick={() => {\r\n                      if (navigator.vibrate) navigator.vibrate(5);\r\n                      setCurrentTrack(track);\r\n                    }}\r\n                  >\r\n                <CardContent className=\"p-3\">\r\n                  <div className=\"flex items-center justify-between mb-2\">\r\n                    <div>\r\n                      <h4 className=\"text-sm font-medium text-white\">{track.name}</h4>\r\n                      <p className=\"text-xs text-slate-400\">\r\n                        {track.type} â€¢ {track.duration}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex gap-1\">\r\n                      <HapticButton\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        hapticType=\"selection\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleMute(track.id);\r\n                        }}\r\n                        className={`w-6 h-6 p-0 transition-all hover:scale-110 ${\r\n                          track.muted ? 'text-red-400 bg-red-400/10' : 'text-slate-400 hover:text-slate-200'\r\n                        }`}\r\n                      >\r\n                        <motion.div\r\n                          animate={track.muted ? { rotate: [0, -10, 10, 0] } : {}}\r\n                          transition={{ duration: 0.3 }}\r\n                        >\r\n                          {track.muted ? <VolumeX className=\"w-3 h-3\" /> : <Volume2 className=\"w-3 h-3\" />}\r\n                        </motion.div>\r\n                      </HapticButton>\r\n                      <HapticButton\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        hapticType=\"selection\"\r\n                        onClick={(e) => {\r\n                          e.stopPropagation();\r\n                          toggleSolo(track.id);\r\n                        }}\r\n                        className={`w-6 h-6 p-0 text-xs transition-all hover:scale-110 ${\r\n                          track.solo ? 'text-yellow-400 bg-yellow-400/10' : 'text-slate-400 hover:text-slate-200'\r\n                        }`}\r\n                      >\r\n                        <motion.span\r\n                          animate={track.solo ? { scale: [1, 1.2, 1] } : {}}\r\n                          transition={{ duration: 0.3 }}\r\n                        >\r\n                          S\r\n                        </motion.span>\r\n                      </HapticButton>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Volume2 className=\"w-3 h-3 text-slate-400\" />\r\n                    <HapticSlider\r\n                      value={[track.volume]}\r\n                      onValueChange={(value) => updateVolume(track.id, value[0])}\r\n                      max={100}\r\n                      step={1}\r\n                      className=\"flex-1\"\r\n                    />\r\n                    <motion.span \r\n                      className=\"text-xs text-slate-400 w-8 font-mono\"\r\n                      key={track.volume}\r\n                      initial={{ scale: 1.1 }}\r\n                      animate={{ scale: 1 }}\r\n                      transition={{ duration: 0.1 }}\r\n                    >\r\n                      {track.volume}\r\n                    </motion.span>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n                </motion.div>\r\n              ))}\r\n            </AnimatePresence>\r\n          </div>\r\n        </ScrollArea>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useEffect } from \"react\";\r\nimport { Play, Pause, Square, SkipBack, SkipForward, Clock } from \"lucide-react\";\r\nimport { HapticButton } from \"./HapticButton\";\r\nimport { HapticSlider } from \"./HapticSlider\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface EnhancedTransportControlsProps {\r\n  isPlaying: boolean;\r\n  onPlayPause: () => void;\r\n  onStop: () => void;\r\n  onNext: () => void;\r\n  onPrevious: () => void;\r\n  currentTime: number;\r\n  totalTime: number;\r\n  zoom: number;\r\n  onZoomChange: (zoom: number) => void;\r\n}\r\n\r\nexport function EnhancedTransportControls({\r\n  isPlaying,\r\n  onPlayPause,\r\n  onStop,\r\n  onNext,\r\n  onPrevious,\r\n  currentTime,\r\n  totalTime,\r\n  zoom,\r\n  onZoomChange\r\n}: EnhancedTransportControlsProps) {\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [showBeatPulse, setShowBeatPulse] = useState(false);\r\n\r\n  // Beat pulse animation when playing\r\n  useEffect(() => {\r\n    if (isPlaying) {\r\n      const interval = setInterval(() => {\r\n        setShowBeatPulse(true);\r\n        setTimeout(() => setShowBeatPulse(false), 100);\r\n      }, 500); // 120 BPM = 500ms per beat\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isPlaying]);\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-16 border-b border-purple-800/30 bg-black/20 backdrop-blur-sm px-6 flex items-center justify-between\">\r\n      {/* Transport Controls */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <HapticButton \r\n            size=\"sm\" \r\n            variant=\"ghost\" \r\n            hapticType=\"medium\"\r\n            onClick={onPrevious}\r\n            className=\"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20\"\r\n          >\r\n            <SkipBack className=\"w-4 h-4\" />\r\n          </HapticButton>\r\n          \r\n          <motion.div\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n          >\r\n            <HapticButton \r\n              size=\"sm\" \r\n              hapticType=\"heavy\"\r\n              onClick={onPlayPause}\r\n              className={`relative overflow-hidden ${\r\n                isPlaying \r\n                  ? \"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700\" \r\n                  : \"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700\"\r\n              }`}\r\n            >\r\n              <AnimatePresence mode=\"wait\">\r\n                <motion.div\r\n                  key={isPlaying ? \"pause\" : \"play\"}\r\n                  initial={{ scale: 0.8, opacity: 0 }}\r\n                  animate={{ scale: 1, opacity: 1 }}\r\n                  exit={{ scale: 0.8, opacity: 0 }}\r\n                  transition={{ duration: 0.15 }}\r\n                >\r\n                  {isPlaying ? <Pause className=\"w-4 h-4\" /> : <Play className=\"w-4 h-4\" />}\r\n                </motion.div>\r\n              </AnimatePresence>\r\n              \r\n              {/* Beat pulse effect */}\r\n              <AnimatePresence>\r\n                {showBeatPulse && isPlaying && (\r\n                  <motion.div\r\n                    className=\"absolute inset-0 bg-white/20 rounded\"\r\n                    initial={{ opacity: 0, scale: 1 }}\r\n                    animate={{ opacity: [0, 0.5, 0], scale: [1, 1.1, 1] }}\r\n                    exit={{ opacity: 0 }}\r\n                    transition={{ duration: 0.1 }}\r\n                  />\r\n                )}\r\n              </AnimatePresence>\r\n            </HapticButton>\r\n          </motion.div>\r\n          \r\n          <HapticButton \r\n            size=\"sm\" \r\n            variant=\"ghost\" \r\n            hapticType=\"medium\"\r\n            onClick={onStop}\r\n            className=\"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20\"\r\n          >\r\n            <Square className=\"w-4 h-4\" />\r\n          </HapticButton>\r\n          \r\n          <HapticButton \r\n            size=\"sm\" \r\n            variant=\"ghost\" \r\n            hapticType=\"medium\"\r\n            onClick={onNext}\r\n            className=\"text-purple-400 hover:text-purple-300 hover:bg-purple-600/20\"\r\n          >\r\n            <SkipForward className=\"w-4 h-4\" />\r\n          </HapticButton>\r\n        </div>\r\n        \r\n        <motion.div \r\n          className=\"flex items-center gap-2\"\r\n          animate={isPlaying ? { opacity: [1, 0.7, 1] } : { opacity: 1 }}\r\n          transition={{ duration: 0.5, repeat: isPlaying ? Infinity : 0 }}\r\n        >\r\n          <Clock className=\"w-4 h-4 text-purple-400\" />\r\n          <Badge variant=\"outline\" className=\"bg-purple-900/50 text-purple-200 border-purple-600/30 font-mono\">\r\n            {formatTime(currentTime)} / {formatTime(totalTime)}\r\n          </Badge>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* Recording Indicator */}\r\n      <AnimatePresence>\r\n        {isRecording && (\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            exit={{ opacity: 0, x: 20 }}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <motion.div\r\n              animate={{ scale: [1, 1.2, 1] }}\r\n              transition={{ duration: 1, repeat: Infinity }}\r\n              className=\"w-3 h-3 bg-red-500 rounded-full\"\r\n            />\r\n            <span className=\"text-sm text-red-400 font-medium\">REC</span>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Zoom Controls */}\r\n      <div className=\"flex items-center gap-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-sm text-purple-200\">Zoom:</span>\r\n          <HapticSlider\r\n            value={[zoom]}\r\n            onValueChange={(value) => onZoomChange(value[0])}\r\n            min={25}\r\n            max={400}\r\n            step={25}\r\n            className=\"w-24\"\r\n          />\r\n          <motion.span \r\n            className=\"text-sm text-purple-200 w-10 font-mono\"\r\n            key={zoom}\r\n            initial={{ scale: 1.1 }}\r\n            animate={{ scale: 1 }}\r\n            transition={{ duration: 0.1 }}\r\n          >\r\n            {zoom}%\r\n          </motion.span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState, useRef, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Card, CardContent } from \"./ui/card\";\r\n\r\ninterface Note {\r\n  id: string;\r\n  note: string;\r\n  startTime: number;\r\n  duration: number;\r\n  velocity: number;\r\n  color: string;\r\n}\r\n\r\ninterface ProfessionalPianoRollProps {\r\n  notes: Note[];\r\n  isPlaying: boolean;\r\n  currentTime: number;\r\n  zoom: number;\r\n  onNoteClick?: (note: Note) => void;\r\n  onNoteMove?: (noteId: string, newStart: number, newNote: string) => void;\r\n  onNoteResize?: (noteId: string, newDuration: number) => void;\r\n}\r\n\r\nexport function ProfessionalPianoRoll({\r\n  notes,\r\n  isPlaying,\r\n  currentTime,\r\n  zoom,\r\n  onNoteClick,\r\n  onNoteMove,\r\n  onNoteResize\r\n}: ProfessionalPianoRollProps) {\r\n  const [draggedNote, setDraggedNote] = useState<Note | null>(null);\r\n  const [resizingNote, setResizingNote] = useState<Note | null>(null);\r\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\r\n  const gridRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Professional piano note layout (88 keys like a real piano)\r\n  const allNotes = [\r\n    'C8', 'B7', 'A#7', 'A7', 'G#7', 'G7', 'F#7', 'F7', 'E7', 'D#7', 'D7', 'C#7',\r\n    'C7', 'B6', 'A#6', 'A6', 'G#6', 'G6', 'F#6', 'F6', 'E6', 'D#6', 'D6', 'C#6',\r\n    'C6', 'B5', 'A#5', 'A5', 'G#5', 'G5', 'F#5', 'F5', 'E5', 'D#5', 'D5', 'C#5',\r\n    'C5', 'B4', 'A#4', 'A4', 'G#4', 'G4', 'F#4', 'F4', 'E4', 'D#4', 'D4', 'C#4',\r\n    'C4', 'B3', 'A#3', 'A3', 'G#3', 'G3', 'F#3', 'F3', 'E3', 'D#3', 'D3', 'C#3',\r\n    'C3', 'B2', 'A#2', 'A2', 'G#2', 'G2', 'F#2', 'F2', 'E2', 'D#2', 'D2', 'C#2',\r\n    'C2', 'B1', 'A#1', 'A1'\r\n  ];\r\n\r\n  const noteIndex = useRef(new Map(allNotes.map((note, index) => [note, index])));\r\n\r\n  const isSharpNote = (note: string) => {\r\n    return note.includes('#');\r\n  };\r\n\r\n  const handleTouchStart = (e: React.TouchEvent, note: Note) => {\r\n    e.preventDefault();\r\n    const touch = e.touches[0];\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    \r\n    setDraggedNote(note);\r\n    setDragOffset({\r\n      x: touch.clientX - rect.left,\r\n      y: touch.clientY - rect.top\r\n    });\r\n\r\n    // Enhanced haptic feedback for note interaction\r\n    if (navigator.vibrate) {\r\n      navigator.vibrate([10, 5, 10]);\r\n    }\r\n  };\r\n\r\n  const handleMouseDown = (e: React.MouseEvent, note: Note) => {\r\n    e.preventDefault();\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    \r\n    setDraggedNote(note);\r\n    setDragOffset({\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top\r\n    });\r\n\r\n    // Haptic feedback for desktop interaction\r\n    if (navigator.vibrate) {\r\n      navigator.vibrate(5);\r\n    }\r\n  };\r\n\r\n  const handlePointerMove = (e: React.PointerEvent) => {\r\n    if (!draggedNote || !gridRef.current) return;\r\n    \r\n    e.preventDefault();\r\n    const gridRect = gridRef.current.getBoundingClientRect();\r\n    \r\n    const relativeX = e.clientX - gridRect.left - dragOffset.x;\r\n    const relativeY = e.clientY - gridRect.top - dragOffset.y;\r\n    \r\n    // Calculate new position\r\n    const timePerPixel = 1 / (40 * zoom / 100); // Adjust based on zoom\r\n    const newStart = Math.max(0, relativeX * timePerPixel);\r\n    const noteHeight = 100 / allNotes.length;\r\n    const noteIndex = Math.floor(relativeY / (gridRect.height * noteHeight / 100));\r\n    const newNote = allNotes[noteIndex];\r\n    \r\n    if (newNote && onNoteMove) {\r\n      onNoteMove(draggedNote.id, newStart, newNote);\r\n    }\r\n  };\r\n\r\n  const handlePointerUp = () => {\r\n    if (draggedNote) {\r\n      // Success haptic feedback\r\n      if (navigator.vibrate) {\r\n        navigator.vibrate(20);\r\n      }\r\n    }\r\n    setDraggedNote(null);\r\n    setResizingNote(null);\r\n    setDragOffset({ x: 0, y: 0 });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (draggedNote || resizingNote) {\r\n      document.addEventListener('pointermove', handlePointerMove as any);\r\n      document.addEventListener('pointerup', handlePointerUp);\r\n      \r\n      return () => {\r\n        document.removeEventListener('pointermove', handlePointerMove as any);\r\n        document.removeEventListener('pointerup', handlePointerUp);\r\n      };\r\n    }\r\n  }, [draggedNote, resizingNote]);\r\n\r\n  const gridWidth = 2000 * (zoom / 100); // Scalable grid width\r\n  const noteHeight = 100 / allNotes.length;\r\n  const pixelsPerSecond = 40 * (zoom / 100);\r\n\r\n  return (\r\n    <div className=\"h-full\">\r\n      <Card className=\"h-full\">\r\n        <CardContent className=\"p-0 h-full relative overflow-hidden flex\">\r\n          \r\n          {/* Piano Keys Sidebar */}\r\n          <div className=\"w-20 h-full border-r border-border/50 bg-card/80 backdrop-blur-sm flex-shrink-0 z-20\">\r\n            <div className=\"flex flex-col-reverse h-full\">\r\n              {allNotes.map((note, index) => (\r\n                <motion.div \r\n                  key={note} \r\n                  className={`flex items-center justify-center border-b border-border/20 cursor-pointer transition-all duration-200 ${\r\n                    isSharpNote(note) \r\n                      ? 'bg-slate-800 text-white/70 border-r-4 border-r-border/80 hover:bg-slate-700' \r\n                      : 'bg-card hover:bg-accent text-foreground/80'\r\n                  }`}\r\n                  style={{ height: `${noteHeight}%` }}\r\n                  whileHover={{ scale: 1.02, backgroundColor: isSharpNote(note) ? 'rgb(51, 65, 85)' : 'rgb(248, 250, 252)' }}\r\n                  onClick={() => {\r\n                    if (navigator.vibrate) navigator.vibrate(3);\r\n                    // Play note preview here\r\n                  }}\r\n                >\r\n                  <span className=\"text-xs font-mono select-none\">\r\n                    {note}\r\n                  </span>\r\n                </motion.div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Main Grid Area */}\r\n          <div className=\"flex-1 overflow-auto relative\" ref={gridRef}>\r\n            <div \r\n              className=\"relative bg-gradient-to-br from-muted/20 to-muted/10\"\r\n              style={{ \r\n                width: `${gridWidth}px`, \r\n                height: '100%',\r\n                minHeight: `${allNotes.length * 20}px`\r\n              }}\r\n            >\r\n              {/* Vertical Grid Lines (Time) */}\r\n              {Array.from({ length: Math.ceil(gridWidth / (pixelsPerSecond / 4)) }).map((_, i) => {\r\n                const isBarLine = i % 16 === 0; // Every 4 beats\r\n                const isBeatLine = i % 4 === 0; // Every beat\r\n                \r\n                return (\r\n                  <div\r\n                    key={`v-${i}`}\r\n                    className={`absolute top-0 bottom-0 border-r ${\r\n                      isBarLine \r\n                        ? 'border-primary/40 z-10' \r\n                        : isBeatLine \r\n                        ? 'border-primary/20' \r\n                        : 'border-border/30'\r\n                    }`}\r\n                    style={{ left: `${i * (pixelsPerSecond / 4)}px` }}\r\n                  />\r\n                );\r\n              })}\r\n\r\n              {/* Horizontal Grid Lines (Notes) */}\r\n              <div className=\"absolute inset-0 flex flex-col\">\r\n                {allNotes.map((note, i) => (\r\n                  <div \r\n                    key={`h-${i}`} \r\n                    className={`flex-1 border-b border-border/20 ${\r\n                      isSharpNote(note) ? 'bg-slate-950/10 dark:bg-slate-800/20' : 'bg-transparent'\r\n                    }`}\r\n                    style={{ height: `${noteHeight}%` }}\r\n                  />\r\n                ))}\r\n              </div>\r\n              \r\n              {/* Notes */}\r\n              <div className=\"absolute inset-0 z-10\">\r\n                <AnimatePresence>\r\n                  {notes.map((note) => {\r\n                    const noteIdx = noteIndex.current.get(note.note);\r\n                    if (noteIdx === undefined) return null;\r\n                    \r\n                    const isDragging = draggedNote?.id === note.id;\r\n                    const isResizing = resizingNote?.id === note.id;\r\n                    \r\n                    const top = noteIdx * noteHeight;\r\n                    const left = note.startTime * pixelsPerSecond;\r\n                    const width = Math.max(8, note.duration * pixelsPerSecond);\r\n                    const height = noteHeight;\r\n\r\n                    return (\r\n                      <motion.div\r\n                        key={note.id}\r\n                        initial={{ scale: 0.8, opacity: 0 }}\r\n                        animate={{ \r\n                          scale: isDragging ? 1.05 : 1, \r\n                          opacity: note.velocity / 127,\r\n                          zIndex: isDragging ? 100 : 1\r\n                        }}\r\n                        exit={{ scale: 0.8, opacity: 0 }}\r\n                        whileHover={{ scale: 1.02, opacity: 1 }}\r\n                        className={`absolute rounded-sm cursor-move select-none touch-manipulation group ${\r\n                          isDragging ? 'shadow-2xl ring-2 ring-primary/50' : 'hover:shadow-lg'\r\n                        } transition-all duration-200`}\r\n                        style={{\r\n                          top: `${top}%`,\r\n                          left: `${left}px`,\r\n                          width: `${width}px`,\r\n                          height: `${height}%`,\r\n                          backgroundColor: note.color,\r\n                          minWidth: window.innerWidth < 768 ? '16px' : '8px' // Touch-friendly minimum\r\n                        }}\r\n                        onPointerDown={(e) => handleMouseDown(e as any, note)}\r\n                        onTouchStart={(e) => handleTouchStart(e, note)}\r\n                        onClick={() => {\r\n                          if (navigator.vibrate) navigator.vibrate(3);\r\n                          onNoteClick?.(note);\r\n                        }}\r\n                      >\r\n                        {/* Note Content */}\r\n                        <div className=\"h-full w-full flex items-center justify-start px-1\">\r\n                          <span className=\"text-xs text-white/90 font-mono truncate\">\r\n                            {note.note}\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        {/* Resize Handle */}\r\n                        <div \r\n                          className=\"absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize opacity-0 group-hover:opacity-100 bg-white/30 transition-opacity\"\r\n                          onPointerDown={(e) => {\r\n                            e.stopPropagation();\r\n                            setResizingNote(note);\r\n                            if (navigator.vibrate) navigator.vibrate(5);\r\n                          }}\r\n                        />\r\n                      </motion.div>\r\n                    );\r\n                  })}\r\n                </AnimatePresence>\r\n              </div>\r\n\r\n              {/* Enhanced Playhead */}\r\n              <motion.div\r\n                className=\"absolute top-0 bottom-0 bg-gradient-to-b from-yellow-400 to-orange-500 shadow-lg z-50 pointer-events-none\"\r\n                style={{ \r\n                  left: `${currentTime * pixelsPerSecond}px`,\r\n                  width: window.innerWidth < 768 ? '3px' : '2px'\r\n                }}\r\n                animate={isPlaying ? { \r\n                  boxShadow: [\r\n                    \"0 0 5px rgba(250, 204, 21, 0.5)\", \r\n                    \"0 0 20px rgba(250, 204, 21, 0.8)\", \r\n                    \"0 0 5px rgba(250, 204, 21, 0.5)\"\r\n                  ]\r\n                } : {}}\r\n                transition={{ duration: 0.5, repeat: isPlaying ? Infinity : 0 }}\r\n              >\r\n                <motion.div \r\n                  className=\"bg-yellow-400 rounded-full -ml-1 -mt-2 pointer-events-none\"\r\n                  style={{\r\n                    width: window.innerWidth < 768 ? '20px' : '16px',\r\n                    height: window.innerWidth < 768 ? '20px' : '16px'\r\n                  }}\r\n                  animate={isPlaying ? { \r\n                    scale: [1, 1.3, 1],\r\n                    boxShadow: [\r\n                      \"0 0 0 0 rgba(250, 204, 21, 0.7)\",\r\n                      \"0 0 0 10px rgba(250, 204, 21, 0)\",\r\n                      \"0 0 0 0 rgba(250, 204, 21, 0)\"\r\n                    ]\r\n                  } : { scale: 1 }}\r\n                  transition={{ duration: 0.6, repeat: isPlaying ? Infinity : 0 }}\r\n                />\r\n              </motion.div>\r\n            </div>\r\n          </div>\r\n\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}","\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Card } from \"./ui/card\";\r\nimport { EnhancedTransportControls } from \"./EnhancedTransportControls\";\r\nimport { ProfessionalPianoRoll } from \"./ProfessionalPianoRoll\";\r\nimport { useAudioEngine } from \"../services/AudioEngine\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ninterface MainPanelProps {\r\n  currentTrack: any;\r\n  isPlaying: boolean;\r\n}\r\n\r\nexport function MainPanel({ currentTrack, isPlaying }: MainPanelProps) {\r\n  const audioEngine = useAudioEngine();\r\n  const [zoom, setZoom] = useState(100);\r\n  const [playbackState, setPlaybackState] = useState(isPlaying);\r\n\r\n  // Fallback values if audioEngine is undefined\r\n  const safeAudioEngine = audioEngine || {\r\n    currentTime: 0,\r\n    duration: 154,\r\n    isPlaying: false,\r\n    volume: 0.8,\r\n    play: () => {},\r\n    pause: () => {},\r\n    stop: () => {},\r\n    setVolume: () => {},\r\n    loadAudio: () => {},\r\n    seekTo: () => {}\r\n  };\r\n\r\n  // Load sample audio on component mount\r\n  useEffect(() => {\r\n    // For now, we'll generate a simple tone using Web Audio API\r\n    generateSampleAudio();\r\n  }, []);\r\n\r\n  // Generate a simple audio tone for testing\r\n  const generateSampleAudio = () => {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\r\n    const oscillator = audioContext.createOscillator();\r\n    const gainNode = audioContext.createGain();\r\n    \r\n    oscillator.connect(gainNode);\r\n    gainNode.connect(audioContext.destination);\r\n    \r\n    oscillator.frequency.setValueAtTime(440, audioContext.currentTime); // A4 note\r\n    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\r\n    \r\n    // Store the audio context for playback control\r\n    (window as any).audioContext = audioContext;\r\n    (window as any).oscillator = oscillator;\r\n    (window as any).gainNode = gainNode;\r\n  };\r\n\r\n  // Generate piano roll grid\r\n  const generatePianoRoll = () => {\r\n    const notes: string[] = [];\r\n    const noteNames = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\r\n    const octaves = [5, 4, 3, 2, 1];\r\n    \r\n    octaves.forEach(octave => {\r\n      noteNames.reverse().forEach(note => {\r\n        notes.push(`${note}${octave}`);\r\n      });\r\n      noteNames.reverse();\r\n    });\r\n    \r\n    return notes;\r\n  };\r\n\r\n  const pianoNotes = generatePianoRoll();\r\n  const timeMarkers = Array.from({ length: 32 }, (_, i) => i * 0.25); // Quarter note intervals\r\n\r\n  // Professional note data with realistic structure\r\n  const mockNotes = [\r\n    { id: '1', note: 'C4', startTime: 0, duration: 1, velocity: 80, color: '#6366f1' },\r\n    { id: '2', note: 'E4', startTime: 1, duration: 1, velocity: 75, color: '#6366f1' },\r\n    { id: '3', note: 'G4', startTime: 2, duration: 1, velocity: 85, color: '#6366f1' },\r\n    { id: '4', note: 'C5', startTime: 3, duration: 2, velocity: 90, color: '#6366f1' },\r\n    { id: '5', note: 'A3', startTime: 5, duration: 1, velocity: 70, color: '#ef4444' },\r\n    { id: '6', note: 'C4', startTime: 6, duration: 1, velocity: 75, color: '#ef4444' },\r\n    { id: '7', note: 'E4', startTime: 7, duration: 1, velocity: 80, color: '#ef4444' },\r\n    { id: '8', note: 'A4', startTime: 8, duration: 2, velocity: 85, color: '#ef4444' },\r\n    { id: '9', note: 'F3', startTime: 10, duration: 1, velocity: 70, color: '#10b981' },\r\n    { id: '10', note: 'A3', startTime: 11, duration: 1, velocity: 75, color: '#10b981' },\r\n    { id: '11', note: 'C4', startTime: 12, duration: 1, velocity: 80, color: '#10b981' },\r\n    { id: '12', note: 'F4', startTime: 13, duration: 2, velocity: 85, color: '#10b981' },\r\n  ];\r\n\r\n  const handlePlayPause = () => {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const newPlaybackState = !playbackState;\r\n    setPlaybackState(newPlaybackState);\r\n    \r\n    if (newPlaybackState) {\r\n      // Start playing audio\r\n      const audioContext = (window as any).audioContext;\r\n      if (audioContext && audioContext.state === 'suspended') {\r\n        audioContext.resume();\r\n      }\r\n      \r\n      // Start the oscillator\r\n      const oscillator = (window as any).oscillator;\r\n      if (oscillator) {\r\n        try {\r\n          oscillator.start();\r\n        } catch (e) {\r\n          // Oscillator might already be started\r\n          console.log('Oscillator already started');\r\n        }\r\n      }\r\n    } else {\r\n      // Stop playing audio\r\n      const oscillator = (window as any).oscillator;\r\n      if (oscillator) {\r\n        oscillator.stop();\r\n        // Recreate oscillator for next play\r\n        generateSampleAudio();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleStop = () => {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    setPlaybackState(false);\r\n    const oscillator = (window as any).oscillator;\r\n    if (oscillator) {\r\n      oscillator.stop();\r\n      generateSampleAudio();\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    // Navigate to next section or track\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    // Navigate to previous section or track\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex-1 flex flex-col bg-gradient-to-br from-slate-800/30 to-slate-900/30\">\r\n      {/* Enhanced Transport Controls */}\r\n      <EnhancedTransportControls\r\n        isPlaying={playbackState}\r\n        onPlayPause={handlePlayPause}\r\n        onStop={handleStop}\r\n        onNext={handleNext}\r\n        onPrevious={handlePrevious}\r\n        currentTime={safeAudioEngine.currentTime}\r\n        totalTime={safeAudioEngine.duration}\r\n        zoom={zoom}\r\n        onZoomChange={setZoom}\r\n      />\r\n\r\n      {/* Professional Piano Roll */}\r\n      <div className=\"flex-1 p-4\">\r\n        <ProfessionalPianoRoll\r\n          notes={mockNotes}\r\n          isPlaying={playbackState}\r\n          currentTime={safeAudioEngine.currentTime}\r\n          zoom={zoom}\r\n          onNoteClick={(note) => {\r\n            console.log('Note clicked:', note);\r\n          }}\r\n          onNoteMove={(noteId, newStart, newNote) => {\r\n            console.log('Note moved:', noteId, newStart, newNote);\r\n          }}\r\n          onNoteResize={(noteId, newDuration) => {\r\n            console.log('Note resized:', noteId, newDuration);\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Tabs({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\r\n  return (\r\n    <TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      className={cn(\"flex flex-col gap-2\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsList({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\r\n  return (\r\n    <TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      className={cn(\r\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsTrigger({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\r\n  return (\r\n    <TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\r\n  return (\r\n    <TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn(\"flex-1 outline-none\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\r\n","import * as React from \"react\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Input };\r\n","import { useState, useRef, useEffect } from \"react\";\r\nimport { Send, Brain, Sparkles, Loader2 } from \"lucide-react\";\r\nimport { HapticButton } from \"./HapticButton\";\r\nimport { Input } from \"./ui/input\";\r\nimport { ScrollArea } from \"./ui/scroll-area\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { Card } from \"./ui/card\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface Message {\r\n  id: string;\r\n  type: \"user\" | \"ai\";\r\n  content: string;\r\n  timestamp: Date;\r\n  isThinking?: boolean;\r\n  codeBlock?: string;\r\n}\r\n\r\nexport function AICompanion() {\r\n  const [messages, setMessages] = useState<Message[]>([\r\n    {\r\n      id: \"1\",\r\n      type: \"ai\",\r\n      content: \"Hello! I'm your AI music companion. I can help you analyze your music, generate chord progressions, and convert between music and code. What would you like to create today?\",\r\n      timestamp: new Date(),\r\n    }\r\n  ]);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [isThinking, setIsThinking] = useState(false);\r\n  const scrollAreaRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (scrollAreaRef.current) {\r\n      const viewport = scrollAreaRef.current.querySelector('[data-slot=\"scroll-area-viewport\"]') as HTMLElement;\r\n      if (viewport) {\r\n        viewport.scrollTop = viewport.scrollHeight;\r\n      }\r\n    }\r\n  }, [messages]);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!inputValue.trim()) return;\r\n\r\n    const userMessage: Message = {\r\n      id: Date.now().toString(),\r\n      type: \"user\",\r\n      content: inputValue,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputValue(\"\");\r\n    setIsThinking(true);\r\n\r\n    // Simulate AI thinking and response\r\n    setTimeout(() => {\r\n      setIsThinking(false);\r\n      \r\n      const aiResponses = [\r\n        {\r\n          content: \"I've analyzed your input! Here's a chord progression that would work well:\",\r\n          codeBlock: `// C Major Progression\r\nconst chords = [\r\n  { chord: \"C\", duration: 1 },\r\n  { chord: \"Am\", duration: 1 }, \r\n  { chord: \"F\", duration: 1 },\r\n  { chord: \"G\", duration: 1 }\r\n];`\r\n        },\r\n        {\r\n          content: \"I can help you create a melody pattern. Let me generate some MIDI data:\",\r\n          codeBlock: `// Melody Pattern\r\nconst melody = [\r\n  { note: \"C4\", time: 0, duration: 0.5 },\r\n  { note: \"E4\", time: 0.5, duration: 0.5 },\r\n  { note: \"G4\", time: 1.0, duration: 1.0 }\r\n];`\r\n        },\r\n        {\r\n          content: \"Based on your track, I recommend adding some harmonic movement. Here's what I suggest:\"\r\n        }\r\n      ];\r\n\r\n      const response = aiResponses[Math.floor(Math.random() * aiResponses.length)];\r\n      \r\n      const aiMessage: Message = {\r\n        id: (Date.now() + 1).toString(),\r\n        type: \"ai\",\r\n        content: response.content,\r\n        timestamp: new Date(),\r\n        codeBlock: response.codeBlock,\r\n      };\r\n\r\n      setMessages(prev => [...prev, aiMessage]);\r\n      \r\n      // Haptic feedback for AI response\r\n      if (navigator.vibrate) {\r\n        navigator.vibrate([10, 50, 10]);\r\n      }\r\n    }, 2000);\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"p-4 border-b border-purple-800/30 bg-black/20\">\r\n        <div className=\"flex items-center gap-2 mb-2\">\r\n          <div className=\"w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center\">\r\n            <Brain className=\"w-4 h-4 text-white\" />\r\n          </div>\r\n          <h3 className=\"font-medium text-purple-200\">AI Companion</h3>\r\n          <Badge variant=\"secondary\" className=\"bg-purple-600/20 text-purple-300 border-purple-500/30 ml-auto\">\r\n            <Sparkles className=\"w-3 h-3 mr-1\" />\r\n            Active\r\n          </Badge>\r\n        </div>\r\n        <p className=\"text-xs text-purple-300\">\r\n          Your personal music AI assistant\r\n        </p>\r\n      </div>\r\n\r\n      {/* Messages */}\r\n      <ScrollArea ref={scrollAreaRef} className=\"flex-1 p-4\">\r\n        <div className=\"space-y-4\">\r\n          <AnimatePresence>\r\n            {messages.map((message) => (\r\n              <motion.div\r\n                key={message.id}\r\n                initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                exit={{ opacity: 0, y: -20, scale: 0.95 }}\r\n                transition={{ duration: 0.3, ease: \"easeOut\" }}\r\n                className={`flex ${message.type === \"user\" ? \"justify-end\" : \"justify-start\"}`}\r\n              >\r\n                <motion.div\r\n                  whileHover={{ scale: 1.02 }}\r\n                  className={`max-w-[80%] rounded-lg p-3 shadow-lg ${\r\n                    message.type === \"user\"\r\n                      ? \"bg-gradient-to-r from-purple-600 to-pink-600 text-white\"\r\n                      : \"bg-gradient-to-r from-slate-700 to-slate-600 text-slate-100\"\r\n                  }`}\r\n                >\r\n                <p className=\"text-sm\">{message.content}</p>\r\n                \r\n                {message.codeBlock && (\r\n                  <Card className=\"mt-3 bg-black/50 border-purple-500/30\">\r\n                    <div className=\"p-3\">\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <div className=\"w-2 h-2 bg-red-400 rounded-full\" />\r\n                        <div className=\"w-2 h-2 bg-yellow-400 rounded-full\" />\r\n                        <div className=\"w-2 h-2 bg-green-400 rounded-full\" />\r\n                        <span className=\"text-xs text-purple-300 ml-2\">Generated Code</span>\r\n                      </div>\r\n                      <pre className=\"text-xs text-purple-200 font-mono overflow-x-auto\">\r\n                        {message.codeBlock}\r\n                      </pre>\r\n                    </div>\r\n                  </Card>\r\n                )}\r\n                \r\n                <p className=\"text-xs opacity-70 mt-2\">\r\n                  {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                </p>\r\n                </motion.div>\r\n              </motion.div>\r\n            ))}\r\n          </AnimatePresence>\r\n\r\n          {/* Enhanced Thinking Indicator */}\r\n          <AnimatePresence>\r\n            {isThinking && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                className=\"flex justify-start\"\r\n              >\r\n                <motion.div \r\n                  className=\"bg-gradient-to-r from-slate-700 to-slate-600 text-slate-100 rounded-lg p-3 max-w-[80%] shadow-lg\"\r\n                  animate={{ \r\n                    boxShadow: [\r\n                      \"0 0 0 0 rgba(168, 85, 247, 0.4)\",\r\n                      \"0 0 0 8px rgba(168, 85, 247, 0)\",\r\n                      \"0 0 0 0 rgba(168, 85, 247, 0)\"\r\n                    ]\r\n                  }}\r\n                  transition={{ duration: 1.5, repeat: Infinity }}\r\n                >\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <motion.div\r\n                      animate={{ rotate: 360 }}\r\n                      transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\r\n                    >\r\n                      <Loader2 className=\"w-4 h-4 text-purple-400\" />\r\n                    </motion.div>\r\n                    <motion.span \r\n                      className=\"text-sm\"\r\n                      animate={{ opacity: [1, 0.5, 1] }}\r\n                      transition={{ duration: 1.5, repeat: Infinity }}\r\n                    >\r\n                      AI is thinking...\r\n                    </motion.span>\r\n                  </div>\r\n                </motion.div>\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </div>\r\n      </ScrollArea>\r\n\r\n      {/* Input */}\r\n      <div className=\"p-4 border-t border-purple-800/30 bg-black/20\">\r\n        <div className=\"flex gap-2\">\r\n          <Input\r\n            value={inputValue}\r\n            onChange={(e) => setInputValue(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Ask me about your music...\"\r\n            className=\"bg-black/30 border-purple-700/30 text-white placeholder:text-purple-300 focus:border-purple-500\"\r\n            disabled={isThinking}\r\n          />\r\n          <HapticButton\r\n            onClick={handleSendMessage}\r\n            disabled={!inputValue.trim() || isThinking}\r\n            size=\"sm\"\r\n            hapticType=\"medium\"\r\n            className=\"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            <motion.div\r\n              animate={isThinking ? { rotate: 360 } : { rotate: 0 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              <Send className=\"w-4 h-4\" />\r\n            </motion.div>\r\n          </HapticButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import { useState } from \"react\";\r\nimport { Copy, Download, Play, Lock } from \"lucide-react\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Card } from \"./ui/card\";\r\nimport { ScrollArea } from \"./ui/scroll-area\";\r\nimport { Badge } from \"./ui/badge\";\r\n\r\ninterface CodeEditorProps {\r\n  locked?: boolean;\r\n}\r\n\r\nexport function CodeEditor({ locked = false }: CodeEditorProps) {\r\n  const [code] = useState(`// ChordCraft Generated Music Code\r\nconst musicTrack = {\r\n  title: \"Piano Melody\",\r\n  tempo: 120,\r\n  timeSignature: \"4/4\",\r\n  key: \"C Major\",\r\n  \r\n  tracks: [\r\n    {\r\n      instrument: \"piano\",\r\n      notes: [\r\n        { note: \"C4\", time: 0, duration: 0.5, velocity: 80 },\r\n        { note: \"E4\", time: 0.5, duration: 0.5, velocity: 75 },\r\n        { note: \"G4\", time: 1.0, duration: 1.0, velocity: 85 },\r\n        { note: \"C5\", time: 2.0, duration: 0.75, velocity: 90 }\r\n      ]\r\n    }\r\n  ],\r\n  \r\n  chordProgression: [\r\n    { chord: \"C\", time: 0, duration: 2 },\r\n    { chord: \"Am\", time: 2, duration: 2 },\r\n    { chord: \"F\", time: 4, duration: 2 },\r\n    { chord: \"G\", time: 6, duration: 2 }\r\n  ]\r\n};\r\n\r\n// Export as MIDI\r\nexport function generateMIDI() {\r\n  return musicTrack.tracks.map(track => ({\r\n    ...track,\r\n    midiData: convertToMIDI(track.notes)\r\n  }));\r\n}\r\n\r\n// Real-time playback\r\nexport function playTrack() {\r\n  const audioContext = new AudioContext();\r\n  musicTrack.tracks.forEach(track => {\r\n    track.notes.forEach(note => {\r\n      scheduleNote(audioContext, note);\r\n    });\r\n  });\r\n}`);\r\n\r\n  if (locked) {\r\n    return (\r\n      <Card className=\"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30 relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-10\">\r\n          <div className=\"text-center\">\r\n            <Lock className=\"w-12 h-12 text-yellow-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-yellow-400 mb-2\">PRO Feature</h3>\r\n            <p className=\"text-sm text-yellow-200 mb-4 max-w-48\">\r\n              Unlock the code editor to view and modify AI-generated music code\r\n            </p>\r\n            <Button \r\n              size=\"sm\"\r\n              className=\"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700\"\r\n            >\r\n              Upgrade to PRO\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Blurred Preview */}\r\n        <div className=\"blur-sm opacity-50 p-4\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <h3 className=\"font-medium text-purple-200\">Music Code</h3>\r\n              <Badge variant=\"secondary\" className=\"bg-purple-600/20 text-purple-300\">\r\n                Generated\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n          \r\n          <pre className=\"text-xs text-purple-200 font-mono bg-black/30 p-3 rounded border border-purple-700/30 overflow-hidden\">\r\n            {code.substring(0, 200)}...\r\n          </pre>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30\">\r\n      <div className=\"p-4 border-b border-purple-800/30\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <h3 className=\"font-medium text-purple-200\">Music Code</h3>\r\n            <Badge variant=\"secondary\" className=\"bg-purple-600/20 text-purple-300\">\r\n              Generated\r\n            </Badge>\r\n          </div>\r\n          \r\n          <div className=\"flex gap-2\">\r\n            <Button size=\"sm\" variant=\"ghost\" className=\"text-purple-400 hover:text-purple-300\">\r\n              <Copy className=\"w-3 h-3\" />\r\n            </Button>\r\n            <Button size=\"sm\" variant=\"ghost\" className=\"text-purple-400 hover:text-purple-300\">\r\n              <Download className=\"w-3 h-3\" />\r\n            </Button>\r\n            <Button size=\"sm\" variant=\"ghost\" className=\"text-green-400 hover:text-green-300\">\r\n              <Play className=\"w-3 h-3\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        \r\n        <p className=\"text-xs text-purple-300\">\r\n          AI-generated code from your musical input\r\n        </p>\r\n      </div>\r\n      \r\n      <ScrollArea className=\"h-[calc(100%-5rem)]\">\r\n        <div className=\"p-4\">\r\n          <pre className=\"text-xs text-purple-200 font-mono bg-black/30 p-3 rounded border border-purple-700/30 overflow-x-auto\">\r\n            {code}\r\n          </pre>\r\n        </div>\r\n      </ScrollArea>\r\n    </Card>\r\n  );\r\n}","import { BarChart3, TrendingUp, Music, Lock } from \"lucide-react\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\r\nimport { Progress } from \"./ui/progress\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { Button } from \"./ui/button\";\r\n\r\ninterface MusicAnalysisProps {\r\n  locked?: boolean;\r\n}\r\n\r\nexport function MusicAnalysis({ locked = false }: MusicAnalysisProps) {\r\n  const analysisData = {\r\n    key: \"C Major\",\r\n    tempo: 120,\r\n    timeSignature: \"4/4\",\r\n    harmonicComplexity: 75,\r\n    rhythmicVariety: 60,\r\n    melodicMovement: 85,\r\n    chordProgression: [\"C\", \"Am\", \"F\", \"G\"],\r\n    scales: [\"C Major\", \"A Natural Minor\"],\r\n    mood: \"Uplifting\",\r\n    genre: \"Pop/Rock\"\r\n  };\r\n\r\n  if (locked) {\r\n    return (\r\n      <Card className=\"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30 relative overflow-hidden\">\r\n        <div className=\"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-10\">\r\n          <div className=\"text-center\">\r\n            <Lock className=\"w-12 h-12 text-yellow-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-yellow-400 mb-2\">PRO Feature</h3>\r\n            <p className=\"text-sm text-yellow-200 mb-4 max-w-48\">\r\n              Get detailed harmonic analysis, chord progressions, and musical insights\r\n            </p>\r\n            <Button \r\n              size=\"sm\"\r\n              className=\"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700\"\r\n            >\r\n              Upgrade to PRO\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Blurred Preview */}\r\n        <div className=\"blur-sm opacity-50 p-4 space-y-4\">\r\n          <Card className=\"bg-black/30 border-purple-700/30\">\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm text-purple-200\">Key Analysis</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-2xl font-bold text-purple-400\">C Major</div>\r\n                <div className=\"text-xs text-purple-300\">Primary Key</div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n          \r\n          <Card className=\"bg-black/30 border-purple-700/30\">\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"text-sm text-purple-200\">Complexity Metrics</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-3\">\r\n              <div>\r\n                <div className=\"flex justify-between text-xs mb-1\">\r\n                  <span className=\"text-purple-300\">Harmonic</span>\r\n                  <span className=\"text-purple-400\">75%</span>\r\n                </div>\r\n                <Progress value={75} className=\"h-2\" />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"h-full bg-gradient-to-br from-slate-800/30 to-slate-900/30 border-slate-600/30\">\r\n      <CardHeader className=\"pb-3 border-b border-purple-800/30\">\r\n        <CardTitle className=\"flex items-center gap-2 text-purple-200\">\r\n          <BarChart3 className=\"w-5 h-5\" />\r\n          Music Analysis\r\n        </CardTitle>\r\n        <p className=\"text-xs text-purple-300\">\r\n          AI-powered harmonic and structural analysis\r\n        </p>\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"p-4 space-y-4 h-[calc(100%-5rem)] overflow-y-auto\">\r\n        {/* Key and Basic Info */}\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <Card className=\"bg-black/30 border-purple-700/30\">\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm text-purple-200\">Key Signature</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xl font-bold text-purple-400\">{analysisData.key}</div>\r\n                <div className=\"text-xs text-purple-300\">Primary Key</div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n          \r\n          <Card className=\"bg-black/30 border-purple-700/30\">\r\n            <CardHeader className=\"pb-2\">\r\n              <CardTitle className=\"text-sm text-purple-200\">Tempo</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-center\">\r\n                <div className=\"text-xl font-bold text-green-400\">{analysisData.tempo}</div>\r\n                <div className=\"text-xs text-green-300\">BPM</div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Complexity Metrics */}\r\n        <Card className=\"bg-black/30 border-purple-700/30\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm text-purple-200 flex items-center gap-2\">\r\n              <TrendingUp className=\"w-4 h-4\" />\r\n              Complexity Metrics\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div>\r\n              <div className=\"flex justify-between text-xs mb-1\">\r\n                <span className=\"text-purple-300\">Harmonic Complexity</span>\r\n                <span className=\"text-purple-400\">{analysisData.harmonicComplexity}%</span>\r\n              </div>\r\n              <Progress value={analysisData.harmonicComplexity} className=\"h-2\" />\r\n            </div>\r\n            \r\n            <div>\r\n              <div className=\"flex justify-between text-xs mb-1\">\r\n                <span className=\"text-purple-300\">Rhythmic Variety</span>\r\n                <span className=\"text-purple-400\">{analysisData.rhythmicVariety}%</span>\r\n              </div>\r\n              <Progress value={analysisData.rhythmicVariety} className=\"h-2\" />\r\n            </div>\r\n            \r\n            <div>\r\n              <div className=\"flex justify-between text-xs mb-1\">\r\n                <span className=\"text-purple-300\">Melodic Movement</span>\r\n                <span className=\"text-purple-400\">{analysisData.melodicMovement}%</span>\r\n              </div>\r\n              <Progress value={analysisData.melodicMovement} className=\"h-2\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Chord Progression */}\r\n        <Card className=\"bg-black/30 border-purple-700/30\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm text-purple-200 flex items-center gap-2\">\r\n              <Music className=\"w-4 h-4\" />\r\n              Chord Progression\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"flex gap-2 flex-wrap\">\r\n              {analysisData.chordProgression.map((chord, index) => (\r\n                <Badge \r\n                  key={index}\r\n                  variant=\"secondary\" \r\n                  className=\"bg-purple-600/20 text-purple-300 border-purple-500/30\"\r\n                >\r\n                  {chord}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n            <p className=\"text-xs text-purple-300 mt-2\">\r\n              I-vi-IV-V progression in {analysisData.key}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Musical Characteristics */}\r\n        <Card className=\"bg-black/30 border-purple-700/30\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm text-purple-200\">Musical Characteristics</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-xs text-purple-300\">Mood:</span>\r\n              <Badge variant=\"outline\" className=\"bg-pink-600/20 text-pink-300 border-pink-500/30\">\r\n                {analysisData.mood}\r\n              </Badge>\r\n            </div>\r\n            \r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-xs text-purple-300\">Genre:</span>\r\n              <Badge variant=\"outline\" className=\"bg-blue-600/20 text-blue-300 border-blue-500/30\">\r\n                {analysisData.genre}\r\n              </Badge>\r\n            </div>\r\n            \r\n            <div className=\"flex justify-between\">\r\n              <span className=\"text-xs text-purple-300\">Time Signature:</span>\r\n              <span className=\"text-xs text-purple-400\">{analysisData.timeSignature}</span>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Scales */}\r\n        <Card className=\"bg-black/30 border-purple-700/30\">\r\n          <CardHeader className=\"pb-3\">\r\n            <CardTitle className=\"text-sm text-purple-200\">Detected Scales</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-2\">\r\n              {analysisData.scales.map((scale, index) => (\r\n                <div key={index} className=\"flex items-center justify-between\">\r\n                  <span className=\"text-xs text-purple-300\">{scale}</span>\r\n                  <Badge \r\n                    variant=\"outline\" \r\n                    className=\"bg-green-600/20 text-green-300 border-green-500/30\"\r\n                  >\r\n                    {index === 0 ? 'Primary' : 'Secondary'}\r\n                  </Badge>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","import { useState } from \"react\";\r\nimport { Brain, Code, BarChart3, Lock } from \"lucide-react\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"./ui/card\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { AICompanion } from \"./AICompanion\";\r\nimport { CodeEditor } from \"./CodeEditor\";\r\nimport { MusicAnalysis } from \"./MusicAnalysis\";\r\n\r\nexport function RightPanel() {\r\n  const [activeTab, setActiveTab] = useState(\"ai-companion\");\r\n\r\n  return (\r\n    <div className=\"w-80 border-l border-purple-800/30 bg-black/10 backdrop-blur-sm\">\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"h-full flex flex-col\">\r\n        <TabsList className=\"grid w-full grid-cols-3 bg-black/20 border-b border-purple-800/30 rounded-none\">\r\n          <TabsTrigger \r\n            value=\"ai-companion\" \r\n            className=\"data-[state=active]:bg-purple-600/30 data-[state=active]:text-purple-200\"\r\n          >\r\n            <Brain className=\"w-4 h-4 mr-2\" />\r\n            AI Companion\r\n          </TabsTrigger>\r\n          <TabsTrigger \r\n            value=\"code-editor\"\r\n            className=\"data-[state=active]:bg-purple-600/30 data-[state=active]:text-purple-200\"\r\n          >\r\n            <Code className=\"w-4 h-4 mr-2\" />\r\n            Code\r\n            <Lock className=\"w-3 h-3 ml-1 text-yellow-400\" />\r\n          </TabsTrigger>\r\n          <TabsTrigger \r\n            value=\"analysis\"\r\n            className=\"data-[state=active]:bg-purple-600/30 data-[state=active]:text-purple-200\"\r\n          >\r\n            <BarChart3 className=\"w-4 h-4 mr-2\" />\r\n            Analysis\r\n            <Lock className=\"w-3 h-3 ml-1 text-yellow-400\" />\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <div className=\"flex-1 overflow-hidden\">\r\n          <TabsContent value=\"ai-companion\" className=\"h-full m-0\">\r\n            <AICompanion />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"code-editor\" className=\"h-full m-0\">\r\n            <div className=\"h-full flex flex-col\">\r\n              {/* PRO Feature Lock */}\r\n              <Card className=\"m-4 bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-700/30\">\r\n                <CardHeader className=\"pb-3\">\r\n                  <CardTitle className=\"flex items-center gap-2 text-yellow-400\">\r\n                    <Lock className=\"w-5 h-5\" />\r\n                    PRO Feature\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm text-yellow-200 mb-3\">\r\n                    Unlock the code editor to view and modify the AI-generated music code.\r\n                  </p>\r\n                  <Badge variant=\"outline\" className=\"bg-yellow-400/10 text-yellow-400 border-yellow-500/30\">\r\n                    Upgrade to PRO\r\n                  </Badge>\r\n                </CardContent>\r\n              </Card>\r\n              \r\n              <div className=\"flex-1 mx-4 mb-4\">\r\n                <CodeEditor locked={true} />\r\n              </div>\r\n            </div>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"analysis\" className=\"h-full m-0\">\r\n            <div className=\"h-full flex flex-col\">\r\n              {/* PRO Feature Lock */}\r\n              <Card className=\"m-4 bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-700/30\">\r\n                <CardHeader className=\"pb-3\">\r\n                  <CardTitle className=\"flex items-center gap-2 text-yellow-400\">\r\n                    <Lock className=\"w-5 h-5\" />\r\n                    PRO Feature\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <p className=\"text-sm text-yellow-200 mb-3\">\r\n                    Get detailed music analysis including chord progressions, scales, and harmonic analysis.\r\n                  </p>\r\n                  <Badge variant=\"outline\" className=\"bg-yellow-400/10 text-yellow-400 border-yellow-500/30\">\r\n                    Upgrade to PRO\r\n                  </Badge>\r\n                </CardContent>\r\n              </Card>\r\n              \r\n              <div className=\"flex-1 mx-4 mb-4\">\r\n                <MusicAnalysis locked={true} />\r\n              </div>\r\n            </div>\r\n          </TabsContent>\r\n        </div>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\r\nimport { XIcon } from \"lucide-react\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Dialog({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\r\n}\r\n\r\nfunction DialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\r\n}\r\n\r\nfunction DialogPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\r\n}\r\n\r\nfunction DialogClose({\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\r\n          className,\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\r\n          <XIcon />\r\n          <span className=\"sr-only\">Close</span>\r\n        </DialogPrimitive.Close>\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\r\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn(\"text-lg leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n};\r\n","import { Check, Crown, Zap, Brain, Code, BarChart3, X } from \"lucide-react\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"./ui/dialog\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Card, CardContent } from \"./ui/card\";\r\nimport { Badge } from \"./ui/badge\";\r\n\r\ninterface SubscriptionModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport function SubscriptionModal({ open, onOpenChange }: SubscriptionModalProps) {\r\n  const proFeatures = [\r\n    {\r\n      icon: <Code className=\"w-5 h-5\" />,\r\n      title: \"Music-to-Code Generation\",\r\n      description: \"Convert your music into editable code format\"\r\n    },\r\n    {\r\n      icon: <Brain className=\"w-5 h-5\" />,\r\n      title: \"Advanced AI Analysis\", \r\n      description: \"Deep harmonic and structural music analysis\"\r\n    },\r\n    {\r\n      icon: <BarChart3 className=\"w-5 h-5\" />,\r\n      title: \"Professional Analytics\",\r\n      description: \"Detailed chord progressions and scale analysis\"\r\n    },\r\n    {\r\n      icon: <Zap className=\"w-5 h-5\" />,\r\n      title: \"Real-time Code Preview\",\r\n      description: \"See generated code as you create music\"\r\n    }\r\n  ];\r\n\r\n  const handleUpgrade = () => {\r\n    // In a real app, this would integrate with a payment processor\r\n    console.log(\"Redirecting to payment...\");\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border-purple-700/30 text-white\">\r\n        <DialogHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <DialogTitle className=\"flex items-center gap-3 text-2xl\">\r\n              <div className=\"w-8 h-8 bg-gradient-to-br from-yellow-400 to-orange-400 rounded-lg flex items-center justify-center\">\r\n                <Crown className=\"w-5 h-5 text-white\" />\r\n              </div>\r\n              <span className=\"bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent\">\r\n                ChordCraft PRO\r\n              </span>\r\n            </DialogTitle>\r\n            <Button \r\n              variant=\"ghost\" \r\n              size=\"sm\" \r\n              onClick={() => onOpenChange(false)}\r\n              className=\"text-purple-300 hover:text-white\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </Button>\r\n          </div>\r\n          <p className=\"text-purple-200 mt-2\">\r\n            Unlock the full power of AI-driven music production\r\n          </p>\r\n        </DialogHeader>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6\">\r\n          {/* Features List */}\r\n          <div className=\"space-y-4\">\r\n            <h3 className=\"font-semibold text-lg text-purple-200 mb-4\">\r\n              What's included in PRO:\r\n            </h3>\r\n            \r\n            {proFeatures.map((feature, index) => (\r\n              <div key={index} className=\"flex gap-3 p-3 rounded-lg bg-black/20 border border-purple-700/30\">\r\n                <div className=\"text-purple-400 mt-0.5\">\r\n                  {feature.icon}\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-medium text-purple-200 mb-1\">\r\n                    {feature.title}\r\n                  </h4>\r\n                  <p className=\"text-sm text-purple-300\">\r\n                    {feature.description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Pricing Card */}\r\n          <div className=\"flex flex-col\">\r\n            <Card className=\"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-700/30 mb-4\">\r\n              <CardContent className=\"p-6 text-center\">\r\n                <Badge \r\n                  variant=\"outline\" \r\n                  className=\"bg-yellow-400/10 text-yellow-400 border-yellow-500/30 mb-4\"\r\n                >\r\n                  Most Popular\r\n                </Badge>\r\n                \r\n                <div className=\"mb-4\">\r\n                  <div className=\"text-4xl font-bold text-yellow-400 mb-2\">\r\n                    $19\r\n                    <span className=\"text-lg text-yellow-300\">/month</span>\r\n                  </div>\r\n                  <p className=\"text-sm text-yellow-200\">\r\n                    Cancel anytime â€¢ 7-day free trial\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"space-y-2 mb-6\">\r\n                  <div className=\"flex items-center justify-center gap-2 text-sm text-yellow-200\">\r\n                    <Check className=\"w-4 h-4 text-green-400\" />\r\n                    Unlimited AI generations\r\n                  </div>\r\n                  <div className=\"flex items-center justify-center gap-2 text-sm text-yellow-200\">\r\n                    <Check className=\"w-4 h-4 text-green-400\" />\r\n                    Export to all formats\r\n                  </div>\r\n                  <div className=\"flex items-center justify-center gap-2 text-sm text-yellow-200\">\r\n                    <Check className=\"w-4 h-4 text-green-400\" />\r\n                    Priority AI processing\r\n                  </div>\r\n                  <div className=\"flex items-center justify-center gap-2 text-sm text-yellow-200\">\r\n                    <Check className=\"w-4 h-4 text-green-400\" />\r\n                    Advanced music analysis\r\n                  </div>\r\n                </div>\r\n\r\n                <Button \r\n                  onClick={handleUpgrade}\r\n                  className=\"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white font-medium\"\r\n                  size=\"lg\"\r\n                >\r\n                  Start 7-Day Free Trial\r\n                </Button>\r\n                \r\n                <p className=\"text-xs text-yellow-300 mt-3\">\r\n                  No commitment â€¢ Cancel before trial ends\r\n                </p>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Testimonial */}\r\n            <div className=\"bg-black/20 border border-purple-700/30 rounded-lg p-4\">\r\n              <p className=\"text-sm text-purple-200 italic mb-2\">\r\n                \"ChordCraft PRO transformed my music production workflow. The AI analysis is incredible!\"\r\n              </p>\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full\" />\r\n                <span className=\"text-xs text-purple-300\">Sarah M., Music Producer</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-6 pt-4 border-t border-purple-800/30\">\r\n          <p className=\"text-xs text-purple-300 text-center\">\r\n            By upgrading, you agree to our Terms of Service and Privacy Policy.\r\n            Secure payment processing by Stripe.\r\n          </p>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}","import { useState, useEffect, useRef } from \"react\";\r\nimport { motion, AnimatePresence, useScroll, useTransform, useInView } from \"framer-motion\";\r\nimport { \r\n  Brain, \r\n  Music, \r\n  Zap, \r\n  Code, \r\n  ArrowRight, \r\n  Play, \r\n  Star, \r\n  Activity,\r\n  Headphones,\r\n  Sparkles,\r\n  Volume2,\r\n  Upload,\r\n  Download,\r\n  ChevronDown,\r\n  Quote\r\n} from \"lucide-react\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Card, CardContent } from \"./ui/card\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport { Progress } from \"./ui/progress\";\r\n\r\ninterface LandingPageProps {\r\n  onEnterStudio: () => void;\r\n}\r\n\r\nexport function LandingPage({ onEnterStudio }: LandingPageProps) {\r\n  const [currentFeature, setCurrentFeature] = useState(0);\r\n  const [isDAWPreviewVisible, setIsDAWPreviewVisible] = useState(false);\r\n  const heroRef = useRef<HTMLDivElement>(null);\r\n  const featuresRef = useRef<HTMLDivElement>(null);\r\n  const testimonialsRef = useRef<HTMLDivElement>(null);\r\n  const ctaFunnelRef = useRef<HTMLDivElement>(null);\r\n\r\n  const { scrollY } = useScroll();\r\n  const backgroundY = useTransform(scrollY, [0, 1000], [0, -300]);\r\n  const heroOpacity = useTransform(scrollY, [0, 400], [1, 0]);\r\n\r\n  const isHeroInView = useInView(heroRef);\r\n  const isFeaturesInView = useInView(featuresRef);\r\n  const isTestimonialsInView = useInView(testimonialsRef);\r\n  const isCTAInView = useInView(ctaFunnelRef);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrentFeature(prev => (prev + 1) % features.length);\r\n    }, 4000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const features = [\r\n    {\r\n      id: 1,\r\n      title: \"AI-Powered Generation\",\r\n      description: \"Transform your musical ideas into professional-quality compositions using advanced AI\",\r\n      icon: <Brain className=\"w-8 h-8 text-electric-violet\" />,\r\n      neonIcon: (\r\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <rect width=\"64\" height=\"64\" rx=\"12\" fill=\"url(#brain-gradient)\"/>\r\n          <path d=\"M20 32C20 24.268 26.268 18 34 18s14 6.268 14 14-6.268 14-14 14-14-6.268-14-14z\" stroke=\"url(#brain-stroke)\" strokeWidth=\"2\"/>\r\n          <path d=\"M30 28l4 4 8-8\" stroke=\"url(#brain-accent)\" strokeWidth=\"2\"/>\r\n          <defs>\r\n            <linearGradient id=\"brain-gradient\" x1=\"32\" y1=\"0\" x2=\"32\" y2=\"64\">\r\n              <stop stopColor=\"#8b5cf6\"/>\r\n              <stop offset=\"1\" stopColor=\"#3f00ff\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"brain-stroke\" x1=\"32\" y1=\"18\" x2=\"32\" y2=\"46\">\r\n              <stop stopColor=\"#00c2ff\"/>\r\n              <stop offset=\"1\" stopColor=\"#80ff00\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"brain-accent\" x1=\"32\" y1=\"20\" x2=\"32\" y2=\"32\">\r\n              <stop stopColor=\"#ff00ff\"/>\r\n            </linearGradient>\r\n          </defs>\r\n        </svg>\r\n      ),\r\n      microcopy: \"Create professional tracks in seconds\",\r\n      color: \"from-purple-600 to-violet-600\"\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Music-to-Code\",\r\n      description: \"Convert your music into editable code format for precise control and customization\",\r\n      icon: <Code className=\"w-8 h-8 text-neon-cyan\" />,\r\n      neonIcon: (\r\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <rect width=\"64\" height=\"64\" rx=\"12\" fill=\"url(#code-gradient)\"/>\r\n          <path d=\"M22 20C22 17.7909 23.7909 16 26 16H38C40.2091 16 42 17.7909 42 20V44C42 46.2091 40.2091 48 38 48H26C23.7909 48 22 46.2091 22 44V20Z\" stroke=\"url(#code-stroke)\" strokeWidth=\"3\"/>\r\n          <path d=\"M22 32H42\" stroke=\"url(#code-line1)\" strokeWidth=\"3\"/>\r\n          <path d=\"M32 16V48\" stroke=\"url(#code-line2)\" strokeWidth=\"3\"/>\r\n          <path d=\"M27 24L31 24\" stroke=\"url(#code-accent1)\" strokeWidth=\"2\"/>\r\n          <path d=\"M33 24L37 24\" stroke=\"url(#code-accent2)\" strokeWidth=\"2\"/>\r\n          <path d=\"M27 40L31 40\" stroke=\"url(#code-accent3)\" strokeWidth=\"2\"/>\r\n          <path d=\"M33 40L37 40\" stroke=\"url(#code-accent4)\" strokeWidth=\"2\"/>\r\n          <defs>\r\n            <linearGradient id=\"code-gradient\" x1=\"32\" y1=\"0\" x2=\"32\" y2=\"64\">\r\n              <stop stopColor=\"#3F00FF\"/>\r\n              <stop offset=\"1\" stopColor=\"#C800FF\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"code-stroke\" x1=\"32\" y1=\"16\" x2=\"32\" y2=\"48\">\r\n              <stop stopColor=\"#00C2FF\"/>\r\n              <stop offset=\"1\" stopColor=\"#80FF00\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"code-line1\">\r\n              <stop stopColor=\"#FF00FF\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"code-line2\" x1=\"32\" y1=\"16\" x2=\"32\" y2=\"48\">\r\n              <stop stopColor=\"#00FFFF\"/>\r\n              <stop offset=\"1\" stopColor=\"#FF00FF\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"code-accent1\">\r\n              <stop stopColor=\"#00FFC2\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"code-accent2\">\r\n              <stop stopColor=\"#00FFC2\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"code-accent3\">\r\n              <stop stopColor=\"#FFC200\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"code-accent4\">\r\n              <stop stopColor=\"#FFC200\"/>\r\n            </linearGradient>\r\n          </defs>\r\n        </svg>\r\n      ),\r\n      microcopy: \"Edit music like code - precise & powerful\",\r\n      color: \"from-cyan-500 to-blue-600\"\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Professional DAW\",\r\n      description: \"Full-featured digital audio workstation with piano roll, timeline, and track management\",\r\n      icon: <Music className=\"w-8 h-8 text-neon-lime\" />,\r\n      neonIcon: (\r\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <rect width=\"64\" height=\"64\" rx=\"12\" fill=\"url(#daw-gradient)\"/>\r\n          <rect x=\"16\" y=\"20\" width=\"32\" height=\"24\" rx=\"4\" stroke=\"url(#daw-stroke)\" strokeWidth=\"2\"/>\r\n          <rect x=\"20\" y=\"26\" width=\"4\" height=\"12\" fill=\"url(#daw-bar1)\"/>\r\n          <rect x=\"28\" y=\"24\" width=\"4\" height=\"14\" fill=\"url(#daw-bar2)\"/>\r\n          <rect x=\"36\" y=\"28\" width=\"4\" height=\"10\" fill=\"url(#daw-bar3)\"/>\r\n          <circle cx=\"22\" cy=\"18\" r=\"2\" fill=\"url(#daw-dot)\" />\r\n          <circle cx=\"32\" cy=\"18\" r=\"2\" fill=\"url(#daw-dot)\" />\r\n          <circle cx=\"42\" cy=\"18\" r=\"2\" fill=\"url(#daw-dot)\" />\r\n          <defs>\r\n            <linearGradient id=\"daw-gradient\" x1=\"32\" y1=\"0\" x2=\"32\" y2=\"64\">\r\n              <stop stopColor=\"#22c55e\"/>\r\n              <stop offset=\"1\" stopColor=\"#15803d\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"daw-stroke\" x1=\"32\" y1=\"20\" x2=\"32\" y2=\"44\">\r\n              <stop stopColor=\"#80ff00\"/>\r\n              <stop offset=\"1\" stopColor=\"#00ff80\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"daw-bar1\" y1=\"26\" y2=\"38\">\r\n              <stop stopColor=\"#ff00ff\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"daw-bar2\" y1=\"24\" y2=\"38\">\r\n              <stop stopColor=\"#00c2ff\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"daw-bar3\" y1=\"28\" y2=\"38\">\r\n              <stop stopColor=\"#ffc200\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"daw-dot\">\r\n              <stop stopColor=\"#ffffff\"/>\r\n            </linearGradient>\r\n          </defs>\r\n        </svg>\r\n      ),\r\n      microcopy: \"Industry-standard tools at your fingertips\",\r\n      color: \"from-green-500 to-emerald-600\"\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Real-time Analysis\",\r\n      description: \"Get instant feedback on harmony, rhythm, and composition structure\",\r\n      icon: <Activity className=\"w-8 h-8 text-neon-yellow\" />,\r\n      neonIcon: (\r\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <rect width=\"64\" height=\"64\" rx=\"12\" fill=\"url(#analysis-gradient)\"/>\r\n          <path d=\"M12 32L20 20L28 36L36 24L44 40L52 32\" stroke=\"url(#analysis-wave)\" strokeWidth=\"3\" fill=\"none\"/>\r\n          <circle cx=\"20\" cy=\"20\" r=\"3\" fill=\"url(#analysis-dot1)\" />\r\n          <circle cx=\"28\" cy=\"36\" r=\"3\" fill=\"url(#analysis-dot2)\" />\r\n          <circle cx=\"36\" cy=\"24\" r=\"3\" fill=\"url(#analysis-dot3)\" />\r\n          <circle cx=\"44\" cy=\"40\" r=\"3\" fill=\"url(#analysis-dot4)\" />\r\n          <defs>\r\n            <linearGradient id=\"analysis-gradient\" x1=\"32\" y1=\"0\" x2=\"32\" y2=\"64\">\r\n              <stop stopColor=\"#f59e0b\"/>\r\n              <stop offset=\"1\" stopColor=\"#d97706\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"analysis-wave\" x1=\"12\" y1=\"32\" x2=\"52\" y2=\"32\">\r\n              <stop stopColor=\"#ffc200\"/>\r\n              <stop offset=\"0.5\" stopColor=\"#ff00ff\"/>\r\n              <stop offset=\"1\" stopColor=\"#00c2ff\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"analysis-dot1\">\r\n              <stop stopColor=\"#00ff80\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"analysis-dot2\">\r\n              <stop stopColor=\"#ff0080\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"analysis-dot3\">\r\n              <stop stopColor=\"#0080ff\"/>\r\n            </linearGradient>\r\n            <linearGradient id=\"analysis-dot4\">\r\n              <stop stopColor=\"#ff8000\"/>\r\n            </linearGradient>\r\n          </defs>\r\n        </svg>\r\n      ),\r\n      microcopy: \"AI-powered insights for better music\",\r\n      color: \"from-yellow-500 to-orange-500\"\r\n    }\r\n  ];\r\n\r\n  const testimonials = [\r\n    {\r\n      id: 1,\r\n      name: \"Alex Rivera\",\r\n      role: \"Music Producer\",\r\n      company: \"Neon Studios\",\r\n      quote: \"ChordCraft transformed my workflow. I can now generate complex chord progressions in seconds and fine-tune them with code-level precision.\",\r\n      avatar: \"AR\",\r\n      waveform: [20, 45, 30, 60, 25, 50, 35, 70, 40, 55]\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Sarah Chen\", \r\n      role: \"Composer\",\r\n      company: \"Indie Artist\",\r\n      quote: \"The Music-to-Code feature is revolutionary. It's like having a musical programming language that actually makes sense.\",\r\n      avatar: \"SC\",\r\n      waveform: [35, 60, 45, 75, 30, 65, 50, 80, 35, 70]\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Marcus Johnson\",\r\n      role: \"Beat Maker\",\r\n      company: \"Urban Beats Collective\",\r\n      quote: \"From concept to finished track in minutes. The AI understands my style and helps me push creative boundaries.\",\r\n      avatar: \"MJ\",\r\n      waveform: [25, 50, 40, 65, 35, 55, 45, 75, 30, 60]\r\n    }\r\n  ];\r\n\r\n  const ctaSteps = [\r\n    {\r\n      id: 1,\r\n      title: \"Try Studio\",\r\n      description: \"Experience the power of AI-driven music creation\",\r\n      icon: <Play className=\"w-6 h-6\" />,\r\n      action: \"Launch Studio\"\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Upload Audio\",\r\n      description: \"Import your existing tracks for analysis\",\r\n      icon: <Upload className=\"w-6 h-6\" />,\r\n      action: \"Upload Track\"\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Generate Code\",\r\n      description: \"Transform music into editable code format\",\r\n      icon: <Code className=\"w-6 h-6\" />,\r\n      action: \"Generate Code\"\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-black via-slate-950 to-black overflow-x-hidden\">\r\n      {/* Animated Background */}\r\n      <motion.div \r\n        className=\"fixed inset-0 opacity-30\"\r\n        style={{ y: backgroundY }}\r\n      >\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(139,92,246,0.3),transparent_50%)]\" />\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(168,85,247,0.3),transparent_50%)]\" />\r\n        <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(99,102,241,0.2),transparent_50%)]\" />\r\n      </motion.div>\r\n\r\n      {/* Hero Section */}\r\n      <section ref={heroRef} className=\"relative min-h-screen flex items-center justify-center px-6\">\r\n        <motion.div \r\n          className=\"max-w-6xl mx-auto text-center z-10\"\r\n          style={{ opacity: heroOpacity }}\r\n        >\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 1, delay: 0.2 }}\r\n            className=\"mb-8\"\r\n          >\r\n            <Badge className=\"mb-6 px-6 py-2 text-lg bg-gradient-to-r from-purple-600/20 to-violet-600/20 border-purple-500/30 hover:border-purple-400/50 transition-all duration-300\">\r\n              <Sparkles className=\"w-4 h-4 mr-2\" />\r\n              AI-Powered Music Production Platform\r\n            </Badge>\r\n          </motion.div>\r\n\r\n          <motion.h1 \r\n            className=\"text-6xl md:text-8xl font-bold mb-6 bg-gradient-to-r from-white via-purple-200 to-cyan-200 bg-clip-text text-transparent\"\r\n            initial={{ opacity: 0, scale: 0.8 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 1, delay: 0.4 }}\r\n          >\r\n            ChordCraft\r\n            <span className=\"block text-4xl md:text-6xl font-light italic text-purple-300\">Studio</span>\r\n          </motion.h1>\r\n\r\n          <motion.p \r\n            className=\"text-xl md:text-2xl text-slate-300 mb-8 max-w-3xl mx-auto leading-relaxed\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 1, delay: 0.6 }}\r\n          >\r\n            The first AI that truly understands both creativity and code.\r\n            Transform musical ideas into professional compositions with unprecedented control.\r\n          </motion.p>\r\n\r\n          <motion.div \r\n            className=\"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12\"\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 1, delay: 0.8 }}\r\n          >\r\n            <Button\r\n              onClick={onEnterStudio}\r\n              size=\"lg\"\r\n              className=\"px-8 py-4 text-lg bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-500 hover:to-violet-500 shadow-lg hover:shadow-purple-500/25 transition-all duration-300 glow-electric-violet group\"\r\n            >\r\n              <motion.div \r\n                className=\"flex items-center\"\r\n                whileHover={{ scale: 1.05 }}\r\n              >\r\n                <Zap className=\"w-5 h-5 mr-2 group-hover:animate-pulse\" />\r\n                Generate Your First Track\r\n                <ArrowRight className=\"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform\" />\r\n              </motion.div>\r\n            </Button>\r\n\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"lg\"\r\n              className=\"px-8 py-4 text-lg border-purple-500/30 hover:border-purple-400/50 hover:bg-purple-600/10 transition-all duration-300\"\r\n              onClick={() => setIsDAWPreviewVisible(true)}\r\n            >\r\n              <Play className=\"w-5 h-5 mr-2\" />\r\n              Watch Demo\r\n            </Button>\r\n          </motion.div>\r\n\r\n          {/* DAW Preview */}\r\n          <motion.div \r\n            className=\"relative max-w-4xl mx-auto\"\r\n            initial={{ opacity: 0, y: 40 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 1, delay: 1 }}\r\n          >\r\n            <Card className=\"bg-black/40 backdrop-blur-xl border-purple-500/30 shadow-2xl\">\r\n              <CardContent className=\"p-8\">\r\n                <div className=\"space-y-4\">\r\n                  {/* Fake DAW Interface */}\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-3 h-3 rounded-full bg-red-500\" />\r\n                      <div className=\"w-3 h-3 rounded-full bg-yellow-500\" />\r\n                      <div className=\"w-3 h-3 rounded-full bg-green-500\" />\r\n                    </div>\r\n                    <Badge className=\"bg-purple-600/20 text-purple-300\">\r\n                      ChordCraft Studio\r\n                    </Badge>\r\n                  </div>\r\n                  \r\n                  <div className=\"grid grid-cols-12 gap-2 h-32\">\r\n                    {Array.from({ length: 48 }).map((_, i) => (\r\n                      <motion.div\r\n                        key={i}\r\n                        className=\"bg-gradient-to-t from-purple-600/20 to-transparent rounded-sm\"\r\n                        animate={{ \r\n                          height: [10, Math.random() * 80 + 20, 10],\r\n                          opacity: [0.3, 1, 0.3]\r\n                        }}\r\n                        transition={{ \r\n                          duration: 2,\r\n                          delay: i * 0.1,\r\n                          repeat: Infinity,\r\n                          repeatType: \"reverse\"\r\n                        }}\r\n                        style={{ height: `${Math.random() * 80 + 20}%` }}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-center\">\r\n                    <motion.div\r\n                      className=\"text-xs font-mono text-purple-300\"\r\n                      animate={{ opacity: [0.5, 1, 0.5] }}\r\n                      transition={{ duration: 2, repeat: Infinity }}\r\n                    >\r\n                      â™ª Analyzing harmonic structure... BPM: 128 | Key: C Major â™ª\r\n                    </motion.div>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n\r\n          {/* Scroll Indicator */}\r\n          <motion.div \r\n            className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2\"\r\n            animate={{ y: [0, 10, 0] }}\r\n            transition={{ duration: 2, repeat: Infinity }}\r\n          >\r\n            <ChevronDown className=\"w-8 h-8 text-purple-400\" />\r\n          </motion.div>\r\n        </motion.div>\r\n      </section>\r\n\r\n      {/* Interactive Feature Carousel */}\r\n      <section ref={featuresRef} className=\"relative py-24 px-6\">\r\n        <div className=\"max-w-7xl mx-auto\">\r\n          <motion.div \r\n            className=\"text-center mb-16\"\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={isFeaturesInView ? { opacity: 1, y: 0 } : {}}\r\n            transition={{ duration: 0.8 }}\r\n          >\r\n            <h2 className=\"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent\">\r\n              Professional Tools. Creative Freedom.\r\n            </h2>\r\n            <p className=\"text-xl text-slate-300 max-w-2xl mx-auto\">\r\n              Everything you need to create, analyze, and perfect your music with AI-powered precision\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n            {features.map((feature, index) => (\r\n              <motion.div\r\n                key={feature.id}\r\n                initial={{ opacity: 0, y: 30 }}\r\n                animate={isFeaturesInView ? { opacity: 1, y: 0 } : {}}\r\n                transition={{ duration: 0.8, delay: index * 0.1 }}\r\n                onHoverStart={() => setCurrentFeature(index)}\r\n              >\r\n                <Card className=\"bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-xl border-purple-500/30 hover:border-purple-400/50 transition-all duration-300 group overflow-hidden relative\">\r\n                  <CardContent className=\"p-6 text-center\">\r\n                    <motion.div \r\n                      className=\"w-16 h-16 mx-auto mb-4 relative\"\r\n                      whileHover={{ scale: 1.1 }}\r\n                      transition={{ duration: 0.3 }}\r\n                    >\r\n                      <motion.div\r\n                        animate={currentFeature === index ? {\r\n                          boxShadow: [\r\n                            \"0 0 20px rgba(139, 92, 246, 0.3)\",\r\n                            \"0 0 40px rgba(139, 92, 246, 0.6)\",\r\n                            \"0 0 20px rgba(139, 92, 246, 0.3)\"\r\n                          ]\r\n                        } : {}}\r\n                        transition={{ duration: 2, repeat: Infinity }}\r\n                      >\r\n                        {feature.neonIcon}\r\n                      </motion.div>\r\n                    </motion.div>\r\n                    \r\n                    <h3 className=\"text-xl font-semibold mb-2\">{feature.title}</h3>\r\n                    <p className=\"text-slate-400 text-sm mb-4\">{feature.description}</p>\r\n                    \r\n                    <AnimatePresence>\r\n                      {currentFeature === index && (\r\n                        <motion.div\r\n                          initial={{ opacity: 0, y: 10 }}\r\n                          animate={{ opacity: 1, y: 0 }}\r\n                          exit={{ opacity: 0, y: -10 }}\r\n                          className=\"text-xs text-purple-300 font-medium\"\r\n                        >\r\n                          {feature.microcopy}\r\n                        </motion.div>\r\n                      )}\r\n                    </AnimatePresence>\r\n                  </CardContent>\r\n                  \r\n                  {/* Hover Glow Effect */}\r\n                  <motion.div\r\n                    className=\"absolute inset-0 bg-gradient-to-r from-purple-600/0 via-purple-600/5 to-purple-600/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\"\r\n                  />\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Creator Testimonials */}\r\n      <section ref={testimonialsRef} className=\"relative py-24 px-6 bg-gradient-to-b from-transparent to-slate-950/50\">\r\n        <div className=\"max-w-6xl mx-auto\">\r\n          <motion.div \r\n            className=\"text-center mb-16\"\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={isTestimonialsInView ? { opacity: 1, y: 0 } : {}}\r\n            transition={{ duration: 0.8 }}\r\n          >\r\n            <h2 className=\"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-cyan-200 bg-clip-text text-transparent\">\r\n              Loved by Creators Worldwide\r\n            </h2>\r\n            <p className=\"text-xl text-slate-300\">\r\n              Join thousands of artists pushing the boundaries of music creation\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n            {testimonials.map((testimonial, index) => (\r\n              <motion.div\r\n                key={testimonial.id}\r\n                initial={{ opacity: 0, y: 30 }}\r\n                animate={isTestimonialsInView ? { opacity: 1, y: 0 } : {}}\r\n                transition={{ duration: 0.8, delay: index * 0.2 }}\r\n              >\r\n                <Card className=\"bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-xl border-cyan-500/30 hover:border-cyan-400/50 transition-all duration-300 h-full relative overflow-hidden\">\r\n                  <CardContent className=\"p-6\">\r\n                    {/* Waveform Overlay */}\r\n                    <div className=\"absolute top-0 right-0 w-20 h-20 opacity-20\">\r\n                      <svg viewBox=\"0 0 80 80\" className=\"w-full h-full\">\r\n                        {testimonial.waveform.map((height, i) => (\r\n                          <motion.rect\r\n                            key={i}\r\n                            x={i * 8}\r\n                            y={80 - height}\r\n                            width=\"6\"\r\n                            height={height}\r\n                            fill=\"url(#waveform-gradient)\"\r\n                            animate={{\r\n                              height: [height, height + 10, height],\r\n                            }}\r\n                            transition={{\r\n                              duration: 2,\r\n                              delay: i * 0.1,\r\n                              repeat: Infinity,\r\n                              repeatType: \"reverse\"\r\n                            }}\r\n                          />\r\n                        ))}\r\n                        <defs>\r\n                          <linearGradient id=\"waveform-gradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n                            <stop offset=\"0%\" stopColor=\"#00c2ff\" />\r\n                            <stop offset=\"100%\" stopColor=\"#80ff00\" />\r\n                          </linearGradient>\r\n                        </defs>\r\n                      </svg>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center mb-4\">\r\n                      <div className=\"w-12 h-12 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold mr-4\">\r\n                        {testimonial.avatar}\r\n                      </div>\r\n                      <div>\r\n                        <h4 className=\"font-semibold text-white\">{testimonial.name}</h4>\r\n                        <p className=\"text-sm text-slate-400\">{testimonial.role}</p>\r\n                        <p className=\"text-xs text-cyan-400\">{testimonial.company}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <Quote className=\"w-6 h-6 text-cyan-400 mb-3\" />\r\n                    <p className=\"text-slate-300 leading-relaxed italic\">\r\n                      \"{testimonial.quote}\"\r\n                    </p>\r\n\r\n                    <div className=\"flex items-center mt-4\">\r\n                      {[...Array(5)].map((_, i) => (\r\n                        <Star key={i} className=\"w-4 h-4 text-yellow-400 fill-current\" />\r\n                      ))}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* CTA Funnel */}\r\n      <section ref={ctaFunnelRef} className=\"relative py-24 px-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n          <motion.div \r\n            className=\"text-center mb-16\"\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={isCTAInView ? { opacity: 1, y: 0 } : {}}\r\n            transition={{ duration: 0.8 }}\r\n          >\r\n            <h2 className=\"text-4xl md:text-5xl font-bold mb-6 bg-gradient-to-r from-white to-lime-200 bg-clip-text text-transparent\">\r\n              Start Creating in 3 Steps\r\n            </h2>\r\n            <p className=\"text-xl text-slate-300\">\r\n              From idea to finished track in minutes\r\n            </p>\r\n          </motion.div>\r\n\r\n          <div className=\"space-y-8\">\r\n            {ctaSteps.map((step, index) => (\r\n              <motion.div\r\n                key={step.id}\r\n                initial={{ opacity: 0, x: index % 2 === 0 ? -50 : 50 }}\r\n                animate={isCTAInView ? { opacity: 1, x: 0 } : {}}\r\n                transition={{ duration: 0.8, delay: index * 0.2 }}\r\n                className={`flex items-center gap-8 ${index % 2 === 1 ? 'flex-row-reverse' : ''}`}\r\n              >\r\n                <div className=\"flex-1\">\r\n                  <Card className=\"bg-gradient-to-br from-slate-900/50 to-slate-800/30 backdrop-blur-xl border-lime-500/30 hover:border-lime-400/50 transition-all duration-300\">\r\n                    <CardContent className=\"p-8\">\r\n                      <div className=\"flex items-center mb-4\">\r\n                        <div className=\"w-12 h-12 bg-gradient-to-br from-lime-500 to-green-600 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4\">\r\n                          {step.id}\r\n                        </div>\r\n                        <div>\r\n                          <h3 className=\"text-2xl font-semibold text-white mb-2\">{step.title}</h3>\r\n                          <p className=\"text-slate-300\">{step.description}</p>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <Button\r\n                        size=\"lg\"\r\n                        className=\"bg-gradient-to-r from-lime-600 to-green-600 hover:from-lime-500 hover:to-green-500 shadow-lg hover:shadow-lime-500/25 transition-all duration-300\"\r\n                        onClick={step.id === 1 ? onEnterStudio : undefined}\r\n                      >\r\n                        {step.icon}\r\n                        <span className=\"ml-2\">{step.action}</span>\r\n                        <ArrowRight className=\"w-4 h-4 ml-2\" />\r\n                      </Button>\r\n                    </CardContent>\r\n                  </Card>\r\n                </div>\r\n\r\n                {index < ctaSteps.length - 1 && (\r\n                  <motion.div \r\n                    className=\"flex-shrink-0\"\r\n                    animate={{ \r\n                      rotate: [0, 360],\r\n                      scale: [1, 1.1, 1]\r\n                    }}\r\n                    transition={{ \r\n                      duration: 3,\r\n                      repeat: Infinity,\r\n                      ease: \"linear\"\r\n                    }}\r\n                  >\r\n                    <div className=\"w-16 h-16 bg-gradient-to-br from-purple-600 to-violet-600 rounded-full flex items-center justify-center\">\r\n                      <ArrowRight className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                  </motion.div>\r\n                )}\r\n              </motion.div>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Final CTA */}\r\n          <motion.div \r\n            className=\"text-center mt-16\"\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={isCTAInView ? { opacity: 1, scale: 1 } : {}}\r\n            transition={{ duration: 0.8, delay: 0.8 }}\r\n          >\r\n            <Card className=\"bg-gradient-to-br from-purple-900/30 to-violet-900/30 backdrop-blur-xl border-purple-500/50 max-w-md mx-auto\">\r\n              <CardContent className=\"p-8 text-center\">\r\n                <Sparkles className=\"w-12 h-12 text-purple-400 mx-auto mb-4\" />\r\n                <h3 className=\"text-2xl font-bold mb-4 text-white\">Ready to Create?</h3>\r\n                <p className=\"text-slate-300 mb-6\">\r\n                  Join the music production revolution today\r\n                </p>\r\n                <Button\r\n                  onClick={onEnterStudio}\r\n                  size=\"lg\"\r\n                  className=\"w-full bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-500 hover:to-violet-500 shadow-lg hover:shadow-purple-500/25 transition-all duration-300 glow-electric-violet\"\r\n                >\r\n                  <Zap className=\"w-5 h-5 mr-2\" />\r\n                  Launch ChordCraft Studio\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Label };\r\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator-root\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Separator };\r\n","import { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth } from './Auth';\r\nimport { Button } from './ui/button';\r\nimport { Input } from './ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\r\nimport { Label } from './ui/label';\r\nimport { Separator } from './ui/separator';\r\nimport { Github, Mail, ArrowLeft, Loader2 } from 'lucide-react';\r\n\r\ninterface LoginProps {\r\n  onBack: () => void;\r\n}\r\n\r\nexport function Login({ onBack }: LoginProps) {\r\n  const { signInWithEmail, signInWithOAuth } = useAuth();\r\n  const [isSignUp, setIsSignUp] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      await signInWithEmail(email, password);\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await signInWithOAuth('google');\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGitHubSignIn = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await signInWithOAuth('github');\r\n    } catch (err: any) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-dark flex items-center justify-center p-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n        className=\"w-full max-w-md\"\r\n      >\r\n        <Card className=\"bg-slate-800/50 border-slate-600/30 backdrop-blur-sm\">\r\n          <CardHeader className=\"text-center\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={onBack}\r\n              className=\"absolute left-4 top-4 text-slate-400 hover:text-slate-200\"\r\n            >\r\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n              Back\r\n            </Button>\r\n            <CardTitle className=\"text-2xl font-bold text-gold\">\r\n              {isSignUp ? 'Create Account' : 'Welcome Back'}\r\n            </CardTitle>\r\n            <p className=\"text-slate-400 mt-2\">\r\n              {isSignUp \r\n                ? 'Join ChordCraft and start creating music' \r\n                : 'Sign in to continue to your studio'\r\n              }\r\n            </p>\r\n          </CardHeader>\r\n\r\n          <CardContent className=\"space-y-6\">\r\n            {/* OAuth Buttons */}\r\n            <div className=\"space-y-3\">\r\n              <Button\r\n                onClick={handleGoogleSignIn}\r\n                disabled={loading}\r\n                className=\"w-full bg-white hover:bg-gray-100 text-gray-900\"\r\n              >\r\n                <Mail className=\"w-4 h-4 mr-2\" />\r\n                Continue with Google\r\n              </Button>\r\n              \r\n              <Button\r\n                onClick={handleGitHubSignIn}\r\n                disabled={loading}\r\n                className=\"w-full bg-gray-900 hover:bg-gray-800 text-white\"\r\n              >\r\n                <Github className=\"w-4 h-4 mr-2\" />\r\n                Continue with GitHub\r\n              </Button>\r\n            </div>\r\n\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\">\r\n                <Separator className=\"w-full\" />\r\n              </div>\r\n              <div className=\"relative flex justify-center text-xs uppercase\">\r\n                <span className=\"bg-slate-800 px-2 text-slate-400\">Or continue with</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Email/Password Form */}\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\" className=\"text-slate-200\">Email</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  placeholder=\"Enter your email\"\r\n                  className=\"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"password\" className=\"text-slate-200\">Password</Label>\r\n                <Input\r\n                  id=\"password\"\r\n                  type=\"password\"\r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  placeholder=\"Enter your password\"\r\n                  className=\"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {error && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: -10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className=\"text-red-400 text-sm text-center\"\r\n                >\r\n                  {error}\r\n                </motion.div>\r\n              )}\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700\"\r\n              >\r\n                {loading ? (\r\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                ) : null}\r\n                {isSignUp ? 'Create Account' : 'Sign In'}\r\n              </Button>\r\n            </form>\r\n\r\n            <div className=\"text-center\">\r\n              <button\r\n                onClick={() => setIsSignUp(!isSignUp)}\r\n                className=\"text-slate-400 hover:text-slate-200 text-sm\"\r\n              >\r\n                {isSignUp \r\n                  ? 'Already have an account? Sign in' \r\n                  : \"Don't have an account? Sign up\"\r\n                }\r\n              </button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Menu, X } from \"lucide-react\";\r\nimport { HapticButton } from \"./HapticButton\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface ResponsiveLayoutProps {\r\n  header: React.ReactNode;\r\n  leftPanel: React.ReactNode;\r\n  mainPanel: React.ReactNode;\r\n  rightPanel: React.ReactNode;\r\n}\r\n\r\nexport function ResponsiveLayout({ header, leftPanel, mainPanel, rightPanel }: ResponsiveLayoutProps) {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [leftPanelOpen, setLeftPanelOpen] = useState(false);\r\n  const [rightPanelOpen, setRightPanelOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkDevice = () => {\r\n      setIsMobile(window.innerWidth < 1024);\r\n      // Auto-close panels on mobile when resizing\r\n      if (window.innerWidth >= 1024) {\r\n        setLeftPanelOpen(false);\r\n        setRightPanelOpen(false);\r\n      }\r\n    };\r\n\r\n    checkDevice();\r\n    window.addEventListener('resize', checkDevice);\r\n    return () => window.removeEventListener('resize', checkDevice);\r\n  }, []);\r\n\r\n  if (!isMobile) {\r\n    // Desktop layout - original design\r\n    return (\r\n      <div className=\"h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-hidden\">\r\n        {header}\r\n        <div className=\"flex h-[calc(100vh-4rem)]\">\r\n          {leftPanel}\r\n          {mainPanel}\r\n          {rightPanel}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Mobile layout - responsive design\r\n  return (\r\n    <div className=\"h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-hidden\">\r\n      {header}\r\n      \r\n      {/* Mobile Controls */}\r\n      <div className=\"flex items-center justify-between px-4 py-2 border-b border-purple-800/30 bg-black/20 backdrop-blur-sm lg:hidden\">\r\n        <HapticButton\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          hapticType=\"light\"\r\n          onClick={() => setLeftPanelOpen(!leftPanelOpen)}\r\n          className=\"text-purple-300 hover:text-white\"\r\n        >\r\n          <Menu className=\"w-4 h-4 mr-2\" />\r\n          Tracks\r\n        </HapticButton>\r\n        \r\n        <div className=\"text-sm text-purple-300 font-medium\">\r\n          ChordCraft Studio\r\n        </div>\r\n        \r\n        <HapticButton\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          hapticType=\"light\"\r\n          onClick={() => setRightPanelOpen(!rightPanelOpen)}\r\n          className=\"text-purple-300 hover:text-white\"\r\n        >\r\n          AI Assistant\r\n          <Menu className=\"w-4 h-4 ml-2\" />\r\n        </HapticButton>\r\n      </div>\r\n\r\n      <div className=\"flex h-[calc(100vh-8rem)] relative\">\r\n        {/* Main Panel - Always Visible on Mobile */}\r\n        <div className=\"flex-1\">\r\n          {mainPanel}\r\n        </div>\r\n\r\n        {/* Left Panel Overlay */}\r\n        <AnimatePresence>\r\n          {leftPanelOpen && (\r\n            <>\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }}\r\n                className=\"absolute inset-0 bg-black/50 backdrop-blur-sm z-10\"\r\n                onClick={() => setLeftPanelOpen(false)}\r\n              />\r\n              <motion.div\r\n                initial={{ x: \"-100%\" }}\r\n                animate={{ x: 0 }}\r\n                exit={{ x: \"-100%\" }}\r\n                transition={{ type: \"spring\", damping: 25, stiffness: 200 }}\r\n                className=\"absolute left-0 top-0 bottom-0 w-80 max-w-[85vw] z-20\"\r\n              >\r\n                <div className=\"h-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border-r border-purple-700/30\">\r\n                  <div className=\"flex items-center justify-between p-4 border-b border-purple-800/30\">\r\n                    <h3 className=\"font-medium text-purple-200\">Track Manager</h3>\r\n                    <HapticButton\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      hapticType=\"light\"\r\n                      onClick={() => setLeftPanelOpen(false)}\r\n                      className=\"text-purple-300 hover:text-white\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </HapticButton>\r\n                  </div>\r\n                  <div className=\"h-[calc(100%-4rem)]\">\r\n                    {leftPanel}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Right Panel Overlay */}\r\n        <AnimatePresence>\r\n          {rightPanelOpen && (\r\n            <>\r\n              <motion.div\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                exit={{ opacity: 0 }}\r\n                className=\"absolute inset-0 bg-black/50 backdrop-blur-sm z-10\"\r\n                onClick={() => setRightPanelOpen(false)}\r\n              />\r\n              <motion.div\r\n                initial={{ x: \"100%\" }}\r\n                animate={{ x: 0 }}\r\n                exit={{ x: \"100%\" }}\r\n                transition={{ type: \"spring\", damping: 25, stiffness: 200 }}\r\n                className=\"absolute right-0 top-0 bottom-0 w-80 max-w-[85vw] z-20\"\r\n              >\r\n                <div className=\"h-full bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 border-l border-purple-700/30\">\r\n                  <div className=\"flex items-center justify-between p-4 border-b border-purple-800/30\">\r\n                    <h3 className=\"font-medium text-purple-200\">AI Assistant</h3>\r\n                    <HapticButton\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      hapticType=\"light\"\r\n                      onClick={() => setRightPanelOpen(false)}\r\n                      className=\"text-purple-300 hover:text-white\"\r\n                    >\r\n                      <X className=\"w-4 h-4\" />\r\n                    </HapticButton>\r\n                  </div>\r\n                  <div className=\"h-[calc(100%-4rem)]\">\r\n                    {rightPanel}\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React, { useState } from \"react\";\r\nimport { AuthProvider, useAuth } from \"./components/Auth\";\r\nimport { AudioEngineProvider } from \"./services/AudioEngine\";\r\nimport { Header } from \"./components/Header\";\r\nimport { LeftPanel } from \"./components/LeftPanel\";\r\nimport { MainPanel } from \"./components/MainPanel\";\r\nimport { RightPanel } from \"./components/RightPanel\";\r\nimport { SubscriptionModal } from \"./components/SubscriptionModal\";\r\nimport { LandingPage } from \"./components/LandingPage\";\r\nimport { Login } from \"./components/Login\";\r\nimport { ResponsiveLayout } from \"./components/ResponsiveLayout\";\r\nimport { Analytics } from \"@vercel/analytics/react\";\r\n\r\ninterface Track {\r\n  id: string;\r\n  name: string;\r\n  type: \"audio\" | \"midi\";\r\n  duration: string;\r\n  volume: number;\r\n  muted: boolean;\r\n  solo: boolean;\r\n  generatedCode?: string;\r\n}\r\n\r\nfunction AppContent() {\r\n  const { user, loading } = useAuth();\r\n  const [currentView, setCurrentView] = useState<\"landing\" | \"login\" | \"studio\">(\"landing\");\r\n  const [showSubscriptionModal, setShowSubscriptionModal] = useState(false);\r\n  const [currentTrack, setCurrentTrack] = useState<Track | null>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  // Debug logging\r\n  console.log('AppContent render:', { user, loading, currentView });\r\n\r\n  // Show loading spinner while checking auth\r\n  if (loading) {\r\n    console.log('Showing loading spinner');\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-dark flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If user is authenticated, show studio\r\n  if (user) {\r\n    return (\r\n      <>\r\n        <ResponsiveLayout\r\n          header={<Header onShowSubscription={() => setShowSubscriptionModal(true)} />}\r\n          leftPanel={\r\n            <LeftPanel \r\n              currentTrack={currentTrack}\r\n              setCurrentTrack={setCurrentTrack}\r\n              isPlaying={isPlaying}\r\n              setIsPlaying={setIsPlaying}\r\n            />\r\n          }\r\n          mainPanel={\r\n            <MainPanel \r\n              currentTrack={currentTrack}\r\n              isPlaying={isPlaying}\r\n            />\r\n          }\r\n          rightPanel={<RightPanel />}\r\n        />\r\n\r\n        {/* Subscription Modal */}\r\n        <SubscriptionModal \r\n          open={showSubscriptionModal}\r\n          onOpenChange={setShowSubscriptionModal}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  // Show login page\r\n  if (currentView === \"login\") {\r\n    return <Login onBack={() => setCurrentView(\"landing\")} />;\r\n  }\r\n\r\n  // Show landing page\r\n  return <LandingPage onEnterStudio={() => setCurrentView(\"login\")} />;\r\n}\r\n\r\nexport default function App() {\r\n  console.log('App component rendering');\r\n  \r\n  return (\r\n    <AuthProvider>\r\n      <AudioEngineProvider>\r\n        <AppContent />\r\n        <Analytics />\r\n      </AudioEngineProvider>\r\n    </AuthProvider>\r\n  );\r\n}","import { createRoot } from \"react-dom/client\";\r\nimport App from \"./App.tsx\";\r\nimport \"./index.css\";\r\n\r\ncreateRoot(document.getElementById(\"root\")!).render(<App />);"],"names":["supabaseUrl","__vite_import_meta_env__","supabaseAnonKey","supabase","createClient","AuthContext","createContext","AuthProvider","children","user","setUser","useState","session","setSession","loading","setLoading","useEffect","authListener","_event","value","provider","email","password","error","useAuth","context","useContext","AudioEngineContext","AudioEngineProvider","audioRef","useRef","rafId","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","startRaf","useCallback","loop","a","stopRaf","handleLoadedMeta","handleDurationChange","handleEnded","handlePlay","handlePause","handleError","play","err","pause","stop","setVolumeLevel","newVolume","v","loadAudio","audioUrl","seekTo","time","d","t","useMemo","jsx","useAudioEngine","cn","inputs","twMerge","clsx","buttonVariants","cva","Button","className","variant","size","asChild","props","Comp","Slot","badgeVariants","Badge","Avatar","AvatarPrimitive.Root","AvatarImage","AvatarPrimitive.Image","AvatarFallback","AvatarPrimitive.Fallback","Header","onShowSubscription","signOut","jsxs","Brain","Zap","Settings","_a","User","_b","LogOut","HapticButton","hapticType","onClick","triggerHaptic","handleClick","e","Slider","defaultValue","min","max","_values","React.useMemo","SliderPrimitive.Root","SliderPrimitive.Track","SliderPrimitive.Range","_","index","SliderPrimitive.Thumb","HapticSlider","onValueChange","handleValueChange","Card","CardHeader","CardTitle","CardContent","Progress","ProgressPrimitive.Root","ProgressPrimitive.Indicator","ChordCraftDecoder","code","metaMatch","meta","chordsMatch","chords","audioMatch","audio","audioStr","formatMatch","srMatch","channelsMatch","shaMatch","chunksMatch","chunkSizeMatch","neuralMatch","neural","neuralStr","modelMatch","tokensMatch","compressionMatch","flacData","neuralTokens","chunks","i","match","b64Data","binaryString","bytes","hashBuffer","b","song","audioBuffer","source","tokens","sampleRate","buffer","channelData","tokenIndex","token","frequency","lossless","total","chordCraftDecoder","SimpleFileUpload","onUpload","isDragging","setIsDragging","isUploading","setIsUploading","uploadProgress","setUploadProgress","fileInputRef","backendUrl","validFile","f","handleDragOver","handleDragLeave","handleDrop","files","handleFileUpload","handleFileSelect","handleFileChange","file","fd","url","xhr","resolve","reject","ev","body","strategy","uploadResult","motion","AnimatePresence","Loader2","FileAudio","Upload","Music","ScrollArea","React.forwardRef","ref","ScrollAreaPrimitive.Root","ScrollAreaPrimitive.Viewport","ScrollBar","ScrollAreaPrimitive.Corner","orientation","ScrollAreaPrimitive.ScrollAreaScrollbar","ScrollAreaPrimitive.ScrollAreaThumb","LeftPanel","currentTrack","setCurrentTrack","tracks","setTracks","result","newTrack","toggleMute","trackId","track","toggleSolo","updateVolume","VolumeX","Volume2","EnhancedTransportControls","onPlayPause","onStop","onNext","onPrevious","totalTime","zoom","onZoomChange","isRecording","setIsRecording","showBeatPulse","setShowBeatPulse","interval","formatTime","seconds","mins","secs","SkipBack","Pause","Play","Square","SkipForward","Clock","ProfessionalPianoRoll","notes","onNoteClick","onNoteMove","onNoteResize","draggedNote","setDraggedNote","resizingNote","setResizingNote","dragOffset","setDragOffset","gridRef","allNotes","noteIndex","note","isSharpNote","handleTouchStart","touch","rect","handleMouseDown","handlePointerMove","gridRect","relativeX","relativeY","timePerPixel","newStart","noteHeight","newNote","handlePointerUp","gridWidth","pixelsPerSecond","isBarLine","isBeatLine","noteIdx","top","left","width","height","MainPanel","audioEngine","setZoom","playbackState","setPlaybackState","safeAudioEngine","generateSampleAudio","audioContext","oscillator","gainNode","mockNotes","handlePlayPause","newPlaybackState","handleStop","handleNext","handlePrevious","noteId","newDuration","Tabs","TabsPrimitive.Root","TabsList","TabsPrimitive.List","TabsTrigger","TabsPrimitive.Trigger","TabsContent","TabsPrimitive.Content","Input","type","AICompanion","messages","setMessages","inputValue","setInputValue","isThinking","setIsThinking","scrollAreaRef","viewport","handleSendMessage","userMessage","prev","aiResponses","response","aiMessage","handleKeyPress","Sparkles","message","Send","CodeEditor","locked","Lock","Copy","Download","MusicAnalysis","analysisData","BarChart3","TrendingUp","chord","scale","RightPanel","activeTab","setActiveTab","Code","Dialog","DialogPrimitive.Root","DialogPortal","DialogPrimitive.Portal","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","DialogPrimitive.Close","XIcon","DialogHeader","DialogTitle","DialogPrimitive.Title","SubscriptionModal","open","onOpenChange","proFeatures","handleUpgrade","Crown","X","feature","Check","LandingPage","onEnterStudio","currentFeature","setCurrentFeature","isDAWPreviewVisible","setIsDAWPreviewVisible","heroRef","featuresRef","testimonialsRef","ctaFunnelRef","scrollY","useScroll","backgroundY","useTransform","heroOpacity","useInView","isFeaturesInView","isTestimonialsInView","isCTAInView","features","Activity","testimonials","ctaSteps","ArrowRight","ChevronDown","testimonial","Quote","Star","step","Label","LabelPrimitive.Root","Separator","decorative","SeparatorPrimitive.Root","Login","onBack","signInWithEmail","signInWithOAuth","isSignUp","setIsSignUp","setEmail","setPassword","setError","handleSubmit","handleGoogleSignIn","handleGitHubSignIn","ArrowLeft","Mail","Github","ResponsiveLayout","header","leftPanel","mainPanel","rightPanel","isMobile","setIsMobile","leftPanelOpen","setLeftPanelOpen","rightPanelOpen","setRightPanelOpen","checkDevice","Menu","Fragment","AppContent","currentView","setCurrentView","showSubscriptionModal","setShowSubscriptionModal","App","Analytics","createRoot"],"mappings":"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"}